<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff core/org.openjdk.jmc.agent/src/test/java/org/openjdk/jmc/agent/test/InstrumentMe.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../main/java/org/openjdk/jmc/agent/util/TypeUtils.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="TestDefineEventProbes.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>core/org.openjdk.jmc.agent/src/test/java/org/openjdk/jmc/agent/test/InstrumentMe.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3  * 
  4  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  5  *
  6  * The contents of this file are subject to the terms of either the Universal Permissive License
  7  * v 1.0 as shown at http://oss.oracle.com/licenses/upl
  8  *
  9  * or the following license:
 10  *
 11  * Redistribution and use in source and binary forms, with or without modification, are permitted
 12  * provided that the following conditions are met:
 13  * 
 14  * 1. Redistributions of source code must retain the above copyright notice, this list of conditions
 15  * and the following disclaimer.
 16  * 
 17  * 2. Redistributions in binary form must reproduce the above copyright notice, this list of
 18  * conditions and the following disclaimer in the documentation and/or other materials provided with
 19  * the distribution.
 20  * 
 21  * 3. Neither the name of the copyright holder nor the names of its contributors may be used to
 22  * endorse or promote products derived from this software without specific prior written permission.
</pre>
<hr />
<pre>
 24  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR
 25  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 26  * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 27  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 28  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 29  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 30  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
 31  * WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 32  */
 33 package org.openjdk.jmc.agent.test;
 34 
 35 import java.io.IOException;
 36 import java.util.ArrayList;
 37 import java.util.Arrays;
 38 import java.util.Collection;
 39 import java.util.List;
 40 
 41 import org.openjdk.jmc.agent.test.util.TestToolkit;
 42 
 43 public class InstrumentMe {



















 44 	public static void main(String[] args) throws InterruptedException, IOException {
 45 		Thread runner = new Thread(new Runner(), &quot;InstrumentMe Runner&quot;);
 46 		runner.setDaemon(true);
 47 		System.out.println(&quot;Press &lt;enter&gt; at any time to quit&quot;);
 48 		System.out.println(&quot;Now starting looping through the instrumentation examples&quot;);
 49 		runner.start();
 50 		System.in.read();
 51 	}
 52 
 53 	private final static class Runner implements Runnable {
 54 		public void run() {
 55 			InstrumentMe instance = new InstrumentMe();
 56 			while (true) {
 57 				try {
 58 					InstrumentMe.runStatic();
 59 					InstrumentMe.runInstance(instance);
 60 				} catch (InterruptedException e) {
 61 				}
 62 			}
 63 		}
</pre>
<hr />
<pre>
 75 		instance.printInstanceHelloWorldJFR3(Gurka.createGurka());
 76 		instance.printInstanceHelloWorldJFR4(new Gurka[] {Gurka.createGurka(), Gurka.createGurka()});
 77 		instance.printInstanceHelloWorldJFR5(createGurkList());
 78 		instance.printInstanceHelloWorldJFR6();
 79 		instance.printInstanceHelloWorldJFR7();
 80 		try {
 81 			instance.printInstanceHelloWorldJFR8();
 82 		} catch (RuntimeException e) {
 83 			System.out.println(&quot;#IJFR8. Caught a RuntimeException: &quot; + e.getMessage());
 84 		}
 85 		try {
 86 			instance.printInstanceHelloWorldJFR9();
 87 		} catch (RuntimeException e) {
 88 			System.out.println(&quot;#IJFR9. Caught a RuntimeException: &quot; + e.getMessage());
 89 		}
 90 		try {
 91 			instance.printInstanceHelloWorldJFR10();
 92 		} catch (RuntimeException e) {
 93 			System.out.println(&quot;#IJFR10. Caught a RuntimeException: &quot; + e.getMessage());
 94 		}


 95 	}
 96 
 97 	private static void runStatic() throws InterruptedException {
 98 		System.out.println(&quot;Running static versions...&quot;); //$NON-NLS-1$
 99 		printHelloWorld1();
100 		printHelloWorld2(TestToolkit.randomString(), TestToolkit.randomLong());
101 		printHelloWorld3(Gurka.createGurka());
102 		printHelloWorld4(new Gurka[] {Gurka.createGurka(), Gurka.createGurka()});
103 		printHelloWorld5(createGurkList());
104 		printHelloWorldJFR1();
105 		printHelloWorldJFR2(TestToolkit.randomString(), TestToolkit.randomLong());
106 		printHelloWorldJFR3(Gurka.createGurka());
107 		printHelloWorldJFR4(new Gurka[] {Gurka.createGurka(), Gurka.createGurka()});
108 		printHelloWorldJFR5(createGurkList());
109 		printHelloWorldJFR6();
110 		printHelloWorldJFR7();
111 		try {
112 			printHelloWorldJFR8();
113 		} catch (RuntimeException e) {
<span class="line-modified">114 			System.out.println(&quot;#IJFR8. Caught a RuntimeException: &quot; + e.getMessage());</span>
115 		}
116 		try {
117 			printHelloWorldJFR9();
118 		} catch (RuntimeException e) {
<span class="line-modified">119 			System.out.println(&quot;#IJFR9. Caught a RuntimeException: &quot; + e.getMessage());</span>
120 		}
121 		try {
122 			printHelloWorldJFR10();
123 		} catch (RuntimeException e) {
<span class="line-modified">124 			System.out.println(&quot;#IJFR10. Caught a RuntimeException: &quot; + e.getMessage());</span>
125 		}



126 	}
127 
128 	private static Collection&lt;Gurka&gt; createGurkList() {
129 		List&lt;Gurka&gt; gurkList = new ArrayList&lt;&gt;();
130 		for (int i = 0; i &lt; TestToolkit.RND.nextInt(4) + 1; i++) {
131 			gurkList.add(Gurka.createGurka());
132 		}
133 		return gurkList;
134 	}
135 
136 	public static void printHelloWorld1() throws InterruptedException {
137 		System.out.println(&quot;#S1. Hello World!&quot;); //$NON-NLS-1$
138 		Thread.sleep(1000);
139 	}
140 
141 	public static int printHelloWorld2(String str, long l) throws InterruptedException {
142 		int returnval = TestToolkit.RND.nextInt(45);
143 		System.out.println(String.format(&quot;#S2. Str:%s long:%d retval:%d&quot;, str, l, returnval)); //$NON-NLS-1$
144 		Thread.sleep(1000);
145 		return returnval;
</pre>
<hr />
<pre>
187 		Thread.sleep(1000);
188 	}
189 
190 	public static double printHelloWorldJFR6() throws InterruptedException {
191 		double returnval = TestToolkit.RND.nextDouble() * 100;
192 		System.out.println(String.format(&quot;#SJFR6. retval:%3.3f&quot;, returnval)); //$NON-NLS-1$
193 		Thread.sleep(1000);
194 		return returnval;
195 	}
196 
197 	public static void printHelloWorldJFR7() throws InterruptedException {
198 		try {
199 			System.out.println(&quot;#SJFR7. Hello World!&quot;); //$NON-NLS-1$
200 			Thread.sleep(1000);
201 		} catch (Exception e) {
202 			// intentionally empty
203 		}
204 	}
205 
206 	public static void printHelloWorldJFR8() throws InterruptedException {
<span class="line-modified">207 		System.out.println(&quot;#IJFR8. About to throw a RuntimeException&quot;); //$NON-NLS-1$</span>
208 		Thread.sleep(1000);
209 		(new ArrayList&lt;&gt;()).get(1);
210 	}
211 
212 	public static void printHelloWorldJFR9() throws InterruptedException {
<span class="line-modified">213 		System.out.println(&quot;#IJFR9. About to throw a RuntimeException&quot;); //$NON-NLS-1$</span>
214 		Thread.sleep(1000);
215 		(new ArrayList&lt;&gt;()).get(1);
216 	}
217 
218 	public static void printHelloWorldJFR10() throws InterruptedException {
<span class="line-modified">219 		System.out.println(&quot;#IJFR10. About to throw a RuntimeException&quot;); //$NON-NLS-1$</span>
220 		Thread.sleep(1000);
221 
222 		try {
223 			(new ArrayList&lt;&gt;()).get(1);
224 		} catch (RuntimeException e) {
<span class="line-modified">225 			System.out.println(&quot;#IJFR10. Caught a RuntimeException: &quot; + e.getMessage()); //$NON-NLS-1$</span>
226 			throw e;
227 		}
228 	}
229 















230 	public void printInstanceHelloWorld1() throws InterruptedException {
231 		System.out.println(&quot;#I1. Hello World!&quot;); //$NON-NLS-1$
232 		Thread.sleep(1000);
233 	}
234 
235 	public int printInstanceHelloWorld2(String str, long l) throws InterruptedException {
236 		int returnval = TestToolkit.RND.nextInt(45);
237 		System.out.println(String.format(&quot;#I2. Str:%s long:%d retval:%d&quot;, str, l, returnval)); //$NON-NLS-1$
238 		Thread.sleep(1000);
239 		return returnval;
240 	}
241 
242 	public void printInstanceHelloWorld3(Gurka gurka) throws InterruptedException {
243 		System.out.println(String.format(&quot;#I3. Got a gurka with id: %d&quot;, gurka.getID())); //$NON-NLS-1$
244 		Thread.sleep(1000);
245 	}
246 
247 	public void printInstanceHelloWorld4(Gurka[] gurkor) throws InterruptedException {
248 		System.out.println(String.format(&quot;#I4. Got gurkor: %s&quot;, Arrays.toString(gurkor))); //$NON-NLS-1$
249 		Thread.sleep(1000);
</pre>
<hr />
<pre>
303 		(new ArrayList&lt;&gt;()).get(1);
304 	}
305 
306 	public void printInstanceHelloWorldJFR9() throws InterruptedException {
307 		System.out.println(&quot;#IJFR9. About to throw a RuntimeException&quot;); //$NON-NLS-1$
308 		Thread.sleep(1000);
309 		(new ArrayList&lt;&gt;()).get(1);
310 	}
311 
312 	public void printInstanceHelloWorldJFR10() throws InterruptedException {
313 		System.out.println(&quot;#IJFR10. About to throw a RuntimeException&quot;); //$NON-NLS-1$
314 		Thread.sleep(1000);
315 
316 		try {
317 			(new ArrayList&lt;&gt;()).get(1);
318 		} catch (RuntimeException e) {
319 			System.out.println(&quot;#IJFR10. Caught a RuntimeException: &quot; + e.getMessage()); //$NON-NLS-1$
320 			throw e;
321 		}
322 	}










323 }
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2018, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * 
  4  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  5  *
  6  * The contents of this file are subject to the terms of either the Universal Permissive License
  7  * v 1.0 as shown at http://oss.oracle.com/licenses/upl
  8  *
  9  * or the following license:
 10  *
 11  * Redistribution and use in source and binary forms, with or without modification, are permitted
 12  * provided that the following conditions are met:
 13  * 
 14  * 1. Redistributions of source code must retain the above copyright notice, this list of conditions
 15  * and the following disclaimer.
 16  * 
 17  * 2. Redistributions in binary form must reproduce the above copyright notice, this list of
 18  * conditions and the following disclaimer in the documentation and/or other materials provided with
 19  * the distribution.
 20  * 
 21  * 3. Neither the name of the copyright holder nor the names of its contributors may be used to
 22  * endorse or promote products derived from this software without specific prior written permission.
</pre>
<hr />
<pre>
 24  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR
 25  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 26  * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 27  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 28  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 29  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 30  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
 31  * WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 32  */
 33 package org.openjdk.jmc.agent.test;
 34 
 35 import java.io.IOException;
 36 import java.util.ArrayList;
 37 import java.util.Arrays;
 38 import java.util.Collection;
 39 import java.util.List;
 40 
 41 import org.openjdk.jmc.agent.test.util.TestToolkit;
 42 
 43 public class InstrumentMe {
<span class="line-added"> 44 	public static final String STATIC_STRING_FIELD = &quot;org.openjdk.jmc.agent.test.InstrumentMe.STATIC_STRING_FIELD&quot;;</span>
<span class="line-added"> 45 	public static final MyPojo STATIC_OBJECT_FIELD = new MyPojo();</span>
<span class="line-added"> 46 	public static final MyPojo STATIC_NULL_FIELD = null;</span>
<span class="line-added"> 47 </span>
<span class="line-added"> 48 	public final String instanceStringField = &quot;org.openjdk.jmc.agent.test.InstrumentMe.instanceStringField&quot;;</span>
<span class="line-added"> 49 </span>
<span class="line-added"> 50 	public static class MyPojo { </span>
<span class="line-added"> 51 		public String instanceStringField = &quot;org.openjdk.jmc.agent.test.InstrumentMe.MyPojo.instanceStringField&quot;;</span>
<span class="line-added"> 52 		public static String STATIC_STRING_FIELD = &quot;org.openjdk.jmc.agent.test.InstrumentMe.MyPojo.STATIC_STRING_FIELD&quot;;</span>
<span class="line-added"> 53 	}</span>
<span class="line-added"> 54 	</span>
<span class="line-added"> 55 	public class MyInnerClass extends InstrumentMe{</span>
<span class="line-added"> 56 		private final String innerClassField = &quot;org.openjdk.jmc.agent.test.InstrumentMe.MyInnerClass.innerClassField&quot;;</span>
<span class="line-added"> 57 </span>
<span class="line-added"> 58 		public void instrumentationPoint() {</span>
<span class="line-added"> 59 			// no op</span>
<span class="line-added"> 60 		}</span>
<span class="line-added"> 61 	}</span>
<span class="line-added"> 62 </span>
 63 	public static void main(String[] args) throws InterruptedException, IOException {
 64 		Thread runner = new Thread(new Runner(), &quot;InstrumentMe Runner&quot;);
 65 		runner.setDaemon(true);
 66 		System.out.println(&quot;Press &lt;enter&gt; at any time to quit&quot;);
 67 		System.out.println(&quot;Now starting looping through the instrumentation examples&quot;);
 68 		runner.start();
 69 		System.in.read();
 70 	}
 71 
 72 	private final static class Runner implements Runnable {
 73 		public void run() {
 74 			InstrumentMe instance = new InstrumentMe();
 75 			while (true) {
 76 				try {
 77 					InstrumentMe.runStatic();
 78 					InstrumentMe.runInstance(instance);
 79 				} catch (InterruptedException e) {
 80 				}
 81 			}
 82 		}
</pre>
<hr />
<pre>
 94 		instance.printInstanceHelloWorldJFR3(Gurka.createGurka());
 95 		instance.printInstanceHelloWorldJFR4(new Gurka[] {Gurka.createGurka(), Gurka.createGurka()});
 96 		instance.printInstanceHelloWorldJFR5(createGurkList());
 97 		instance.printInstanceHelloWorldJFR6();
 98 		instance.printInstanceHelloWorldJFR7();
 99 		try {
100 			instance.printInstanceHelloWorldJFR8();
101 		} catch (RuntimeException e) {
102 			System.out.println(&quot;#IJFR8. Caught a RuntimeException: &quot; + e.getMessage());
103 		}
104 		try {
105 			instance.printInstanceHelloWorldJFR9();
106 		} catch (RuntimeException e) {
107 			System.out.println(&quot;#IJFR9. Caught a RuntimeException: &quot; + e.getMessage());
108 		}
109 		try {
110 			instance.printInstanceHelloWorldJFR10();
111 		} catch (RuntimeException e) {
112 			System.out.println(&quot;#IJFR10. Caught a RuntimeException: &quot; + e.getMessage());
113 		}
<span class="line-added">114 		instance.printInstanceHelloWorldJFR11();</span>
<span class="line-added">115 		instance.printInstanceHelloWorldJFR12();</span>
116 	}
117 
118 	private static void runStatic() throws InterruptedException {
119 		System.out.println(&quot;Running static versions...&quot;); //$NON-NLS-1$
120 		printHelloWorld1();
121 		printHelloWorld2(TestToolkit.randomString(), TestToolkit.randomLong());
122 		printHelloWorld3(Gurka.createGurka());
123 		printHelloWorld4(new Gurka[] {Gurka.createGurka(), Gurka.createGurka()});
124 		printHelloWorld5(createGurkList());
125 		printHelloWorldJFR1();
126 		printHelloWorldJFR2(TestToolkit.randomString(), TestToolkit.randomLong());
127 		printHelloWorldJFR3(Gurka.createGurka());
128 		printHelloWorldJFR4(new Gurka[] {Gurka.createGurka(), Gurka.createGurka()});
129 		printHelloWorldJFR5(createGurkList());
130 		printHelloWorldJFR6();
131 		printHelloWorldJFR7();
132 		try {
133 			printHelloWorldJFR8();
134 		} catch (RuntimeException e) {
<span class="line-modified">135 			System.out.println(&quot;#SJFR8. Caught a RuntimeException: &quot; + e.getMessage());</span>
136 		}
137 		try {
138 			printHelloWorldJFR9();
139 		} catch (RuntimeException e) {
<span class="line-modified">140 			System.out.println(&quot;#SJFR9. Caught a RuntimeException: &quot; + e.getMessage());</span>
141 		}
142 		try {
143 			printHelloWorldJFR10();
144 		} catch (RuntimeException e) {
<span class="line-modified">145 			System.out.println(&quot;#SJFR10. Caught a RuntimeException: &quot; + e.getMessage());</span>
146 		}
<span class="line-added">147 		printHelloWorldJFR11();</span>
<span class="line-added">148 		printHelloWorldJFR12();</span>
<span class="line-added">149 		printHelloWorldJFR13();</span>
150 	}
151 
152 	private static Collection&lt;Gurka&gt; createGurkList() {
153 		List&lt;Gurka&gt; gurkList = new ArrayList&lt;&gt;();
154 		for (int i = 0; i &lt; TestToolkit.RND.nextInt(4) + 1; i++) {
155 			gurkList.add(Gurka.createGurka());
156 		}
157 		return gurkList;
158 	}
159 
160 	public static void printHelloWorld1() throws InterruptedException {
161 		System.out.println(&quot;#S1. Hello World!&quot;); //$NON-NLS-1$
162 		Thread.sleep(1000);
163 	}
164 
165 	public static int printHelloWorld2(String str, long l) throws InterruptedException {
166 		int returnval = TestToolkit.RND.nextInt(45);
167 		System.out.println(String.format(&quot;#S2. Str:%s long:%d retval:%d&quot;, str, l, returnval)); //$NON-NLS-1$
168 		Thread.sleep(1000);
169 		return returnval;
</pre>
<hr />
<pre>
211 		Thread.sleep(1000);
212 	}
213 
214 	public static double printHelloWorldJFR6() throws InterruptedException {
215 		double returnval = TestToolkit.RND.nextDouble() * 100;
216 		System.out.println(String.format(&quot;#SJFR6. retval:%3.3f&quot;, returnval)); //$NON-NLS-1$
217 		Thread.sleep(1000);
218 		return returnval;
219 	}
220 
221 	public static void printHelloWorldJFR7() throws InterruptedException {
222 		try {
223 			System.out.println(&quot;#SJFR7. Hello World!&quot;); //$NON-NLS-1$
224 			Thread.sleep(1000);
225 		} catch (Exception e) {
226 			// intentionally empty
227 		}
228 	}
229 
230 	public static void printHelloWorldJFR8() throws InterruptedException {
<span class="line-modified">231 		System.out.println(&quot;#SJFR8. About to throw a RuntimeException&quot;); //$NON-NLS-1$</span>
232 		Thread.sleep(1000);
233 		(new ArrayList&lt;&gt;()).get(1);
234 	}
235 
236 	public static void printHelloWorldJFR9() throws InterruptedException {
<span class="line-modified">237 		System.out.println(&quot;#SJFR9. About to throw a RuntimeException&quot;); //$NON-NLS-1$</span>
238 		Thread.sleep(1000);
239 		(new ArrayList&lt;&gt;()).get(1);
240 	}
241 
242 	public static void printHelloWorldJFR10() throws InterruptedException {
<span class="line-modified">243 		System.out.println(&quot;#SJFR10. About to throw a RuntimeException&quot;); //$NON-NLS-1$</span>
244 		Thread.sleep(1000);
245 
246 		try {
247 			(new ArrayList&lt;&gt;()).get(1);
248 		} catch (RuntimeException e) {
<span class="line-modified">249 			System.out.println(&quot;#SJFR10. Caught a RuntimeException: &quot; + e.getMessage()); //$NON-NLS-1$</span>
250 			throw e;
251 		}
252 	}
253 
<span class="line-added">254 	public static void printHelloWorldJFR11() throws InterruptedException {</span>
<span class="line-added">255 		System.out.println(&quot;#SJFR11. Capturing static field &#39;STATIC_STRING_FIELD&#39;&quot;); //$NON-NLS-1$</span>
<span class="line-added">256 		Thread.sleep(1000);</span>
<span class="line-added">257 	}</span>
<span class="line-added">258 </span>
<span class="line-added">259 	public static void printHelloWorldJFR12() throws InterruptedException {</span>
<span class="line-added">260 		System.out.println(&quot;#SJFR12. Capturing &#39;STATIC_OBJECT_FIELD.STATIC_STRING_FIELD&#39; and &#39;STATIC_OBJECT_FIELD.instanceStringField&#39;&quot;); //$NON-NLS-1$</span>
<span class="line-added">261 		Thread.sleep(1000);</span>
<span class="line-added">262 	}</span>
<span class="line-added">263 </span>
<span class="line-added">264 	public static void printHelloWorldJFR13() throws InterruptedException {</span>
<span class="line-added">265 		System.out.println(&quot;#SJFR13. Capturing &#39;STATIC_NULL_FIELD.STATIC_STRING_FIELD&#39; and &#39;STATIC_NULL_FIELD.instanceStringField&#39;&quot;); //$NON-NLS-1$</span>
<span class="line-added">266 		Thread.sleep(1000);</span>
<span class="line-added">267 	}</span>
<span class="line-added">268 </span>
269 	public void printInstanceHelloWorld1() throws InterruptedException {
270 		System.out.println(&quot;#I1. Hello World!&quot;); //$NON-NLS-1$
271 		Thread.sleep(1000);
272 	}
273 
274 	public int printInstanceHelloWorld2(String str, long l) throws InterruptedException {
275 		int returnval = TestToolkit.RND.nextInt(45);
276 		System.out.println(String.format(&quot;#I2. Str:%s long:%d retval:%d&quot;, str, l, returnval)); //$NON-NLS-1$
277 		Thread.sleep(1000);
278 		return returnval;
279 	}
280 
281 	public void printInstanceHelloWorld3(Gurka gurka) throws InterruptedException {
282 		System.out.println(String.format(&quot;#I3. Got a gurka with id: %d&quot;, gurka.getID())); //$NON-NLS-1$
283 		Thread.sleep(1000);
284 	}
285 
286 	public void printInstanceHelloWorld4(Gurka[] gurkor) throws InterruptedException {
287 		System.out.println(String.format(&quot;#I4. Got gurkor: %s&quot;, Arrays.toString(gurkor))); //$NON-NLS-1$
288 		Thread.sleep(1000);
</pre>
<hr />
<pre>
342 		(new ArrayList&lt;&gt;()).get(1);
343 	}
344 
345 	public void printInstanceHelloWorldJFR9() throws InterruptedException {
346 		System.out.println(&quot;#IJFR9. About to throw a RuntimeException&quot;); //$NON-NLS-1$
347 		Thread.sleep(1000);
348 		(new ArrayList&lt;&gt;()).get(1);
349 	}
350 
351 	public void printInstanceHelloWorldJFR10() throws InterruptedException {
352 		System.out.println(&quot;#IJFR10. About to throw a RuntimeException&quot;); //$NON-NLS-1$
353 		Thread.sleep(1000);
354 
355 		try {
356 			(new ArrayList&lt;&gt;()).get(1);
357 		} catch (RuntimeException e) {
358 			System.out.println(&quot;#IJFR10. Caught a RuntimeException: &quot; + e.getMessage()); //$NON-NLS-1$
359 			throw e;
360 		}
361 	}
<span class="line-added">362 </span>
<span class="line-added">363 	public void printInstanceHelloWorldJFR11() throws InterruptedException {</span>
<span class="line-added">364 		System.out.println(&quot;#IJFR11. Capturing instance field &#39;instanceStringField&#39;&quot;); //$NON-NLS-1$</span>
<span class="line-added">365 		Thread.sleep(1000);</span>
<span class="line-added">366 	}</span>
<span class="line-added">367 	</span>
<span class="line-added">368 	public void printInstanceHelloWorldJFR12() throws InterruptedException {</span>
<span class="line-added">369 		System.out.println(&quot;#IJFR12. Capturing fields from nested class &#39;InstrumentMe.MyInnerClass&#39;&quot;); //$NON-NLS-1$</span>
<span class="line-added">370 		new MyInnerClass().instrumentationPoint();</span>
<span class="line-added">371 	}</span>
372 }
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../main/java/org/openjdk/jmc/agent/util/TypeUtils.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="TestDefineEventProbes.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>