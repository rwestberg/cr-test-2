<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.graphics/src/main/native-glass/gtk/GlassCursor.cpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="GlassApplication.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="GlassView.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-glass/gtk/GlassCursor.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2011, 2014, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2011, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 29,149 ***</span>
  #include &lt;jni.h&gt;
  
  #include &quot;com_sun_glass_ui_Cursor.h&quot;
  #include &quot;glass_general.h&quot;
  
  GdkCursor* get_native_cursor(int type)
  {
      GdkCursor *cursor = NULL;
      switch (type) {
          case com_sun_glass_ui_Cursor_CURSOR_DEFAULT:
<span class="line-modified">!             cursor = gdk_cursor_new(GDK_LEFT_PTR);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_TEXT:
<span class="line-modified">!             cursor = gdk_cursor_new(GDK_XTERM);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_CROSSHAIR:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;cross&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;crosshair&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_CROSSHAIR);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_CLOSED_HAND:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;closedhand&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_HAND2);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_OPEN_HAND:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;openhand&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_HAND2);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_POINTING_HAND:
              cursor = gdk_cursor_new(GDK_HAND2);
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_UP:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;n-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;ns-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_ver&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_TOP_SIDE);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_DOWN:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;s-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;ns-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_ver&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_BOTTOM_SIDE);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_UPDOWN:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;ns-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_ver&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_SB_V_DOUBLE_ARROW);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_LEFT:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;w-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;ew-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_hor&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_LEFT_SIDE);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_RIGHT:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;e-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;ew-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_hor&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_RIGHT_SIDE);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_LEFTRIGHT:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;ew-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_hor&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_SB_H_DOUBLE_ARROW);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_SOUTHWEST:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;sw-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;nesw-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_bdiag&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_BOTTOM_LEFT_CORNER);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_NORTHEAST:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;ne-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;nesw-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_bdiag&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_TOP_RIGHT_CORNER);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_SOUTHEAST:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;se-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;nwse-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_fdiag&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_BOTTOM_RIGHT_CORNER);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_NORTHWEST:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;nw-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;nwse-resize&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;size_fdiag&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_TOP_LEFT_CORNER);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_MOVE:
<span class="line-modified">!             cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;fleur&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;move&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;all-scroll&quot;);</span>
<span class="line-removed">-             if (cursor == NULL)</span>
<span class="line-removed">-                 cursor = gdk_cursor_new(GDK_SIZING);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_WAIT:
<span class="line-modified">!             cursor = gdk_cursor_new(GDK_WATCH);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_DISAPPEAR:
          case com_sun_glass_ui_Cursor_CURSOR_NONE:
<span class="line-modified">!             cursor = gdk_cursor_new(GDK_BLANK_CURSOR);</span>
              break;
          default:
<span class="line-modified">!             cursor = gdk_cursor_new(GDK_LEFT_PTR);</span>
              break;
      }
  
      return cursor;
  }
  
  extern &quot;C&quot; {
  
  /*
   * Class:     com_sun_glass_ui_gtk_GtkCursor
<span class="line-new-header">--- 29,187 ---</span>
  #include &lt;jni.h&gt;
  
  #include &quot;com_sun_glass_ui_Cursor.h&quot;
  #include &quot;glass_general.h&quot;
  
<span class="line-added">+ #ifndef GLASS_GTK3</span>
<span class="line-added">+ static GdkCursor* find_best_cursor(const gchar* options, GdkCursorType type) {</span>
<span class="line-added">+     gchar **opts = g_strsplit(options, &quot;,&quot;, -1);</span>
<span class="line-added">+     gint size = g_strv_length(opts);</span>
<span class="line-added">+ </span>
<span class="line-added">+     GdkCursor *cursor = NULL;</span>
<span class="line-added">+ </span>
<span class="line-added">+     for (int i = 0; i &lt; size; i++) {</span>
<span class="line-added">+         cursor = gdk_cursor_new_from_name(gdk_display_get_default(), opts[i]);</span>
<span class="line-added">+ </span>
<span class="line-added">+         if (cursor != NULL) {</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         }</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     g_strfreev(opts);</span>
<span class="line-added">+ </span>
<span class="line-added">+     if (cursor != NULL) {</span>
<span class="line-added">+         return cursor;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     return gdk_cursor_new_for_display(gdk_display_get_default(), type);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
  GdkCursor* get_native_cursor(int type)
  {
      GdkCursor *cursor = NULL;
      switch (type) {
          case com_sun_glass_ui_Cursor_CURSOR_DEFAULT:
<span class="line-modified">!             cursor = find_best_cursor(&quot;default&quot;, GDK_LEFT_PTR);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_TEXT:
<span class="line-modified">!             cursor = find_best_cursor(&quot;text&quot;, GDK_XTERM);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_CROSSHAIR:
<span class="line-modified">!             cursor = find_best_cursor(&quot;cross,crosshair&quot;, GDK_CROSSHAIR);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_CLOSED_HAND:
<span class="line-modified">!             cursor = find_best_cursor(&quot;closedhand&quot;, GDK_HAND2);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_OPEN_HAND:
<span class="line-modified">!             cursor = find_best_cursor(&quot;openhand&quot;, GDK_HAND2);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_POINTING_HAND:
              cursor = gdk_cursor_new(GDK_HAND2);
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_UP:
<span class="line-modified">!             cursor = find_best_cursor(&quot;n-resize,ns-resize,size_ver&quot;, GDK_TOP_SIDE);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_DOWN:
<span class="line-modified">!             cursor = find_best_cursor(&quot;s-resize,ns-resize,size_ver&quot;, GDK_BOTTOM_SIDE);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_UPDOWN:
<span class="line-modified">!             cursor = find_best_cursor(&quot;ns-resize,ew-resize,size_ver&quot;, GDK_SB_V_DOUBLE_ARROW);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_LEFT:
<span class="line-modified">!             cursor = find_best_cursor(&quot;w-resize,ew-resize,size_hor&quot;, GDK_LEFT_SIDE);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_RIGHT:
<span class="line-modified">!             cursor = find_best_cursor(&quot;e-resize,ew-resize,size_hor&quot;, GDK_RIGHT_SIDE);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_LEFTRIGHT:
<span class="line-modified">!             cursor = find_best_cursor(&quot;ew-resize,size_hor&quot;, GDK_SB_H_DOUBLE_ARROW);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_SOUTHWEST:
<span class="line-modified">!             cursor = find_best_cursor(&quot;sw-resize,nesw-resize,size_bdiag&quot;, GDK_BOTTOM_LEFT_CORNER);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_NORTHEAST:
<span class="line-modified">!             cursor = find_best_cursor(&quot;ne-resize,nesw-resize,size_bdiag&quot;, GDK_TOP_RIGHT_CORNER);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_SOUTHEAST:
<span class="line-modified">!             cursor = find_best_cursor(&quot;se-resize,nwse-resize,size_fdiag&quot;, GDK_BOTTOM_RIGHT_CORNER);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_RESIZE_NORTHWEST:
<span class="line-modified">!             cursor = find_best_cursor(&quot;nw-resize,nwse-resize,size_fdiag&quot;, GDK_TOP_LEFT_CORNER);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_MOVE:
<span class="line-modified">!             cursor = find_best_cursor(&quot;fleur,move,alt-scroll&quot;, GDK_SIZING);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_WAIT:
<span class="line-modified">!             cursor = find_best_cursor(&quot;wait&quot;, GDK_WATCH);</span>
              break;
          case com_sun_glass_ui_Cursor_CURSOR_DISAPPEAR:
          case com_sun_glass_ui_Cursor_CURSOR_NONE:
<span class="line-modified">!             cursor = find_best_cursor(&quot;none&quot;, GDK_BLANK_CURSOR);</span>
              break;
          default:
<span class="line-modified">!             cursor = find_best_cursor(&quot;default&quot;, GDK_LEFT_PTR);</span>
              break;
      }
  
<span class="line-added">+     if (cursor == NULL) {</span>
<span class="line-added">+         cursor = find_best_cursor(&quot;default&quot;, GDK_LEFT_PTR);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     return cursor;</span>
<span class="line-added">+ }</span>
<span class="line-added">+ #else</span>
<span class="line-added">+ GdkCursor* get_native_cursor(int type)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     gchar* cursor_name = NULL;</span>
<span class="line-added">+ </span>
<span class="line-added">+     switch (type) {</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_DEFAULT:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;default&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_TEXT:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;text&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_CROSSHAIR:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;crosshair&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_CLOSED_HAND:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;grabbing&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_OPEN_HAND:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;grab&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_POINTING_HAND:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;pointer&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_UP:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;n-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_DOWN:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;s-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_UPDOWN:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;ns-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_LEFT:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;w-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_RIGHT:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;e-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_LEFTRIGHT:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;ew-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_SOUTHWEST:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;sw-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_NORTHEAST:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;ne-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_SOUTHEAST:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;se-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_RESIZE_NORTHWEST:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;nw-resize&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_MOVE:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;move&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_WAIT:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;wait&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_DISAPPEAR:</span>
<span class="line-added">+         case com_sun_glass_ui_Cursor_CURSOR_NONE:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;none&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+         default:</span>
<span class="line-added">+             cursor_name = g_strdup(&quot;default&quot;);</span>
<span class="line-added">+             break;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     GdkCursor* cursor = gdk_cursor_new_from_name(gdk_display_get_default(), cursor_name);</span>
<span class="line-added">+ </span>
<span class="line-added">+     if (cursor == NULL) {</span>
<span class="line-added">+         cursor = gdk_cursor_new_from_name(gdk_display_get_default(), &quot;default&quot;);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     g_free(cursor_name);</span>
<span class="line-added">+ </span>
      return cursor;
  }
<span class="line-added">+ #endif</span>
  
  extern &quot;C&quot; {
  
  /*
   * Class:     com_sun_glass_ui_gtk_GtkCursor
</pre>
<center><a href="GlassApplication.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="GlassView.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>