<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.media/src/main/native/jfxmedia/platform/osx/CoreAudioUtilityClasses/CoreAudio/AudioUnits/AUPublic/Utility/AUSilentTimeout.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 /*
 2 Copyright (C) 2016 Apple Inc. All Rights Reserved.
 3 See LICENSE.txt for this sampleâ€™s licensing information
 4 
 5 Abstract:
 6 Part of Core Audio AUBase Classes
 7 */
 8 
 9 #ifndef __AUSilentTimeout
10 #define __AUSilentTimeout
11 
12 class AUSilentTimeout
13 {
14 public:
15     AUSilentTimeout()
16         :   mTimeoutCounter(0),
17             mResetTimer(true)
18                 {};
19 
20     void                Process(UInt32 inFramesToProcess, UInt32 inTimeoutLimit, bool &amp;ioSilence )
21     {
22         if(ioSilence )
23         {
24             if(mResetTimer )
25             {
26                 mTimeoutCounter = inTimeoutLimit;
27                 mResetTimer = false;
28             }
29 
30             if(mTimeoutCounter &gt; 0 )
31             {
32                 mTimeoutCounter -= inFramesToProcess;
33                 ioSilence = false;
34             }
35         }
36         else
37         {
38             // signal to reset the next time we receive silence
39             mResetTimer = true;
40         }
41     }
42 
43     void                Reset()
44     {
45         mResetTimer = true;
46     };
47 
48 
49 
50 private:
51     SInt32              mTimeoutCounter;
52     bool                mResetTimer;
53 };
54 
55 #endif // __AUSilentTimeout
    </pre>
  </body>
</html>