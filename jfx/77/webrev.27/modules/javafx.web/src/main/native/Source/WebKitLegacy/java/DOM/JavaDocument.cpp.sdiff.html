<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebKitLegacy/java/DOM/JavaDocument.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JavaDOMWindow.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JavaHTMLElement.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebKitLegacy/java/DOM/JavaDocument.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  22  * or visit www.oracle.com if you need additional information or have any
  23  * questions.
  24  */
  25 
  26 #undef IMPL
  27 
  28 
  29 #include &lt;WebCore/Attr.h&gt;
  30 #include &lt;WebCore/CDATASection.h&gt;
  31 #include &lt;WebCore/CSSStyleDeclaration.h&gt;
  32 #include &lt;WebCore/Comment.h&gt;
  33 #include &lt;WebCore/DOMException.h&gt;
  34 #include &lt;WebCore/DOMImplementation.h&gt;
  35 #include &lt;WebCore/DOMWindow.h&gt;
  36 #include &lt;WebCore/Document.h&gt;
  37 #include &lt;WebCore/DocumentFragment.h&gt;
  38 #include &lt;WebCore/DocumentType.h&gt;
  39 #include &lt;WebCore/Element.h&gt;
  40 #include &lt;WebCore/Event.h&gt;
  41 #include &lt;WebCore/EventListener.h&gt;

  42 #include &lt;WebCore/HTMLCollection.h&gt;
  43 #include &lt;WebCore/HTMLElement.h&gt;
  44 #include &lt;WebCore/HTMLHeadElement.h&gt;
  45 #include &lt;WebCore/HTMLScriptElement.h&gt;
  46 #include &lt;WebCore/Node.h&gt;
  47 #include &lt;WebCore/NodeFilter.h&gt;
  48 #include &lt;WebCore/NodeIterator.h&gt;
  49 #include &lt;WebCore/NodeList.h&gt;
  50 #include &lt;WebCore/ProcessingInstruction.h&gt;
  51 #include &lt;WebCore/Range.h&gt;
  52 #include &lt;WebCore/ScrollIntoViewOptions.h&gt;
  53 #include &lt;WebCore/StyleSheetList.h&gt;
  54 #include &lt;WebCore/Text.h&gt;
  55 #include &lt;WebCore/TreeWalker.h&gt;
  56 #include &lt;WebCore/XPathExpression.h&gt;
  57 #include &lt;WebCore/XPathNSResolver.h&gt;
  58 #include &lt;WebCore/XPathResult.h&gt;
  59 #include &lt;WebCore/EventNames.h&gt;
  60 #include &lt;WebCore/JSExecState.h&gt;
  61 
</pre>
<hr />
<pre>
 310 
 311 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_DocumentImpl_setSelectedStylesheetSetImpl(JNIEnv*, jclass, jlong, jstring)
 312 {
 313 }
 314 
 315 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getActiveElementImpl(JNIEnv* env, jclass, jlong peer)
 316 {
 317     WebCore::JSMainThreadNullState state;
 318     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(IMPL-&gt;activeElement()));
 319 }
 320 
 321 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_DocumentImpl_getCompatModeImpl(JNIEnv* env, jclass, jlong peer)
 322 {
 323     WebCore::JSMainThreadNullState state;
 324     return JavaReturn&lt;String&gt;(env, IMPL-&gt;compatMode());
 325 }
 326 
 327 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitIsFullScreenImpl(JNIEnv*, jclass, jlong peer)
 328 {
 329     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 330     return IMPL-&gt;webkitIsFullScreen();</span>
 331 }
 332 
 333 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitFullScreenKeyboardInputAllowedImpl(JNIEnv*, jclass, jlong peer)
 334 {
 335     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 336     return IMPL-&gt;webkitFullScreenKeyboardInputAllowed();</span>
 337 }
 338 
 339 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitCurrentFullScreenElementImpl(JNIEnv* env, jclass, jlong peer)
 340 {
 341     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 342     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(IMPL-&gt;webkitCurrentFullScreenElement()));</span>
 343 }
 344 
 345 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitFullscreenEnabledImpl(JNIEnv*, jclass, jlong peer)
 346 {
 347     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 348     return IMPL-&gt;webkitFullscreenEnabled();</span>
 349 }
 350 
 351 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitFullscreenElementImpl(JNIEnv* env, jclass, jlong peer)
 352 {
 353     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 354     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(IMPL-&gt;webkitFullscreenElement()));</span>
 355 }
 356 
 357 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_DocumentImpl_getVisibilityStateImpl(JNIEnv* env, jclass, jlong peer)
 358 {
 359     const char* visibility {};
 360     switch (IMPL-&gt;visibilityState()) {
 361     case WebCore::VisibilityState::Hidden:
 362         visibility = &quot;hidden&quot;;
 363         break;
 364     case WebCore::VisibilityState::Visible:
 365         visibility = &quot;visible&quot;;
 366         break;
 367     case WebCore::VisibilityState::Prerender:
 368         visibility = &quot;prerender&quot;;
 369         break;
 370     }
 371     return JavaReturn&lt;String&gt;(env, String(visibility));
 372 }
 373 
 374 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_getHiddenImpl(JNIEnv*, jclass, jlong peer)
</pre>
<hr />
<pre>
1401 }
1402 
1403 
1404 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_createExpressionImpl(JNIEnv* env, jclass, jlong peer
1405     , jstring expression
1406     , jlong resolver)
1407 {
1408     WebCore::JSMainThreadNullState state;
1409     return JavaReturn&lt;XPathExpression&gt;(env, WTF::getPtr(raiseOnDOMError(env, IMPL-&gt;createExpression(String(env, expression)
1410             , static_cast&lt;XPathNSResolver*&gt;(jlong_to_ptr(resolver))))));
1411 }
1412 
1413 
1414 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_createNSResolverImpl(JNIEnv* env, jclass, jlong peer
1415     , jlong nodeResolver)
1416 {
1417     WebCore::JSMainThreadNullState state;
1418     return JavaReturn&lt;XPathNSResolver&gt;(env, WTF::getPtr(IMPL-&gt;createNSResolver(static_cast&lt;Node*&gt;(jlong_to_ptr(nodeResolver)))));
1419 }
1420 





1421 
1422 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_evaluateImpl(JNIEnv* env, jclass, jlong peer
1423     , jstring expression
1424     , jlong contextNode
1425     , jlong resolver
1426     , jshort type
1427     , jlong inResult)
1428 {
1429     WebCore::JSMainThreadNullState state;
1430     return JavaReturn&lt;XPathResult&gt;(env, WTF::getPtr(raiseOnDOMError(env, IMPL-&gt;evaluate(String(env, expression)
1431             , static_cast&lt;Node*&gt;(jlong_to_ptr(contextNode))
1432             , static_cast&lt;XPathNSResolver*&gt;(jlong_to_ptr(resolver))
1433             , type
1434             , static_cast&lt;XPathResult*&gt;(jlong_to_ptr(inResult))))));
1435 }
1436 
1437 
1438 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_execCommandImpl(JNIEnv* env, jclass, jlong peer
1439     , jstring command
1440     , jboolean userInterface
</pre>
<hr />
<pre>
1523 
1524 
1525 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getElementsByClassNameImpl(JNIEnv* env, jclass, jlong peer
1526     , jstring classNames)
1527 {
1528     WebCore::JSMainThreadNullState state;
1529     return JavaReturn&lt;HTMLCollection&gt;(env, WTF::getPtr(IMPL-&gt;getElementsByClassName(String(env, classNames))));
1530 }
1531 
1532 
1533 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_hasFocusImpl(JNIEnv*, jclass, jlong peer)
1534 {
1535     WebCore::JSMainThreadNullState state;
1536     return IMPL-&gt;hasFocus();
1537 }
1538 
1539 
1540 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_DocumentImpl_webkitCancelFullScreenImpl(JNIEnv*, jclass, jlong peer)
1541 {
1542     WebCore::JSMainThreadNullState state;
<span class="line-modified">1543     IMPL-&gt;webkitCancelFullScreen();</span>
1544 }
1545 
1546 
1547 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_DocumentImpl_webkitExitFullscreenImpl(JNIEnv*, jclass, jlong peer)
1548 {
1549     WebCore::JSMainThreadNullState state;
<span class="line-modified">1550     IMPL-&gt;webkitExitFullscreen();</span>
1551 }
1552 
1553 
1554 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getElementByIdImpl(JNIEnv* env, jclass, jlong peer
1555     , jstring elementId)
1556 {
1557     WebCore::JSMainThreadNullState state;
1558     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(IMPL-&gt;getElementById(String(env, elementId))));
1559 }
1560 
1561 
1562 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_querySelectorImpl(JNIEnv* env, jclass, jlong peer
1563     , jstring selectors)
1564 {
1565     WebCore::JSMainThreadNullState state;
1566     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(raiseOnDOMError(env, IMPL-&gt;querySelector(String(env, selectors)))));
1567 }
1568 
1569 
1570 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_querySelectorAllImpl(JNIEnv* env, jclass, jlong peer
</pre>
</td>
<td>
<hr />
<pre>
  22  * or visit www.oracle.com if you need additional information or have any
  23  * questions.
  24  */
  25 
  26 #undef IMPL
  27 
  28 
  29 #include &lt;WebCore/Attr.h&gt;
  30 #include &lt;WebCore/CDATASection.h&gt;
  31 #include &lt;WebCore/CSSStyleDeclaration.h&gt;
  32 #include &lt;WebCore/Comment.h&gt;
  33 #include &lt;WebCore/DOMException.h&gt;
  34 #include &lt;WebCore/DOMImplementation.h&gt;
  35 #include &lt;WebCore/DOMWindow.h&gt;
  36 #include &lt;WebCore/Document.h&gt;
  37 #include &lt;WebCore/DocumentFragment.h&gt;
  38 #include &lt;WebCore/DocumentType.h&gt;
  39 #include &lt;WebCore/Element.h&gt;
  40 #include &lt;WebCore/Event.h&gt;
  41 #include &lt;WebCore/EventListener.h&gt;
<span class="line-added">  42 #include &lt;WebCore/FullscreenManager.h&gt;</span>
  43 #include &lt;WebCore/HTMLCollection.h&gt;
  44 #include &lt;WebCore/HTMLElement.h&gt;
  45 #include &lt;WebCore/HTMLHeadElement.h&gt;
  46 #include &lt;WebCore/HTMLScriptElement.h&gt;
  47 #include &lt;WebCore/Node.h&gt;
  48 #include &lt;WebCore/NodeFilter.h&gt;
  49 #include &lt;WebCore/NodeIterator.h&gt;
  50 #include &lt;WebCore/NodeList.h&gt;
  51 #include &lt;WebCore/ProcessingInstruction.h&gt;
  52 #include &lt;WebCore/Range.h&gt;
  53 #include &lt;WebCore/ScrollIntoViewOptions.h&gt;
  54 #include &lt;WebCore/StyleSheetList.h&gt;
  55 #include &lt;WebCore/Text.h&gt;
  56 #include &lt;WebCore/TreeWalker.h&gt;
  57 #include &lt;WebCore/XPathExpression.h&gt;
  58 #include &lt;WebCore/XPathNSResolver.h&gt;
  59 #include &lt;WebCore/XPathResult.h&gt;
  60 #include &lt;WebCore/EventNames.h&gt;
  61 #include &lt;WebCore/JSExecState.h&gt;
  62 
</pre>
<hr />
<pre>
 311 
 312 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_DocumentImpl_setSelectedStylesheetSetImpl(JNIEnv*, jclass, jlong, jstring)
 313 {
 314 }
 315 
 316 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getActiveElementImpl(JNIEnv* env, jclass, jlong peer)
 317 {
 318     WebCore::JSMainThreadNullState state;
 319     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(IMPL-&gt;activeElement()));
 320 }
 321 
 322 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_DocumentImpl_getCompatModeImpl(JNIEnv* env, jclass, jlong peer)
 323 {
 324     WebCore::JSMainThreadNullState state;
 325     return JavaReturn&lt;String&gt;(env, IMPL-&gt;compatMode());
 326 }
 327 
 328 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitIsFullScreenImpl(JNIEnv*, jclass, jlong peer)
 329 {
 330     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 331     return IMPL-&gt;fullscreenManager().isFullscreen();</span>
 332 }
 333 
 334 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitFullScreenKeyboardInputAllowedImpl(JNIEnv*, jclass, jlong peer)
 335 {
 336     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 337     return IMPL-&gt;fullscreenManager().isFullscreenKeyboardInputAllowed();</span>
 338 }
 339 
 340 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitCurrentFullScreenElementImpl(JNIEnv* env, jclass, jlong peer)
 341 {
 342     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 343     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(IMPL-&gt;fullscreenManager().currentFullscreenElement()));</span>
 344 }
 345 
 346 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitFullscreenEnabledImpl(JNIEnv*, jclass, jlong peer)
 347 {
 348     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 349     return IMPL-&gt;fullscreenManager().isFullscreenEnabled();</span>
 350 }
 351 
 352 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getWebkitFullscreenElementImpl(JNIEnv* env, jclass, jlong peer)
 353 {
 354     WebCore::JSMainThreadNullState state;
<span class="line-modified"> 355     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(IMPL-&gt;fullscreenManager().fullscreenElement()));</span>
 356 }
 357 
 358 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_DocumentImpl_getVisibilityStateImpl(JNIEnv* env, jclass, jlong peer)
 359 {
 360     const char* visibility {};
 361     switch (IMPL-&gt;visibilityState()) {
 362     case WebCore::VisibilityState::Hidden:
 363         visibility = &quot;hidden&quot;;
 364         break;
 365     case WebCore::VisibilityState::Visible:
 366         visibility = &quot;visible&quot;;
 367         break;
 368     case WebCore::VisibilityState::Prerender:
 369         visibility = &quot;prerender&quot;;
 370         break;
 371     }
 372     return JavaReturn&lt;String&gt;(env, String(visibility));
 373 }
 374 
 375 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_getHiddenImpl(JNIEnv*, jclass, jlong peer)
</pre>
<hr />
<pre>
1402 }
1403 
1404 
1405 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_createExpressionImpl(JNIEnv* env, jclass, jlong peer
1406     , jstring expression
1407     , jlong resolver)
1408 {
1409     WebCore::JSMainThreadNullState state;
1410     return JavaReturn&lt;XPathExpression&gt;(env, WTF::getPtr(raiseOnDOMError(env, IMPL-&gt;createExpression(String(env, expression)
1411             , static_cast&lt;XPathNSResolver*&gt;(jlong_to_ptr(resolver))))));
1412 }
1413 
1414 
1415 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_createNSResolverImpl(JNIEnv* env, jclass, jlong peer
1416     , jlong nodeResolver)
1417 {
1418     WebCore::JSMainThreadNullState state;
1419     return JavaReturn&lt;XPathNSResolver&gt;(env, WTF::getPtr(IMPL-&gt;createNSResolver(static_cast&lt;Node*&gt;(jlong_to_ptr(nodeResolver)))));
1420 }
1421 
<span class="line-added">1422 // - (DOMXPathResult *)evaluate:(NSString *)expression</span>
<span class="line-added">1423 // contextNode:(DOMNode *)contextNode</span>
<span class="line-added">1424 // resolver:(id &lt;DOMXPathNSResolver&gt;)resolver</span>
<span class="line-added">1425 // type:(unsigned short)type</span>
<span class="line-added">1426 // inResult:(DOMXPathResult *)inResult WEBKIT_AVAILABLE_MAC(10_5);</span>
1427 
1428 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_evaluateImpl(JNIEnv* env, jclass, jlong peer
1429     , jstring expression
1430     , jlong contextNode
1431     , jlong resolver
1432     , jshort type
1433     , jlong inResult)
1434 {
1435     WebCore::JSMainThreadNullState state;
1436     return JavaReturn&lt;XPathResult&gt;(env, WTF::getPtr(raiseOnDOMError(env, IMPL-&gt;evaluate(String(env, expression)
1437             , static_cast&lt;Node*&gt;(jlong_to_ptr(contextNode))
1438             , static_cast&lt;XPathNSResolver*&gt;(jlong_to_ptr(resolver))
1439             , type
1440             , static_cast&lt;XPathResult*&gt;(jlong_to_ptr(inResult))))));
1441 }
1442 
1443 
1444 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_execCommandImpl(JNIEnv* env, jclass, jlong peer
1445     , jstring command
1446     , jboolean userInterface
</pre>
<hr />
<pre>
1529 
1530 
1531 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getElementsByClassNameImpl(JNIEnv* env, jclass, jlong peer
1532     , jstring classNames)
1533 {
1534     WebCore::JSMainThreadNullState state;
1535     return JavaReturn&lt;HTMLCollection&gt;(env, WTF::getPtr(IMPL-&gt;getElementsByClassName(String(env, classNames))));
1536 }
1537 
1538 
1539 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_DocumentImpl_hasFocusImpl(JNIEnv*, jclass, jlong peer)
1540 {
1541     WebCore::JSMainThreadNullState state;
1542     return IMPL-&gt;hasFocus();
1543 }
1544 
1545 
1546 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_DocumentImpl_webkitCancelFullScreenImpl(JNIEnv*, jclass, jlong peer)
1547 {
1548     WebCore::JSMainThreadNullState state;
<span class="line-modified">1549     IMPL-&gt;fullscreenManager().cancelFullscreen();</span>
1550 }
1551 
1552 
1553 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_DocumentImpl_webkitExitFullscreenImpl(JNIEnv*, jclass, jlong peer)
1554 {
1555     WebCore::JSMainThreadNullState state;
<span class="line-modified">1556     IMPL-&gt;fullscreenManager().exitFullscreen();</span>
1557 }
1558 
1559 
1560 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getElementByIdImpl(JNIEnv* env, jclass, jlong peer
1561     , jstring elementId)
1562 {
1563     WebCore::JSMainThreadNullState state;
1564     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(IMPL-&gt;getElementById(String(env, elementId))));
1565 }
1566 
1567 
1568 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_querySelectorImpl(JNIEnv* env, jclass, jlong peer
1569     , jstring selectors)
1570 {
1571     WebCore::JSMainThreadNullState state;
1572     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(raiseOnDOMError(env, IMPL-&gt;querySelector(String(env, selectors)))));
1573 }
1574 
1575 
1576 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_querySelectorAllImpl(JNIEnv* env, jclass, jlong peer
</pre>
</td>
</tr>
</table>
<center><a href="JavaDOMWindow.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JavaHTMLElement.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>