<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/dom/make_names.pl</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="XMLDocument.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="messageports/MessagePortChannel.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/dom/make_names.pl</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -110,14 +110,14 @@</span>
      open F, &quot;&gt;$header&quot; or die &quot;Unable to open $header for writing.&quot;;
  
      printLicenseHeader($F);
      printHeaderHead($F, &quot;CSS&quot;, $familyNamesFileBase, &lt;&lt;END, &quot;&quot;);
  #include &lt;wtf/NeverDestroyed.h&gt;
<span class="udiff-line-modified-removed">- #include &lt;wtf/text/AtomicString.h&gt;</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/text/AtomString.h&gt;</span>
  END
  
<span class="udiff-line-modified-removed">-     printMacros($F, &quot;extern LazyNeverDestroyed&lt;const WTF::AtomicString&gt;&quot;, &quot;&quot;, \%parameters);</span>
<span class="udiff-line-modified-added">+     printMacros($F, &quot;extern LazyNeverDestroyed&lt;const WTF::AtomString&gt;&quot;, &quot;&quot;, \%parameters);</span>
      print F &quot;#endif\n\n&quot;;
  
      printInit($F, 1);
      close F;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -127,11 +127,11 @@</span>
      printLicenseHeader($F);
      printCppHead($F, &quot;CSS&quot;, $familyNamesFileBase, &quot;WTF&quot;);
  
      print F StaticString::GenerateStrings(\%parameters);
  
<span class="udiff-line-modified-removed">-     printMacros($F, &quot;LazyNeverDestroyed&lt;const WTF::AtomicString&gt;&quot;, &quot;&quot;, \%parameters);</span>
<span class="udiff-line-modified-added">+     printMacros($F, &quot;LazyNeverDestroyed&lt;const WTF::AtomString&gt;&quot;, &quot;&quot;, \%parameters);</span>
  
      printInit($F, 0);
  
      print F &quot;\n&quot;;
      print F StaticString::GenerateStringAsserts(\%parameters);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -594,11 +594,11 @@</span>
          return;
      initialized = true;
  
      // Use placement new to initialize the globals.
  
<span class="udiff-line-modified-removed">-     AtomicString::init();</span>
<span class="udiff-line-modified-added">+     AtomString::init();</span>
  &quot;;
  }
  
  sub printLicenseHeader
  {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -713,18 +713,18 @@</span>
      open F, &quot;&gt;$headerPath&quot;;
  
      printLicenseHeader($F);
      printHeaderHead($F, &quot;DOM&quot;, $parameters{namespace}, &lt;&lt;END, &quot;class $parameters{namespace}QualifiedName : public QualifiedName { };\n\n&quot;);
  #include &lt;wtf/NeverDestroyed.h&gt;
<span class="udiff-line-modified-removed">- #include &lt;wtf/text/AtomicString.h&gt;</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/text/AtomString.h&gt;</span>
  #include &quot;QualifiedName.h&quot;
  END
  
      my $lowercaseNamespacePrefix = lc($parameters{namespacePrefix});
  
      print F &quot;// Namespace\n&quot;;
<span class="udiff-line-modified-removed">-     print F &quot;WEBCORE_EXPORT extern LazyNeverDestroyed&lt;const WTF::AtomicString&gt; ${lowercaseNamespacePrefix}NamespaceURI;\n\n&quot;;</span>
<span class="udiff-line-modified-added">+     print F &quot;WEBCORE_EXPORT extern LazyNeverDestroyed&lt;const WTF::AtomString&gt; ${lowercaseNamespacePrefix}NamespaceURI;\n\n&quot;;</span>
  
      if (keys %allTags) {
          print F &quot;// Tags\n&quot;;
          printMacros($F, &quot;WEBCORE_EXPORT extern LazyNeverDestroyed&lt;const WebCore::$parameters{namespace}QualifiedName&gt;&quot;, &quot;Tag&quot;, \%allTags);
      }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -758,11 +758,11 @@</span>
      printLicenseHeader($F);
      printCppHead($F, &quot;DOM&quot;, $parameters{namespace}, &quot;WebCore&quot;);
      
      my $lowercaseNamespacePrefix = lc($parameters{namespacePrefix});
  
<span class="udiff-line-modified-removed">-     print F &quot;LazyNeverDestroyed&lt;const AtomicString&gt; ${lowercaseNamespacePrefix}NamespaceURI;\n\n&quot;;</span>
<span class="udiff-line-modified-added">+     print F &quot;LazyNeverDestroyed&lt;const AtomString&gt; ${lowercaseNamespacePrefix}NamespaceURI;\n\n&quot;;</span>
  
      print F StaticString::GenerateStrings(\%allStrings);
  
      if (keys %allTags) {
          print F &quot;// Tags\n&quot;;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -795,11 +795,11 @@</span>
          print F &quot;}\n&quot;;
      }
  
      printInit($F, 0);
  
<span class="udiff-line-modified-removed">-     print(F &quot;    AtomicString ${lowercaseNamespacePrefix}NS(\&quot;$parameters{namespaceURI}\&quot;, AtomicString::ConstructFromLiteral);\n\n&quot;);</span>
<span class="udiff-line-modified-added">+     print(F &quot;    AtomString ${lowercaseNamespacePrefix}NS(\&quot;$parameters{namespaceURI}\&quot;, AtomString::ConstructFromLiteral);\n\n&quot;);</span>
  
      print(F &quot;    // Namespace\n&quot;);
      print(F &quot;    ${lowercaseNamespacePrefix}NamespaceURI.construct(${lowercaseNamespacePrefix}NS);\n&quot;);
      print(F &quot;\n&quot;);
      print F StaticString::GenerateStringAsserts(\%allStrings);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -917,11 +917,11 @@</span>
  
  print F &lt;&lt;END;
      };
  
      for (auto&amp; entry : ${type}Table)
<span class="udiff-line-modified-removed">-         entry.targetAddress-&gt;construct(nullAtom(), AtomicString(&amp;entry.name), $namespaceURI);</span>
<span class="udiff-line-modified-added">+         entry.targetAddress-&gt;construct(nullAtom(), AtomString(&amp;entry.name), $namespaceURI);</span>
  END
  
  }
  
  ## ElementFactory routines
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1002,11 +1002,11 @@</span>
  
      $parameters{namespace}ConstructorFunction function;
      const QualifiedName* qualifiedName; // Use pointer instead of reference so that emptyValue() in HashMap is cheap to create.
  };
  
<span class="udiff-line-modified-removed">- static NEVER_INLINE HashMap&lt;AtomicStringImpl*, $parameters{namespace}ConstructorFunctionMapEntry&gt; create$parameters{namespace}FactoryMap()</span>
<span class="udiff-line-modified-added">+ static NEVER_INLINE HashMap&lt;AtomStringImpl*, $parameters{namespace}ConstructorFunctionMapEntry&gt; create$parameters{namespace}FactoryMap()</span>
  {
      struct TableEntry {
          const QualifiedName&amp; name;
          $parameters{namespace}ConstructorFunction function;
      };
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1018,23 +1018,23 @@</span>
      printFunctionTable($F, \%tagConstructorMap);
  
      print F &lt;&lt;END
      };
  
<span class="udiff-line-modified-removed">-     HashMap&lt;AtomicStringImpl*, $parameters{namespace}ConstructorFunctionMapEntry&gt; map;</span>
<span class="udiff-line-modified-added">+     HashMap&lt;AtomStringImpl*, $parameters{namespace}ConstructorFunctionMapEntry&gt; map;</span>
      for (auto&amp; entry : table)
          map.add(entry.name.localName().impl(), $parameters{namespace}ConstructorFunctionMapEntry(entry.function, entry.name));
      return map;
  }
  
<span class="udiff-line-modified-removed">- static $parameters{namespace}ConstructorFunctionMapEntry find$parameters{namespace}ElementConstructorFunction(const AtomicString&amp; localName)</span>
<span class="udiff-line-modified-added">+ static $parameters{namespace}ConstructorFunctionMapEntry find$parameters{namespace}ElementConstructorFunction(const AtomString&amp; localName)</span>
  {
      static const auto map = makeNeverDestroyed(create$parameters{namespace}FactoryMap());
      return map.get().get(localName.impl());
  }
  
<span class="udiff-line-modified-removed">- RefPtr&lt;$parameters{namespace}Element&gt; $parameters{namespace}ElementFactory::createKnownElement(const AtomicString&amp; localName, Document&amp; document$formElementArgumentForDefinition, bool createdByParser)</span>
<span class="udiff-line-modified-added">+ RefPtr&lt;$parameters{namespace}Element&gt; $parameters{namespace}ElementFactory::createKnownElement(const AtomString&amp; localName, Document&amp; document$formElementArgumentForDefinition, bool createdByParser)</span>
  {
      const $parameters{namespace}ConstructorFunctionMapEntry&amp; entry = find$parameters{namespace}ElementConstructorFunction(localName);
      if (LIKELY(entry.function)) {
          ASSERT(entry.qualifiedName);
          const auto&amp; name = *entry.qualifiedName;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1049,11 +1049,11 @@</span>
      if (LIKELY(entry.function))
          return entry.function($argumentList);
      return nullptr;
  }
  
<span class="udiff-line-modified-removed">- Ref&lt;$parameters{namespace}Element&gt; $parameters{namespace}ElementFactory::createElement(const AtomicString&amp; localName, Document&amp; document$formElementArgumentForDefinition, bool createdByParser)</span>
<span class="udiff-line-modified-added">+ Ref&lt;$parameters{namespace}Element&gt; $parameters{namespace}ElementFactory::createElement(const AtomString&amp; localName, Document&amp; document$formElementArgumentForDefinition, bool createdByParser)</span>
  {
      const $parameters{namespace}ConstructorFunctionMapEntry&amp; entry = find$parameters{namespace}ElementConstructorFunction(localName);
      if (LIKELY(entry.function)) {
          ASSERT(entry.qualifiedName);
          const auto&amp; name = *entry.qualifiedName;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1105,19 +1105,19 @@</span>
  class $parameters{namespace}ElementFactory {
  public:
  END
  ;
  
<span class="udiff-line-modified-removed">- print F &quot;static RefPtr&lt;$parameters{namespace}Element&gt; createKnownElement(const AtomicString&amp;, Document&amp;&quot;;</span>
<span class="udiff-line-modified-added">+ print F &quot;static RefPtr&lt;$parameters{namespace}Element&gt; createKnownElement(const AtomString&amp;, Document&amp;&quot;;</span>
  print F &quot;, HTMLFormElement* = nullptr&quot; if $parameters{namespace} eq &quot;HTML&quot;;
  print F &quot;, bool createdByParser = false);\n&quot;;
  
  print F &quot;static RefPtr&lt;$parameters{namespace}Element&gt; createKnownElement(const QualifiedName&amp;, Document&amp;&quot;;
  print F &quot;, HTMLFormElement* = nullptr&quot; if $parameters{namespace} eq &quot;HTML&quot;;
  print F &quot;, bool createdByParser = false);\n&quot;;
  
<span class="udiff-line-modified-removed">- print F &quot;static Ref&lt;$parameters{namespace}Element&gt; createElement(const AtomicString&amp;, Document&amp;&quot;;</span>
<span class="udiff-line-modified-added">+ print F &quot;static Ref&lt;$parameters{namespace}Element&gt; createElement(const AtomString&amp;, Document&amp;&quot;;</span>
  print F &quot;, HTMLFormElement* = nullptr&quot; if $parameters{namespace} eq &quot;HTML&quot;;
  print F &quot;, bool createdByParser = false);\n&quot;;
  
  print F &quot;static Ref&lt;$parameters{namespace}Element&gt; createElement(const QualifiedName&amp;, Document&amp;&quot;;
  print F &quot;, HTMLFormElement* = nullptr&quot; if $parameters{namespace} eq &quot;HTML&quot;;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1258,11 +1258,11 @@</span>
  
      printWrapperFunctions($F);
  
  print F &lt;&lt;END
  
<span class="udiff-line-modified-removed">- static NEVER_INLINE HashMap&lt;AtomicStringImpl*, Create$parameters{namespace}ElementWrapperFunction&gt; create$parameters{namespace}WrapperMap()</span>
<span class="udiff-line-modified-added">+ static NEVER_INLINE HashMap&lt;AtomStringImpl*, Create$parameters{namespace}ElementWrapperFunction&gt; create$parameters{namespace}WrapperMap()</span>
  {
      struct TableEntry {
          const QualifiedName&amp; name;
          Create$parameters{namespace}ElementWrapperFunction function;
      };
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1296,11 +1296,11 @@</span>
      }
  
      print F &lt;&lt;END
      };
  
<span class="udiff-line-modified-removed">-     HashMap&lt;AtomicStringImpl*, Create$parameters{namespace}ElementWrapperFunction&gt; map;</span>
<span class="udiff-line-modified-added">+     HashMap&lt;AtomStringImpl*, Create$parameters{namespace}ElementWrapperFunction&gt; map;</span>
      for (auto&amp; entry : table)
          map.add(entry.name.localName().impl(), entry.function);
      return map;
  }
  
</pre>
<center><a href="XMLDocument.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="messageports/MessagePortChannel.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>