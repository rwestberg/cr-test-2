<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/WTF/wtf/Platform.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
   1 /*
   2  * Copyright (C) 2006-2019 Apple Inc. All rights reserved.
   3  * Copyright (C) 2007-2009 Torch Mobile, Inc.
   4  * Copyright (C) 2010, 2011 Research In Motion Limited. All rights reserved.
   5  *
   6  * Redistribution and use in source and binary forms, with or without
   7  * modification, are permitted provided that the following conditions
   8  * are met:
   9  * 1. Redistributions of source code must retain the above copyright
  10  *    notice, this list of conditions and the following disclaimer.
  11  * 2. Redistributions in binary form must reproduce the above copyright
  12  *    notice, this list of conditions and the following disclaimer in the
  13  *    documentation and/or other materials provided with the distribution.
  14  *
  15  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
  16  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  17  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  18  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
  19  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  20  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  21  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  22  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
  23  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  24  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  25  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  26  */
  27 
  28 #pragma once
  29 
  30 /* Include compiler specific macros */
  31 #include &lt;wtf/Compiler.h&gt;
  32 
  33 /* ==== PLATFORM handles OS, operating environment, graphics API, and
  34    CPU. This macro will be phased out in favor of platform adaptation
  35    macros, policy decision macros, and top-level port definitions. ==== */
  36 #define PLATFORM(WTF_FEATURE) (defined WTF_PLATFORM_##WTF_FEATURE  &amp;&amp; WTF_PLATFORM_##WTF_FEATURE)
  37 
  38 
  39 /* ==== Platform adaptation macros: these describe properties of the target environment. ==== */
  40 
  41 /* CPU() - the target CPU architecture */
  42 #define CPU(WTF_FEATURE) (defined WTF_CPU_##WTF_FEATURE  &amp;&amp; WTF_CPU_##WTF_FEATURE)
  43 /* HAVE() - specific system features (headers, functions or similar) that are present or not */
  44 #define HAVE(WTF_FEATURE) (defined HAVE_##WTF_FEATURE  &amp;&amp; HAVE_##WTF_FEATURE)
  45 /* OS() - underlying operating system; only to be used for mandated low-level services like
  46    virtual memory, not to choose a GUI toolkit */
  47 #define OS(WTF_FEATURE) (defined WTF_OS_##WTF_FEATURE  &amp;&amp; WTF_OS_##WTF_FEATURE)
  48 
  49 
  50 /* ==== Policy decision macros: these define policy choices for a particular port. ==== */
  51 
  52 /* USE() - use a particular third-party library or optional OS service */
  53 #define USE(WTF_FEATURE) (defined USE_##WTF_FEATURE  &amp;&amp; USE_##WTF_FEATURE)
  54 /* ENABLE() - turn on a specific feature of WebKit */
  55 #define ENABLE(WTF_FEATURE) (defined ENABLE_##WTF_FEATURE  &amp;&amp; ENABLE_##WTF_FEATURE)
  56 
  57 
  58 /* ==== CPU() - the target CPU architecture ==== */
  59 /* CPU(KNOWN) becomes true if we explicitly support a target CPU. */
  60 
  61 /* CPU(MIPS) - MIPS 32-bit and 64-bit */
  62 #if (defined(mips) || defined(__mips__) || defined(MIPS) || defined(_MIPS_) || defined(__mips64))
  63 #if defined(_ABI64) &amp;&amp; (_MIPS_SIM == _ABI64)
  64 #define WTF_CPU_MIPS64 1
  65 #define WTF_MIPS_ARCH __mips64
  66 #else
  67 #define WTF_CPU_MIPS 1
  68 #define WTF_MIPS_ARCH __mips
  69 #endif
  70 #define WTF_CPU_KNOWN 1
  71 #define WTF_MIPS_PIC (defined __PIC__)
  72 #define WTF_MIPS_ISA(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH == v)
  73 #define WTF_MIPS_ISA_AT_LEAST(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH &gt;= v)
  74 #define WTF_MIPS_ARCH_REV __mips_isa_rev
  75 #define WTF_MIPS_ISA_REV(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV == v)
  76 #define WTF_MIPS_ISA_REV_AT_LEAST(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV &gt;= v)
  77 #define WTF_MIPS_DOUBLE_FLOAT (defined __mips_hard_float &amp;&amp; !defined __mips_single_float)
  78 #define WTF_MIPS_FP64 (defined __mips_fpr &amp;&amp; __mips_fpr == 64)
  79 /* MIPS requires allocators to use aligned memory */
  80 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1
  81 #endif /* MIPS */
  82 
  83 /* CPU(PPC64) - PowerPC 64-bit Big Endian */
  84 #if (  defined(__ppc64__)      \
  85     || defined(__PPC64__))     \
  86     &amp;&amp; defined(__BYTE_ORDER__) \
  87     &amp;&amp; (__BYTE_ORDER__ == __ORDER_BIG_ENDIAN__)
  88 #define WTF_CPU_PPC64 1
  89 #define WTF_CPU_KNOWN 1
  90 #endif
  91 
  92 /* CPU(PPC64LE) - PowerPC 64-bit Little Endian */
  93 #if (   defined(__ppc64__)     \
  94     || defined(__PPC64__)      \
  95     || defined(__ppc64le__)    \
  96     || defined(__PPC64LE__))   \
  97     &amp;&amp; defined(__BYTE_ORDER__) \
  98     &amp;&amp; (__BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__)
  99 #define WTF_CPU_PPC64LE 1
 100 #define WTF_CPU_KNOWN 1
 101 #endif
 102 
 103 /* CPU(PPC) - PowerPC 32-bit */
 104 #if (  defined(__ppc__)        \
 105     || defined(__PPC__)        \
 106     || defined(__powerpc__)    \
 107     || defined(__powerpc)      \
 108     || defined(__POWERPC__)    \
 109     || defined(_M_PPC)         \
 110     || defined(__PPC))         \
 111     &amp;&amp; !CPU(PPC64)             \
 112     &amp;&amp; CPU(BIG_ENDIAN)
 113 #define WTF_CPU_PPC 1
 114 #define WTF_CPU_KNOWN 1
 115 #endif
 116 
 117 /* CPU(X86) - i386 / x86 32-bit */
 118 #if   defined(__i386__) \
 119     || defined(i386)     \
 120     || defined(_M_IX86)  \
 121     || defined(_X86_)    \
 122     || defined(__THW_INTEL)
 123 #define WTF_CPU_X86 1
 124 #define WTF_CPU_KNOWN 1
 125 
 126 #if defined(__SSE2__) || (defined(_M_IX86_FP) &amp;&amp; _M_IX86_FP &gt;= 2)
 127 #define WTF_CPU_X86_SSE2 1
 128 #endif
 129 
 130 #endif
 131 
 132 /* CPU(X86_64) - AMD64 / Intel64 / x86_64 64-bit */
 133 #if   defined(__x86_64__) \
 134     || defined(_M_X64)
 135 #define WTF_CPU_X86_64 1
 136 #define WTF_CPU_X86_SSE2 1
 137 #define WTF_CPU_KNOWN 1
 138 #endif
 139 
 140 /* CPU(ARM64) - Apple */
 141 #if (defined(__arm64__) &amp;&amp; defined(__APPLE__)) || defined(__aarch64__)
 142 #define WTF_CPU_ARM64 1
 143 #define WTF_CPU_KNOWN 1
 144 
 145 #if defined(__arm64e__)
 146 #define WTF_CPU_ARM64E 1
 147 #endif
 148 #endif
 149 
 150 /* CPU(ARM) - ARM, any version*/
 151 #define WTF_ARM_ARCH_AT_LEAST(N) (CPU(ARM) &amp;&amp; WTF_ARM_ARCH_VERSION &gt;= N)
 152 
 153 #if   defined(arm) \
 154     || defined(__arm__) \
 155     || defined(ARM) \
 156     || defined(_ARM_)
 157 #define WTF_CPU_ARM 1
 158 #define WTF_CPU_KNOWN 1
 159 
 160 #if defined(__ARM_PCS_VFP)
 161 #define WTF_CPU_ARM_HARDFP 1
 162 #endif
 163 
 164 /* Set WTF_ARM_ARCH_VERSION */
 165 #if   defined(__ARM_ARCH_4__) \
 166     || defined(__ARM_ARCH_4T__) \
 167     || defined(__MARM_ARMV4__)
 168 #define WTF_ARM_ARCH_VERSION 4
 169 
 170 #elif defined(__ARM_ARCH_5__) \
 171     || defined(__ARM_ARCH_5T__) \
 172     || defined(__MARM_ARMV5__)
 173 #define WTF_ARM_ARCH_VERSION 5
 174 
 175 #elif defined(__ARM_ARCH_5E__) \
 176     || defined(__ARM_ARCH_5TE__) \
 177     || defined(__ARM_ARCH_5TEJ__)
 178 #define WTF_ARM_ARCH_VERSION 5
 179 /*ARMv5TE requires allocators to use aligned memory*/
 180 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1
 181 
 182 #elif defined(__ARM_ARCH_6__) \
 183     || defined(__ARM_ARCH_6J__) \
 184     || defined(__ARM_ARCH_6K__) \
 185     || defined(__ARM_ARCH_6Z__) \
 186     || defined(__ARM_ARCH_6ZK__) \
 187     || defined(__ARM_ARCH_6T2__) \
 188     || defined(__ARMV6__)
 189 #define WTF_ARM_ARCH_VERSION 6
 190 
 191 #elif defined(__ARM_ARCH_7A__) \
 192     || defined(__ARM_ARCH_7K__) \
 193     || defined(__ARM_ARCH_7R__) \
 194     || defined(__ARM_ARCH_7S__)
 195 #define WTF_ARM_ARCH_VERSION 7
 196 
 197 #elif defined(__ARM_ARCH_8__) \
 198     || defined(__ARM_ARCH_8A__)
 199 #define WTF_ARM_ARCH_VERSION 8
 200 
 201 /* MSVC sets _M_ARM */
 202 #elif defined(_M_ARM)
 203 #define WTF_ARM_ARCH_VERSION _M_ARM
 204 
 205 /* RVCT sets _TARGET_ARCH_ARM */
 206 #elif defined(__TARGET_ARCH_ARM)
 207 #define WTF_ARM_ARCH_VERSION __TARGET_ARCH_ARM
 208 
 209 #if defined(__TARGET_ARCH_5E) \
 210     || defined(__TARGET_ARCH_5TE) \
 211     || defined(__TARGET_ARCH_5TEJ)
 212 /*ARMv5TE requires allocators to use aligned memory*/
 213 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1
 214 #endif
 215 
 216 #else
 217 #define WTF_ARM_ARCH_VERSION 0
 218 
 219 #endif
 220 
 221 /* Set WTF_THUMB_ARCH_VERSION */
 222 #if   defined(__ARM_ARCH_4T__)
 223 #define WTF_THUMB_ARCH_VERSION 1
 224 
 225 #elif defined(__ARM_ARCH_5T__) \
 226     || defined(__ARM_ARCH_5TE__) \
 227     || defined(__ARM_ARCH_5TEJ__)
 228 #define WTF_THUMB_ARCH_VERSION 2
 229 
 230 #elif defined(__ARM_ARCH_6J__) \
 231     || defined(__ARM_ARCH_6K__) \
 232     || defined(__ARM_ARCH_6Z__) \
 233     || defined(__ARM_ARCH_6ZK__) \
 234     || defined(__ARM_ARCH_6M__)
 235 #define WTF_THUMB_ARCH_VERSION 3
 236 
 237 #elif defined(__ARM_ARCH_6T2__) \
 238     || defined(__ARM_ARCH_7__) \
 239     || defined(__ARM_ARCH_7A__) \
 240     || defined(__ARM_ARCH_7K__) \
 241     || defined(__ARM_ARCH_7M__) \
 242     || defined(__ARM_ARCH_7R__) \
 243     || defined(__ARM_ARCH_7S__)
 244 #define WTF_THUMB_ARCH_VERSION 4
 245 
 246 /* RVCT sets __TARGET_ARCH_THUMB */
 247 #elif defined(__TARGET_ARCH_THUMB)
 248 #define WTF_THUMB_ARCH_VERSION __TARGET_ARCH_THUMB
 249 
 250 #else
 251 #define WTF_THUMB_ARCH_VERSION 0
 252 #endif
 253 
 254 
 255 /* CPU(ARMV5_OR_LOWER) - ARM instruction set v5 or earlier */
 256 /* On ARMv5 and below the natural alignment is required.
 257    And there are some other differences for v5 or earlier. */
 258 #if !defined(ARMV5_OR_LOWER) &amp;&amp; !WTF_ARM_ARCH_AT_LEAST(6)
 259 #define WTF_CPU_ARMV5_OR_LOWER 1
 260 #endif
 261 
 262 
 263 /* CPU(ARM_TRADITIONAL) - Thumb2 is not available, only traditional ARM (v4 or greater) */
 264 /* CPU(ARM_THUMB2) - Thumb2 instruction set is available */
 265 /* Only one of these will be defined. */
 266 #if !defined(WTF_CPU_ARM_TRADITIONAL) &amp;&amp; !defined(WTF_CPU_ARM_THUMB2)
 267 #  if defined(thumb2) || defined(__thumb2__) \
 268     || ((defined(__thumb) || defined(__thumb__)) &amp;&amp; WTF_THUMB_ARCH_VERSION == 4)
 269 #    define WTF_CPU_ARM_TRADITIONAL 0
 270 #    define WTF_CPU_ARM_THUMB2 1
 271 #  elif WTF_ARM_ARCH_AT_LEAST(4)
 272 #    define WTF_CPU_ARM_TRADITIONAL 1
 273 #    define WTF_CPU_ARM_THUMB2 0
 274 #  else
 275 #    error &quot;Not supported ARM architecture&quot;
 276 #  endif
 277 #elif CPU(ARM_TRADITIONAL) &amp;&amp; CPU(ARM_THUMB2) /* Sanity Check */
 278 #  error &quot;Cannot use both of WTF_CPU_ARM_TRADITIONAL and WTF_CPU_ARM_THUMB2 platforms&quot;
 279 #endif /* !defined(WTF_CPU_ARM_TRADITIONAL) &amp;&amp; !defined(WTF_CPU_ARM_THUMB2) */
 280 
 281 #if defined(__ARM_NEON__) &amp;&amp; !defined(WTF_CPU_ARM_NEON)
 282 #define WTF_CPU_ARM_NEON 1
 283 #endif
 284 
 285 #if CPU(ARM_NEON)
 286 /* All NEON intrinsics usage can be disabled by this macro. */
 287 #define HAVE_ARM_NEON_INTRINSICS 1
 288 #endif
 289 
 290 #if (defined(__VFP_FP__) &amp;&amp; !defined(__SOFTFP__))
 291 #define WTF_CPU_ARM_VFP 1
 292 #endif
 293 
 294 /* If CPU(ARM_NEON) is not enabled, we&#39;ll conservatively assume only VFP2 or VFPv3D16
 295    support is available. Hence, only the first 16 64-bit floating point registers
 296    are available. See:
 297    NEON registers: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CJACABEJ.html
 298    VFP2 and VFP3 registers: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CIHDIBDG.html
 299    NEON to VFP register mapping: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CJAIJHFC.html
 300 */
 301 #if CPU(ARM_NEON)
 302 #define WTF_CPU_ARM_VFP_V3_D32 1
 303 #else
 304 #define WTF_CPU_ARM_VFP_V2 1
 305 #endif
 306 
 307 #if defined(__ARM_ARCH_7K__)
 308 #define WTF_CPU_APPLE_ARMV7K 1
 309 #endif
 310 
 311 #if defined(__ARM_ARCH_7S__)
 312 #define WTF_CPU_APPLE_ARMV7S 1
 313 #endif
 314 
 315 #if defined(__ARM_ARCH_EXT_IDIV__) || CPU(APPLE_ARMV7S)
 316 #define HAVE_ARM_IDIV_INSTRUCTIONS 1
 317 #endif
 318 
 319 #endif /* ARM */
 320 
 321 #if !CPU(KNOWN)
 322 #define WTF_CPU_UNKNOWN 1
 323 #endif
 324 
 325 #if CPU(ARM) || CPU(MIPS) || CPU(UNKNOWN)
 326 #define WTF_CPU_NEEDS_ALIGNED_ACCESS 1
 327 #endif
 328 
 329 #if COMPILER(GCC_COMPATIBLE)
 330 /* __LP64__ is not defined on 64bit Windows since it uses LLP64. Using __SIZEOF_POINTER__ is simpler. */
 331 #if __SIZEOF_POINTER__ == 8
 332 #define WTF_CPU_ADDRESS64 1
 333 #elif __SIZEOF_POINTER__ == 4
 334 #define WTF_CPU_ADDRESS32 1
 335 #else
 336 #error &quot;Unsupported pointer width&quot;
 337 #endif
 338 #elif COMPILER(MSVC)
 339 #if defined(_WIN64)
 340 #define WTF_CPU_ADDRESS64 1
 341 #else
 342 #define WTF_CPU_ADDRESS32 1
 343 #endif
 344 #else
 345 /* This is the most generic way. But in OS(DARWIN), Platform.h can be included by sandbox definition file (.sb).
 346  * At that time, we cannot include &quot;stdint.h&quot; header. So in the case of known compilers, we use predefined constants instead. */
 347 #include &lt;stdint.h&gt;
 348 #if UINTPTR_MAX &gt; UINT32_MAX
 349 #define WTF_CPU_ADDRESS64 1
 350 #else
 351 #define WTF_CPU_ADDRESS32 1
 352 #endif
 353 #endif
 354 
 355 /* ==== OS() - underlying operating system; only to be used for mandated low-level services like
 356    virtual memory, not to choose a GUI toolkit ==== */
 357 
 358 /* OS(AIX) - AIX */
 359 #ifdef _AIX
 360 #define WTF_OS_AIX 1
 361 #endif
 362 
 363 /* OS(DARWIN) - Any Darwin-based OS, including Mac OS X and iPhone OS */
 364 #ifdef __APPLE__
 365 #define WTF_OS_DARWIN 1
 366 
 367 #include &lt;Availability.h&gt;
 368 #include &lt;AvailabilityMacros.h&gt;
 369 #include &lt;TargetConditionals.h&gt;
 370 #endif
 371 
 372 /* OS(IOS_FAMILY) - iOS family, including iOS, macCatalyst, tvOS, watchOS */
 373 /* OS(IOS) - iOS only, not including macCatalyst */
 374 /* OS(MAC_OS_X) - macOS (not including iOS family) */
 375 #if OS(DARWIN)
 376 #if TARGET_OS_IOS &amp;&amp; !(defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC)
 377 #define WTF_OS_IOS 1
 378 #endif
 379 #if TARGET_OS_IPHONE
 380 #define WTF_OS_IOS_FAMILY 1
 381 #elif TARGET_OS_MAC
 382 #define WTF_OS_MAC_OS_X 1
 383 #endif
 384 #endif
 385 
 386 /* OS(FREEBSD) - FreeBSD */
 387 #if defined(__FreeBSD__) || defined(__DragonFly__) || defined(__FreeBSD_kernel__)
 388 #define WTF_OS_FREEBSD 1
 389 #endif
 390 
 391 /* OS(FUCHSIA) - Fuchsia */
 392 #ifdef __Fuchsia__
 393 #define WTF_OS_FUCHSIA 1
 394 #endif
 395 
 396 /* OS(HURD) - GNU/Hurd */
 397 #ifdef __GNU__
 398 #define WTF_OS_HURD 1
 399 #endif
 400 
 401 /* OS(LINUX) - Linux */
 402 #ifdef __linux__
 403 #define WTF_OS_LINUX 1
 404 #endif
 405 
 406 /* OS(NETBSD) - NetBSD */
 407 #if defined(__NetBSD__)
 408 #define WTF_OS_NETBSD 1
 409 #endif
 410 
 411 /* OS(OPENBSD) - OpenBSD */
 412 #ifdef __OpenBSD__
 413 #define WTF_OS_OPENBSD 1
 414 #endif
 415 
 416 /* OS(WINDOWS) - Any version of Windows */
 417 #if defined(WIN32) || defined(_WIN32)
 418 #define WTF_OS_WINDOWS 1
 419 #endif
 420 
 421 #define WTF_OS_WIN ERROR &quot;USE WINDOWS WITH OS NOT WIN&quot;
 422 #define WTF_OS_MAC ERROR &quot;USE MAC_OS_X WITH OS NOT MAC&quot;
 423 
 424 /* OS(UNIX) - Any Unix-like system */
 425 #if    OS(AIX)              \
 426     || OS(DARWIN)           \
 427     || OS(FREEBSD)          \
 428     || OS(FUCHSIA)          \
 429     || OS(HURD)             \
 430     || OS(LINUX)            \
 431     || OS(NETBSD)           \
 432     || OS(OPENBSD)          \
 433     || defined(unix)        \
 434     || defined(__unix)      \
 435     || defined(__unix__)
 436 #define WTF_OS_UNIX 1
 437 #endif
 438 
 439 /* Operating environments */
 440 
 441 /* CPU(BIG_ENDIAN) or CPU(MIDDLE_ENDIAN) or neither, as appropriate. */
 442 
 443 #if COMPILER(GCC_COMPATIBLE)
 444 #if __BYTE_ORDER__ == __ORDER_BIG_ENDIAN__
 445 #define WTF_CPU_BIG_ENDIAN 1
 446 #elif __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__
 447 #define WTF_CPU_LITTLE_ENDIAN 1
 448 #elif __BYTE_ORDER__ == __ORDER_PDP_ENDIAN__
 449 #define WTF_CPU_MIDDLE_ENDIAN 1
 450 #else
 451 #error &quot;Unknown endian&quot;
 452 #endif
 453 #else
 454 #if OS(WINDOWS)
 455 /* Windows only have little endian architecture. */
 456 #define WTF_CPU_LITTLE_ENDIAN 1
 457 #else
 458 #include &lt;sys/types.h&gt;
 459 #if __has_include(&lt;endian.h&gt;)
 460 #include &lt;endian.h&gt;
 461 #if __BYTE_ORDER == __BIG_ENDIAN
 462 #define WTF_CPU_BIG_ENDIAN 1
 463 #elif __BYTE_ORDER == __LITTLE_ENDIAN
 464 #define WTF_CPU_LITTLE_ENDIAN 1
 465 #elif __BYTE_ORDER == __PDP_ENDIAN
 466 #define WTF_CPU_MIDDLE_ENDIAN 1
 467 #else
 468 #error &quot;Unknown endian&quot;
 469 #endif
 470 #else
 471 #if __has_include(&lt;machine/endian.h&gt;)
 472 #include &lt;machine/endian.h&gt;
 473 #else
 474 #include &lt;sys/endian.h&gt;
 475 #endif
 476 #if BYTE_ORDER == BIG_ENDIAN
 477 #define WTF_CPU_BIG_ENDIAN 1
 478 #elif BYTE_ORDER == LITTLE_ENDIAN
 479 #define WTF_CPU_LITTLE_ENDIAN 1
 480 #elif BYTE_ORDER == PDP_ENDIAN
 481 #define WTF_CPU_MIDDLE_ENDIAN 1
 482 #else
 483 #error &quot;Unknown endian&quot;
 484 #endif
 485 #endif
 486 #endif
 487 #endif
 488 
 489 #if !CPU(LITTLE_ENDIAN) &amp;&amp; !CPU(BIG_ENDIAN)
 490 #error &quot;Unsupported endian&quot;
 491 #endif
 492 
 493 /* Export macro support. Detects the attributes available for shared library symbol export
 494    decorations. */
 495 #if OS(WINDOWS) || (COMPILER_HAS_CLANG_DECLSPEC(dllimport) &amp;&amp; COMPILER_HAS_CLANG_DECLSPEC(dllexport))
 496 #define USE_DECLSPEC_ATTRIBUTE 1
 497 #define USE_VISIBILITY_ATTRIBUTE 0
 498 #elif defined(__GNUC__)
 499 #define USE_DECLSPEC_ATTRIBUTE 0
 500 #define USE_VISIBILITY_ATTRIBUTE 1
 501 #else
 502 #define USE_DECLSPEC_ATTRIBUTE 0
 503 #define USE_VISIBILITY_ATTRIBUTE 0
 504 #endif
 505 
 506 /* Standard libraries */
 507 #if defined(HAVE_FEATURES_H) &amp;&amp; HAVE_FEATURES_H
 508 /* If the included features.h is glibc&#39;s one, __GLIBC__ is defined. */
 509 #include &lt;features.h&gt;
 510 #endif
 511 
 512 /* FIXME: these are all mixes of OS, operating environment and policy choices. */
 513 /* PLATFORM(GTK) */
 514 /* PLATFORM(MAC) */
 515 /* PLATFORM(IOS) */
 516 /* PLATFORM(IOS_FAMILY) */
 517 /* PLATFORM(IOS_SIMULATOR) */
 518 /* PLATFORM(IOS_FAMILY_SIMULATOR) */
 519 /* PLATFORM(WIN) */
 520 #if defined(BUILDING_GTK__)
 521 #define WTF_PLATFORM_GTK 1
 522 #elif defined(BUILDING_JAVA__)
 523 #define WTF_PLATFORM_JAVA 1
 524 #elif defined(BUILDING_WPE__)
 525 #define WTF_PLATFORM_WPE 1
 526 #elif defined(BUILDING_JSCONLY__)
 527 /* JSCOnly does not provide PLATFORM() macro */
 528 #elif OS(MAC_OS_X)
 529 #define WTF_PLATFORM_MAC 1
 530 #elif OS(IOS_FAMILY)
 531 #if OS(IOS)
 532 #define WTF_PLATFORM_IOS 1
 533 #endif
 534 #define WTF_PLATFORM_IOS_FAMILY 1
 535 #if TARGET_OS_SIMULATOR
 536 #if OS(IOS)
 537 #define WTF_PLATFORM_IOS_SIMULATOR 1
 538 #endif
 539 #define WTF_PLATFORM_IOS_FAMILY_SIMULATOR 1
 540 #endif
 541 #if defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC
 542 #define WTF_PLATFORM_MACCATALYST 1
 543 #endif
 544 #elif OS(WINDOWS)
 545 #define WTF_PLATFORM_WIN 1
 546 #endif
 547 
 548 /* PLATFORM(COCOA) */
 549 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
 550 #define WTF_PLATFORM_COCOA 1
 551 #endif
 552 
 553 #if PLATFORM(COCOA)
 554 #if defined __has_include &amp;&amp; __has_include(&lt;CoreFoundation/CFPriv.h&gt;)
 555 #define USE_APPLE_INTERNAL_SDK 1
 556 #endif
 557 #endif
 558 
 559 /* PLATFORM(APPLETV) */
 560 #if defined(TARGET_OS_TV) &amp;&amp; TARGET_OS_TV
 561 #define WTF_PLATFORM_APPLETV 1
 562 #endif
 563 
 564 /* PLATFORM(WATCHOS) */
 565 #if defined(TARGET_OS_WATCH) &amp;&amp; TARGET_OS_WATCH
 566 #define WTF_PLATFORM_WATCHOS 1
 567 #endif
 568 
 569 /* Graphics engines */
 570 
 571 /* USE(CG) and PLATFORM(CI) */
 572 #if PLATFORM(COCOA)
 573 #define USE_CG 1
 574 #define USE_CA 1
 575 #endif
 576 
 577 #if PLATFORM(GTK) || PLATFORM(WPE)
 578 #define USE_GLIB 1
 579 #define USE_FREETYPE 1
 580 #define USE_HARFBUZZ 1
 581 #define USE_SOUP 1
 582 #define USE_WEBP 1
 583 #define USE_FILE_LOCK 1
 584 #endif
 585 
 586 #if PLATFORM(GTK)
 587 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_36
 588 #define GDK_VERSION_MIN_REQUIRED GDK_VERSION_3_6
 589 #endif
 590 
 591 #if PLATFORM(WPE)
 592 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_40
 593 #endif
 594 
 595 #if USE(SOUP)
 596 #define SOUP_VERSION_MIN_REQUIRED SOUP_VERSION_2_42
 597 #endif
 598 
 599 /* On Windows, use QueryPerformanceCounter by default */
 600 #if OS(WINDOWS)
 601 #define USE_QUERY_PERFORMANCE_COUNTER  1
 602 #endif
 603 
 604 #if PLATFORM(COCOA)
 605 
 606 #define HAVE_OUT_OF_PROCESS_LAYER_HOSTING 1
 607 #define USE_CF 1
 608 #define USE_FILE_LOCK 1
 609 #define USE_FOUNDATION 1
 610 #define USE_NETWORK_CFDATA_ARRAY_CALLBACK 1
 611 
 612 /* Cocoa defines a series of platform macros for debugging. */
 613 /* Some of them are really annoying because they use common names (e.g. check()). */
 614 /* Disable those macros so that we are not limited in how we name methods and functions. */
 615 #undef __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES
 616 #define __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES 0
 617 
 618 #endif
 619 
 620 #if PLATFORM(MAC)
 621 
 622 #define HAVE_RUNLOOP_TIMER 1
 623 #define HAVE_SEC_KEYCHAIN 1
 624 #define USE_APPKIT 1
 625 #define USE_PASSKIT 1
 626 
 627 #if CPU(X86_64)
 628 #define HAVE_NETWORK_EXTENSION 1
 629 #define USE_PLUGIN_HOST_PROCESS 1
 630 #endif
 631 #endif /* PLATFORM(MAC) */
 632 
 633 #if PLATFORM(IOS_FAMILY)
 634 
 635 #define HAVE_NETWORK_EXTENSION 1
 636 #define HAVE_READLINE 1
 637 #define USE_UIKIT_EDITING 1
 638 #define USE_WEB_THREAD 1
 639 
 640 #if CPU(ARM64)
 641 #define ENABLE_JIT_CONSTANT_BLINDING 0
 642 #endif
 643 
 644 #if CPU(ARM_NEON)
 645 #undef HAVE_ARM_NEON_INTRINSICS
 646 #define HAVE_ARM_NEON_INTRINSICS 0
 647 #endif
 648 
 649 #endif /* PLATFORM(IOS_FAMILY) */
 650 
 651 #if !defined(HAVE_ACCESSIBILITY)
 652 #if PLATFORM(COCOA) || PLATFORM(WIN) || PLATFORM(GTK) || PLATFORM(WPE)
 653 #define HAVE_ACCESSIBILITY 1
 654 #endif
 655 #endif /* !defined(HAVE_ACCESSIBILITY) */
 656 
 657 /* FIXME: Remove after CMake build enabled on Darwin */
 658 #if OS(DARWIN)
 659 #define HAVE_ERRNO_H 1
 660 #define HAVE_LANGINFO_H 1
 661 #define HAVE_LOCALTIME_R 1
 662 #define HAVE_MMAP 1
 663 #define HAVE_REGEX_H 1
 664 #define HAVE_SIGNAL_H 1
 665 #define HAVE_STAT_BIRTHTIME 1
 666 #define HAVE_STRINGS_H 1
 667 #define HAVE_STRNSTR 1
 668 #define HAVE_SYS_PARAM_H 1
 669 #define HAVE_SYS_TIME_H 1
 670 #define HAVE_TM_GMTOFF 1
 671 #define HAVE_TM_ZONE 1
 672 #define HAVE_TIMEGM 1
 673 #define HAVE_PTHREAD_MAIN_NP 1
 674 
 675 #if CPU(X86_64) || CPU(ARM64)
 676 #define HAVE_INT128_T 1
 677 #endif
 678 #endif /* OS(DARWIN) */
 679 
 680 #if OS(UNIX)
 681 #define USE_PTHREADS 1
 682 #endif /* OS(UNIX) */
 683 
 684 #if OS(UNIX) &amp;&amp; !OS(FUCHSIA)
 685 #define HAVE_RESOURCE_H 1
 686 #define HAVE_PTHREAD_SETSCHEDPARAM 1
 687 #endif
 688 
 689 #if OS(DARWIN)
 690 #define HAVE_DISPATCH_H 1
 691 #define HAVE_MADV_FREE 1
 692 #define HAVE_MADV_FREE_REUSE 1
 693 #define HAVE_MADV_DONTNEED 1
 694 #define HAVE_MERGESORT 1
 695 #define HAVE_PTHREAD_SETNAME_NP 1
 696 #define HAVE_READLINE 1
 697 #define HAVE_SYS_TIMEB_H 1
 698 
 699 #if __has_include(&lt;mach/mach_exc.defs&gt;) &amp;&amp; !PLATFORM(GTK)
 700 #define HAVE_MACH_EXCEPTIONS 1
 701 #endif
 702 
 703 #if !PLATFORM(GTK)
 704 #define USE_ACCELERATE 1
 705 #endif
 706 #if !PLATFORM(IOS_FAMILY)
 707 #define HAVE_HOSTED_CORE_ANIMATION 1
 708 #endif
 709 
 710 #endif /* OS(DARWIN) */
 711 
 712 #if OS(DARWIN) || OS(FUCHSIA) || ((OS(FREEBSD) || defined(__GLIBC__) || defined(__BIONIC__)) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM) || CPU(ARM64) || CPU(MIPS)))
 713 #define HAVE_MACHINE_CONTEXT 1
 714 #endif
 715 
 716 #if OS(DARWIN) || (OS(LINUX) &amp;&amp; defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__))
 717 #define HAVE_BACKTRACE 1
 718 #endif
 719 
 720 #if OS(DARWIN) || OS(LINUX)
 721 #if PLATFORM(GTK)
 722 #if defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__)
 723 #define HAVE_BACKTRACE_SYMBOLS 1
 724 #endif
 725 #endif /* PLATFORM(GTK) */
 726 #define HAVE_DLADDR 1
 727 #endif /* OS(DARWIN) || OS(LINUX) */
 728 
 729 
 730 /* ENABLE macro defaults */
 731 
 732 /* FIXME: move out all ENABLE() defines from here to FeatureDefines.h */
 733 
 734 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalPlatform.h&gt;)
 735 #include &lt;WebKitAdditions/AdditionalPlatform.h&gt;
 736 #endif
 737 
 738 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;)
 739 #include &lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;
 740 #endif
 741 
 742 /* Include feature macros */
 743 #include &lt;wtf/FeatureDefines.h&gt;
 744 
 745 #if OS(WINDOWS)
 746 #define USE_SYSTEM_MALLOC 1
 747 #endif
 748 
 749 #if CPU(ADDRESS64)
 750 #if OS(DARWIN) &amp;&amp; CPU(ARM64)
 751 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 36
 752 #else
 753 /* We strongly assume that effective address width is &lt;= 48 in 64bit architectures (e.g. NaN boxing). */
 754 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 48
 755 #endif
 756 #else
 757 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 32
 758 #endif
 759 
 760 #if !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64)
 761 #if CPU(ADDRESS64) || CPU(ARM64)
 762 #define USE_JSVALUE64 1
 763 #else
 764 #define USE_JSVALUE32_64 1
 765 #endif
 766 #endif /* !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64) */
 767 
 768 /* The JIT is enabled by default on all x86-64 &amp; ARM64 platforms. */
 769 #if !defined(ENABLE_JIT) \
 770     &amp;&amp; (CPU(X86_64) || CPU(ARM64)) \
 771     &amp;&amp; !CPU(APPLE_ARMV7K)
 772 #define ENABLE_JIT 1
 773 #endif
 774 
 775 #if USE(JSVALUE32_64)
 776 #if (CPU(ARM_THUMB2) || CPU(MIPS)) &amp;&amp; OS(LINUX)
 777 /* On ARMv7 and MIPS on Linux the JIT is enabled unless explicitly disabled. */
 778 #if !defined(ENABLE_JIT)
 779 #define ENABLE_JIT 1
 780 #endif
 781 #else
 782 /* Disable JIT and force C_LOOP on all other 32bit architectures. */
 783 #undef ENABLE_JIT
 784 #define ENABLE_JIT 0
 785 #undef ENABLE_C_LOOP
 786 #define ENABLE_C_LOOP 1
 787 #endif
 788 #endif
 789 
 790 #if !defined(ENABLE_C_LOOP)
 791 #if ENABLE(JIT) \
 792     || CPU(X86_64) || (CPU(ARM64) &amp;&amp; !defined(__ILP32__))
 793 #define ENABLE_C_LOOP 0
 794 #else
 795 #define ENABLE_C_LOOP 1
 796 #endif
 797 #endif
 798 
 799 /* The FTL *does not* work on 32-bit platforms. Disable it even if someone asked us to enable it. */
 800 #if USE(JSVALUE32_64)
 801 #undef ENABLE_FTL_JIT
 802 #define ENABLE_FTL_JIT 0
 803 #endif
 804 
 805 /* The FTL is disabled on the iOS simulator, mostly for simplicity. */
 806 #if PLATFORM(IOS_FAMILY_SIMULATOR)
 807 #undef ENABLE_FTL_JIT
 808 #define ENABLE_FTL_JIT 0
 809 #endif
 810 
 811 /* If possible, try to enable a disassembler. This is optional. We proceed in two
 812    steps: first we try to find some disassembler that we can use, and then we
 813    decide if the high-level disassembler API can be enabled. */
 814 #if !defined(USE_UDIS86) &amp;&amp; ENABLE(JIT) &amp;&amp; (CPU(X86) || CPU(X86_64)) &amp;&amp; !USE(CAPSTONE)
 815 #define USE_UDIS86 1
 816 #endif
 817 
 818 #if !defined(USE_ARM64_DISASSEMBLER) &amp;&amp; ENABLE(JIT) &amp;&amp; CPU(ARM64) &amp;&amp; !USE(CAPSTONE)
 819 #define USE_ARM64_DISASSEMBLER 1
 820 #endif
 821 
 822 #if !defined(ENABLE_DISASSEMBLER) &amp;&amp; (USE(UDIS86) || USE(ARM64_DISASSEMBLER) || (ENABLE(JIT) &amp;&amp; USE(CAPSTONE)))
 823 #define ENABLE_DISASSEMBLER 1
 824 #endif
 825 
 826 #if !defined(ENABLE_DFG_JIT) &amp;&amp; ENABLE(JIT)
 827 /* Enable the DFG JIT on X86 and X86_64. */
 828 #if (CPU(X86) || CPU(X86_64)) &amp;&amp; (OS(DARWIN) || OS(LINUX) || OS(FREEBSD) || OS(HURD) || OS(WINDOWS))
 829 #define ENABLE_DFG_JIT 1
 830 #endif
 831 /* Enable the DFG JIT on ARMv7.  Only tested on iOS, Linux, and FreeBSD. */
 832 #if (CPU(ARM_THUMB2) || CPU(ARM64)) &amp;&amp; (PLATFORM(IOS_FAMILY) || OS(LINUX) || OS(FREEBSD))
 833 #define ENABLE_DFG_JIT 1
 834 #endif
 835 /* Enable the DFG JIT on MIPS. */
 836 #if CPU(MIPS)
 837 #define ENABLE_DFG_JIT 1
 838 #endif
 839 #endif
 840 
 841 /* Concurrent JS only works on 64-bit platforms because it requires that
 842    values get stored to atomically. This is trivially true on 64-bit platforms,
 843    but not true at all on 32-bit platforms where values are composed of two
 844    separate sub-values. */
 845 #if ENABLE(DFG_JIT) &amp;&amp; USE(JSVALUE64)
 846 #define ENABLE_CONCURRENT_JS 1
 847 #endif
 848 
 849 #if __has_include(&lt;System/pthread_machdep.h&gt;)
 850 #define HAVE_FAST_TLS 1
 851 #endif
 852 
 853 #if (CPU(X86_64) || CPU(ARM64)) &amp;&amp; HAVE(FAST_TLS)
 854 #define ENABLE_FAST_TLS_JIT 1
 855 #endif
 856 
 857 #if CPU(X86) || CPU(X86_64) || CPU(ARM_THUMB2) || CPU(ARM64) || CPU(MIPS)
 858 #define ENABLE_MASM_PROBE 1
 859 #else
 860 #define ENABLE_MASM_PROBE 0
 861 #endif
 862 
 863 #if !ENABLE(JIT)
 864 #undef ENABLE_MASM_PROBE
 865 #define ENABLE_MASM_PROBE 0
 866 #endif
 867 
 868 /* If the baseline jit is not available, then disable upper tiers as well.
 869    The MacroAssembler::probe() is also required for supporting the upper tiers. */
 870 #if !ENABLE(JIT) || !ENABLE(MASM_PROBE)
 871 #undef ENABLE_DFG_JIT
 872 #undef ENABLE_FTL_JIT
 873 #define ENABLE_DFG_JIT 0
 874 #define ENABLE_FTL_JIT 0
 875 #endif
 876 
 877 /* If the DFG jit is not available, then disable upper tiers as well: */
 878 #if !ENABLE(DFG_JIT)
 879 #undef ENABLE_FTL_JIT
 880 #define ENABLE_FTL_JIT 0
 881 #endif
 882 
 883 /* This controls whether B3 is built. B3 is needed for FTL JIT and WebAssembly */
 884 #if ENABLE(FTL_JIT)
 885 #define ENABLE_B3_JIT 1
 886 #endif
 887 
 888 #if !defined(ENABLE_WEBASSEMBLY)
 889 #if ENABLE(B3_JIT) &amp;&amp; PLATFORM(COCOA) &amp;&amp; CPU(ADDRESS64)
 890 #define ENABLE_WEBASSEMBLY 1
 891 #else
 892 #define ENABLE_WEBASSEMBLY 0
 893 #endif
 894 #endif
 895 
 896 /* The SamplingProfiler is the probabilistic and low-overhead profiler used by
 897  * JSC to measure where time is spent inside a JavaScript program.
 898  * In configurations other than Windows and Darwin, because layout of mcontext_t depends on standard libraries (like glibc),
 899  * sampling profiler is enabled if WebKit uses pthreads and glibc. */
 900 #if !defined(ENABLE_SAMPLING_PROFILER)
 901 #if !ENABLE(C_LOOP) &amp;&amp; (OS(WINDOWS) || HAVE(MACHINE_CONTEXT))
 902 #define ENABLE_SAMPLING_PROFILER 1
 903 #else
 904 #define ENABLE_SAMPLING_PROFILER 0
 905 #endif
 906 #endif
 907 
 908 #if ENABLE(WEBASSEMBLY) &amp;&amp; HAVE(MACHINE_CONTEXT)
 909 #define ENABLE_WEBASSEMBLY_FAST_MEMORY 1
 910 #endif
 911 
 912 /* Counts uses of write barriers using sampling counters. Be sure to also
 913    set ENABLE_SAMPLING_COUNTERS to 1. */
 914 #if !defined(ENABLE_WRITE_BARRIER_PROFILING)
 915 #define ENABLE_WRITE_BARRIER_PROFILING 0
 916 #endif
 917 
 918 /* Logs all allocation-related activity that goes through fastMalloc or the
 919    JSC GC (both cells and butterflies). Also logs marking. Note that this
 920    isn&#39;t a completely accurate view of the heap since it doesn&#39;t include all
 921    butterfly resize operations, doesn&#39;t tell you what is going on with weak
 922    references (other than to tell you when they&#39;re marked), and doesn&#39;t
 923    track direct mmap() allocations or things like JIT allocation. */
 924 #if !defined(ENABLE_ALLOCATION_LOGGING)
 925 #define ENABLE_ALLOCATION_LOGGING 0
 926 #endif
 927 
 928 /* Enable verification that that register allocations are not made within generated control flow.
 929    Turned on for debug builds. */
 930 #if !defined(ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION) &amp;&amp; ENABLE(DFG_JIT)
 931 #if !defined(NDEBUG)
 932 #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 1
 933 #else
 934 #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 0
 935 #endif
 936 #endif
 937 
 938 /* Configure the JIT */
 939 #if CPU(X86) &amp;&amp; COMPILER(MSVC)
 940 #define JSC_HOST_CALL __fastcall
 941 #elif CPU(X86) &amp;&amp; COMPILER(GCC_COMPATIBLE)
 942 #define JSC_HOST_CALL __attribute__ ((fastcall))
 943 #else
 944 #define JSC_HOST_CALL
 945 #endif
 946 
 947 #if CPU(X86) &amp;&amp; OS(WINDOWS)
 948 #define CALLING_CONVENTION_IS_STDCALL 1
 949 #ifndef CDECL
 950 #if COMPILER(MSVC)
 951 #define CDECL __cdecl
 952 #else
 953 #define CDECL __attribute__ ((__cdecl))
 954 #endif
 955 #endif
 956 #else
 957 #define CALLING_CONVENTION_IS_STDCALL 0
 958 #endif
 959 
 960 #if CPU(X86)
 961 #define WTF_COMPILER_SUPPORTS_FASTCALL_CALLING_CONVENTION 1
 962 #ifndef FASTCALL
 963 #if COMPILER(MSVC)
 964 #define FASTCALL __fastcall
 965 #else
 966 #define FASTCALL  __attribute__ ((fastcall))
 967 #endif
 968 #endif
 969 #else
 970 #define WTF_COMPILER_SUPPORTS_FASTCALL_CALLING_CONVENTION 0
 971 #endif
 972 
 973 #if ENABLE(JIT) &amp;&amp; CALLING_CONVENTION_IS_STDCALL
 974 #define JIT_OPERATION CDECL
 975 #else
 976 #define JIT_OPERATION
 977 #endif
 978 
 979 #if PLATFORM(IOS_FAMILY) &amp;&amp; CPU(ARM64) &amp;&amp; (!ENABLE(FAST_JIT_PERMISSIONS) || !CPU(ARM64E))
 980 #define ENABLE_SEPARATED_WX_HEAP 1
 981 #else
 982 #define ENABLE_SEPARATED_WX_HEAP 0
 983 #endif
 984 
 985 /* Configure the interpreter */
 986 #if COMPILER(GCC_COMPATIBLE)
 987 #define HAVE_COMPUTED_GOTO 1
 988 #endif
 989 
 990 /* Determine if we need to enable Computed Goto Opcodes or not: */
 991 #if HAVE(COMPUTED_GOTO) || !ENABLE(C_LOOP)
 992 #define ENABLE_COMPUTED_GOTO_OPCODES 1
 993 #endif
 994 
 995 #if !defined(USE_LLINT_EMBEDDED_OPCODE_ID) &amp;&amp; !ENABLE(C_LOOP) &amp;&amp; !COMPILER(MSVC) &amp;&amp; \
 996     (CPU(X86) || CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; OS(DARWIN)))
 997 /* This feature works by embedding the OpcodeID in the 32 bit just before the generated LLint code
 998    that executes each opcode. It cannot be supported by the CLoop since there&#39;s no way to embed the
 999    OpcodeID word in the CLoop&#39;s switch statement cases. It is also currently not implemented for MSVC.
1000 */
1001 #define USE_LLINT_EMBEDDED_OPCODE_ID 1
1002 #endif
1003 
1004 /* Regular Expression Tracing - Set to 1 to trace RegExp&#39;s in jsc.  Results dumped at exit */
1005 #define ENABLE_REGEXP_TRACING 0
1006 
1007 /* Yet Another Regex Runtime - turned on by default for JIT enabled ports. */
1008 #if !defined(ENABLE_YARR_JIT) &amp;&amp; ENABLE(JIT)
1009 #define ENABLE_YARR_JIT 1
1010 
1011 /* Setting this flag compares JIT results with interpreter results. */
1012 #define ENABLE_YARR_JIT_DEBUG 0
1013 #endif
1014 
1015 #if ENABLE(YARR_JIT)
1016 #if CPU(ARM64) || (CPU(X86_64) &amp;&amp; !OS(WINDOWS))
1017 /* Enable JIT&#39;ing Regular Expressions that have nested parenthesis and back references. */
1018 #define ENABLE_YARR_JIT_ALL_PARENS_EXPRESSIONS 1
1019 #define ENABLE_YARR_JIT_BACKREFERENCES 1
1020 #endif
1021 #endif
1022 
1023 /* If either the JIT or the RegExp JIT is enabled, then the Assembler must be
1024    enabled as well: */
1025 #if ENABLE(JIT) || ENABLE(YARR_JIT) || !ENABLE(C_LOOP)
1026 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER
1027 #error &quot;Cannot enable the JIT or RegExp JIT without enabling the Assembler&quot;
1028 #else
1029 #undef ENABLE_ASSEMBLER
1030 #define ENABLE_ASSEMBLER 1
1031 #endif
1032 #endif
1033 
1034 /* If the Disassembler is enabled, then the Assembler must be enabled as well: */
1035 #if ENABLE(DISASSEMBLER)
1036 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER
1037 #error &quot;Cannot enable the Disassembler without enabling the Assembler&quot;
1038 #else
1039 #undef ENABLE_ASSEMBLER
1040 #define ENABLE_ASSEMBLER 1
1041 #endif
1042 #endif
1043 
1044 #ifndef ENABLE_EXCEPTION_SCOPE_VERIFICATION
1045 #ifdef NDEBUG
1046 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 0
1047 #else
1048 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 1
1049 #endif
1050 #endif
1051 
1052 #if ENABLE(DFG_JIT) &amp;&amp; HAVE(MACHINE_CONTEXT) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM64))
1053 #define ENABLE_SIGNAL_BASED_VM_TRAPS 1
1054 #endif
1055 
1056 /* CSS Selector JIT Compiler */
1057 #if !defined(ENABLE_CSS_SELECTOR_JIT)
1058 #if (CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; PLATFORM(IOS_FAMILY))) &amp;&amp; ENABLE(JIT) &amp;&amp; (OS(DARWIN) || PLATFORM(GTK) || PLATFORM(WPE))
1059 #define ENABLE_CSS_SELECTOR_JIT 1
1060 #else
1061 #define ENABLE_CSS_SELECTOR_JIT 0
1062 #endif
1063 #endif
1064 
1065 #if CPU(ARM64E) &amp;&amp; OS(DARWIN)
1066 #define HAVE_FJCVTZS_INSTRUCTION 1
1067 #endif
1068 
1069 #if PLATFORM(IOS)
1070 #define HAVE_APP_LINKS 1
1071 #define USE_PASSKIT 1
1072 #define USE_QUICK_LOOK 1
1073 #define USE_SYSTEM_PREVIEW 1
1074 #endif
1075 
1076 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(MACCATALYST)
1077 #define HAVE_CELESTIAL 1
1078 #define HAVE_CORE_ANIMATION_RENDER_SERVER 1
1079 #endif
1080 
1081 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(MACCATALYST) &amp;&amp; !PLATFORM(APPLETV)
1082 #define HAVE_PARENTAL_CONTROLS_WITH_UNBLOCK_HANDLER 1
1083 #endif
1084 
1085 #if PLATFORM(COCOA)
1086 
1087 #define USE_AVFOUNDATION 1
1088 #define USE_PROTECTION_SPACE_AUTH_CALLBACK 1
1089 
1090 #if !PLATFORM(WATCHOS) &amp;&amp; !PLATFORM(APPLETV) &amp;&amp; !PLATFORM(MACCATALYST)
1091 #define ENABLE_DATA_DETECTION 1
1092 #endif
1093 
1094 /* FIXME: Enable HAVE_PARENTAL_CONTROLS for watchOS Simulator once rdar://problem/54608386 is resolved */
1095 #if !PLATFORM(APPLETV) &amp;&amp; (!PLATFORM(WATCHOS) || !PLATFORM(IOS_FAMILY_SIMULATOR))
1096 #define HAVE_PARENTAL_CONTROLS 1
1097 #endif
1098 
1099 #if !PLATFORM(APPLETV)
1100 #define HAVE_AVKIT 1
1101 #endif
1102 
1103 #if ENABLE(WEBGL)
1104 /* USE_ANGLE=1 uses ANGLE for the WebGL backend.
1105    It replaces USE_OPENGL, USE_OPENGL_ES and USE_EGL. */
1106 #if PLATFORM(MAC)
1107 #define USE_OPENGL 1
1108 #define USE_OPENGL_ES 0
1109 #define USE_ANGLE 0
1110 #elif PLATFORM(MACCATALYST) &amp;&amp; __has_include(&lt;OpenGL/OpenGL.h&gt;)
1111 #define USE_OPENGL 1
1112 #define USE_OPENGL_ES 0
1113 #define USE_ANGLE 0
1114 #else
1115 #define USE_OPENGL 0
1116 #define USE_OPENGL_ES 1
1117 #define USE_ANGLE 0
1118 #endif
1119 #if PLATFORM(COCOA)
1120 #ifndef GL_SILENCE_DEPRECATION
1121 #define GL_SILENCE_DEPRECATION 1
1122 #endif
1123 #endif
1124 #endif
1125 
1126 #define USE_METAL 1
1127 
1128 #if ENABLE(ACCESSIBILITY)
1129 #define USE_ACCESSIBILITY_CONTEXT_MENUS 1
1130 #endif
1131 
1132 #endif
1133 
1134 #if ENABLE(WEBGL) &amp;&amp; PLATFORM(WIN)
1135 #define USE_OPENGL 1
1136 #define USE_OPENGL_ES 1
1137 #define USE_EGL 1
1138 #endif
1139 
1140 #if ENABLE(WEBGL)
1141 #if !defined(USE_ANGLE)
1142 #define USE_ANGLE 0
1143 #endif
1144 
1145 #if (USE_ANGLE &amp;&amp; (USE_OPENGL || USE_OPENGL_ES || (defined(USE_EGL) &amp;&amp; USE_EGL)))
1146 #error USE_ANGLE is incompatible with USE_OPENGL, USE_OPENGL_ES and USE_EGL
1147 #endif
1148 #endif
1149 
1150 #if USE(TEXTURE_MAPPER) &amp;&amp; ENABLE(GRAPHICS_CONTEXT_3D) &amp;&amp; !defined(USE_TEXTURE_MAPPER_GL)
1151 #define USE_TEXTURE_MAPPER_GL 1
1152 #endif
1153 
1154 #if CPU(ARM_THUMB2) || CPU(ARM64)
1155 #define ENABLE_BRANCH_COMPACTION 1
1156 #endif
1157 
1158 #if !defined(ENABLE_THREADING_LIBDISPATCH) &amp;&amp; HAVE(DISPATCH_H)
1159 #define ENABLE_THREADING_LIBDISPATCH 1
1160 #elif !defined(ENABLE_THREADING_OPENMP) &amp;&amp; defined(_OPENMP)
1161 #define ENABLE_THREADING_OPENMP 1
1162 #elif !defined(THREADING_GENERIC)
1163 #define ENABLE_THREADING_GENERIC 1
1164 #endif
1165 
1166 #if USE(GLIB)
1167 #include &lt;wtf/glib/GTypedefs.h&gt;
1168 #endif
1169 
1170 #if !defined(USE_EXPORT_MACROS) &amp;&amp; (PLATFORM(COCOA) || OS(WINDOWS))
1171 #define USE_EXPORT_MACROS 1
1172 #endif
1173 
1174 #if PLATFORM(GTK) || PLATFORM(WPE)
1175 #define USE_UNIX_DOMAIN_SOCKETS 1
1176 #endif
1177 
1178 #if !defined(USE_IMLANG_FONT_LINK2)
1179 #define USE_IMLANG_FONT_LINK2 1
1180 #endif
1181 
1182 #if !defined(ENABLE_GC_VALIDATION) &amp;&amp; !defined(NDEBUG)
1183 #define ENABLE_GC_VALIDATION 1
1184 #endif
1185 
1186 #if !defined(ENABLE_BINDING_INTEGRITY) &amp;&amp; !OS(WINDOWS)
1187 #define ENABLE_BINDING_INTEGRITY 1
1188 #endif
1189 
1190 #if !defined(ENABLE_TREE_DEBUGGING)
1191 #if !defined(NDEBUG)
1192 #define ENABLE_TREE_DEBUGGING 1
1193 #else
1194 #define ENABLE_TREE_DEBUGGING 0
1195 #endif
1196 #endif
1197 
1198 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1199 #define USE_COREMEDIA 1
1200 #define USE_VIDEOTOOLBOX 1
1201 #define HAVE_AVFOUNDATION_VIDEO_OUTPUT 1
1202 #define HAVE_CORE_VIDEO 1
1203 #define HAVE_MEDIA_PLAYER 1
1204 #endif
1205 
1206 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1207 #define HAVE_AVFOUNDATION_MEDIA_SELECTION_GROUP 1
1208 #endif
1209 
1210 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1211 #define HAVE_AVFOUNDATION_LEGIBLE_OUTPUT_SUPPORT 1
1212 #define HAVE_MEDIA_ACCESSIBILITY_FRAMEWORK 1
1213 #endif
1214 
1215 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1216 #define HAVE_AVFOUNDATION_LOADER_DELEGATE 1
1217 #endif
1218 
1219 #if !PLATFORM(WIN) &amp;&amp; !PLATFORM(JAVA)
1220 #define USE_REQUEST_ANIMATION_FRAME_DISPLAY_MONITOR 1
1221 #endif
1222 
1223 #if PLATFORM(MAC) || PLATFORM(MACCATALYST)
1224 #define HAVE_APPLE_GRAPHICS_CONTROL 1
1225 #endif
1226 
1227 #if PLATFORM(MAC)
1228 #define USE_COREAUDIO 1
1229 #endif
1230 
1231 #if !defined(USE_ZLIB) &amp;&amp; !PLATFORM(JAVA)
1232 #define USE_ZLIB 1
1233 #endif
1234 
1235 #ifndef HAVE_QOS_CLASSES
1236 #if PLATFORM(COCOA)
1237 #define HAVE_QOS_CLASSES 1
1238 #endif
1239 #endif
1240 
1241 #ifndef HAVE_VOUCHERS
1242 #if PLATFORM(COCOA)
1243 #define HAVE_VOUCHERS 1
1244 #endif
1245 #endif
1246 
1247 #define USE_GRAMMAR_CHECKING 1
1248 
1249 #if PLATFORM(COCOA) || PLATFORM(GTK)
1250 #define USE_UNIFIED_TEXT_CHECKING 1
1251 #endif
1252 #if PLATFORM(MAC)
1253 #define USE_AUTOMATIC_TEXT_REPLACEMENT 1
1254 #endif
1255 
1256 #if PLATFORM(MAC)
1257 /* Some platforms provide UI for suggesting autocorrection. */
1258 #define USE_AUTOCORRECTION_PANEL 1
1259 #endif
1260 
1261 #if PLATFORM(COCOA)
1262 /* Some platforms use spelling and autocorrection markers to provide visual cue. On such platform, if word with marker is edited, we need to remove the marker. */
1263 #define USE_MARKER_REMOVAL_UPON_EDITING 1
1264 #endif
1265 
1266 #if PLATFORM(MAC)
1267 #define USE_INSERTION_UNDO_GROUPING 1
1268 #endif
1269 
1270 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1271 #define HAVE_AVASSETREADER 1
1272 #endif
1273 
1274 #if PLATFORM(COCOA)
1275 #define HAVE_TIMINGDATAOPTIONS 1
1276 #endif
1277 
1278 #if PLATFORM(COCOA)
1279 #define USE_AUDIO_SESSION 1
1280 #endif
1281 
1282 #if PLATFORM(COCOA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)
1283 #define HAVE_IOSURFACE 1
1284 #endif
1285 
1286 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; !PLATFORM(MACCATALYST)
1287 #define HAVE_IOSURFACE_ACCELERATOR 1
1288 #endif
1289 
1290 #if PLATFORM(COCOA)
1291 #define ENABLE_RESOURCE_USAGE 1
1292 #endif
1293 
1294 #if PLATFORM(GTK) || PLATFORM(WPE)
1295 #undef ENABLE_OPENTYPE_VERTICAL
1296 #define ENABLE_OPENTYPE_VERTICAL 1
1297 #endif
1298 
1299 #if COMPILER(MSVC)
1300 #undef __STDC_FORMAT_MACROS
1301 #define __STDC_FORMAT_MACROS
1302 #undef __STDC_LIMIT_MACROS
1303 #define __STDC_LIMIT_MACROS
1304 #endif
1305 
1306 #if PLATFORM(MAC)
1307 #define HAVE_NS_ACTIVITY 1
1308 #endif
1309 
1310 /* Disable SharedArrayBuffers until Spectre security concerns are mitigated. */
1311 #define ENABLE_SHARED_ARRAY_BUFFER 0
1312 
1313 #if (OS(DARWIN) &amp;&amp; USE(CG)) || (USE(FREETYPE) &amp;&amp; !PLATFORM(GTK)) || (PLATFORM(WIN) &amp;&amp; (USE(CG) || USE(CAIRO)))
1314 #undef ENABLE_OPENTYPE_MATH
1315 #define ENABLE_OPENTYPE_MATH 1
1316 #endif
1317 
1318 /* Set TARGET_OS_IPHONE to 0 by default to allow using it as a guard
1319  * in cross-platform the same way as it is used in OS(DARWIN) code. */
1320 #if !defined(TARGET_OS_IPHONE) &amp;&amp; !OS(DARWIN)
1321 #define TARGET_OS_IPHONE 0
1322 #endif
1323 
1324 #if PLATFORM(COCOA)
1325 #define USE_MEDIATOOLBOX 1
1326 #endif
1327 
1328 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1329 #define USE_OS_LOG 1
1330 #if USE(APPLE_INTERNAL_SDK)
1331 #define USE_OS_STATE 1
1332 #endif
1333 #endif
1334 
1335 #if PLATFORM(COCOA)
1336 #define HAVE_SEC_TRUST_SERIALIZATION 1
1337 #endif
1338 
1339 #if !defined(WTF_DEFAULT_EVENT_LOOP)
1340 #define WTF_DEFAULT_EVENT_LOOP 1
1341 #endif
1342 
1343 #if WTF_DEFAULT_EVENT_LOOP
1344 #if USE(GLIB)
1345 /* Use GLib&#39;s event loop abstraction. Primarily GTK port uses it. */
1346 #define USE_GLIB_EVENT_LOOP 1
1347 #elif OS(WINDOWS)
1348 /* Use Windows message pump abstraction.
1349  * Even if the port is AppleWin, we use the Windows message pump system for the event loop,
1350  * so that USE(WINDOWS_EVENT_LOOP) &amp;&amp; USE(CF) can be true.
1351  * And PLATFORM(WIN) and PLATFORM(GTK) are exclusive. If the port is GTK,
1352  * PLATFORM(WIN) should be false. And in that case, GLib&#39;s event loop is used.
1353  */
1354 #define USE_WINDOWS_EVENT_LOOP 1
1355 #elif PLATFORM(COCOA)
1356 /* OS X and IOS. Use CoreFoundation &amp; GCD abstraction. */
1357 #define USE_COCOA_EVENT_LOOP 1
1358 #else
1359 #define USE_GENERIC_EVENT_LOOP 1
1360 #endif
1361 #endif
1362 
1363 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1364 #define USE_MEDIAREMOTE 1
1365 #endif
1366 
1367 #if COMPILER(MSVC)
1368 /* Enable strict runtime stack buffer checks. */
1369 #pragma strict_gs_check(on)
1370 #endif
1371 
1372 #if PLATFORM(MAC)
1373 #define HAVE_TOUCH_BAR 1
1374 #define USE_DICTATION_ALTERNATIVES 1
1375 
1376 #if defined(__LP64__)
1377 #define ENABLE_WEB_PLAYBACK_CONTROLS_MANAGER 1
1378 #endif
1379 #endif /* PLATFORM(MAC) */
1380 
1381 #if PLATFORM(COCOA) &amp;&amp; ENABLE(WEB_RTC)
1382 #define USE_LIBWEBRTC 1
1383 #endif
1384 
1385 #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST) || USE(GCRYPT)
1386 #define HAVE_RSA_PSS 1
1387 #endif
1388 
1389 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || PLATFORM(IOS_FAMILY)
1390 #define USE_SOURCE_APPLICATION_AUDIT_DATA 1
1391 #endif
1392 
1393 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1394 #define HAVE_HSTS_STORAGE_PATH 1
1395 #endif
1396 
1397 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(MACCATALYST)
1398 #define HAVE_URL_FORMATTING 1
1399 #endif
1400 
1401 #if !OS(WINDOWS)
1402 #define HAVE_STACK_BOUNDS_FOR_NEW_THREAD 1
1403 #endif
1404 
1405 #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST)
1406 #define HAVE_AVCONTENTKEYSESSION 1
1407 #endif
1408 
1409 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(MACCATALYST)
1410 #define HAVE_SEC_KEY_PROXY 1
1411 #endif
1412 
1413 #if PLATFORM(COCOA) &amp;&amp; USE(CA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)
1414 #define USE_IOSURFACE_CANVAS_BACKING_STORE 1
1415 #endif
1416 
1417 /* FIXME: Should this be enabled or IOS_FAMILY, not just IOS? */
1418 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)
1419 #define HAVE_FOUNDATION_WITH_SAVE_COOKIES_WITH_COMPLETION_HANDLER 1
1420 #endif
1421 
1422 /* FIXME: Should this be enabled for IOS_FAMILY, not just IOS? */
1423 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)
1424 #define HAVE_FOUNDATION_WITH_SAME_SITE_COOKIE_SUPPORT 1
1425 #endif
1426 
1427 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101400
1428 #define HAVE_NSHTTPCOOKIESTORAGE__INITWITHIDENTIFIER_WITH_INACCURATE_NULLABILITY 1
1429 #endif
1430 
1431 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1432 #define HAVE_CFNETWORK_WITH_CONTENT_ENCODING_SNIFFING_OVERRIDE 1
1433 /* The override isn&#39;t needed on iOS family, as the default behavior is to not sniff. */
1434 /* FIXME: This should probably be enabled on 10.13.2 and newer, not just 10.14 and newer. */
1435 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1436 #define USE_CFNETWORK_CONTENT_ENCODING_SNIFFING_OVERRIDE 1
1437 #endif
1438 #endif
1439 
1440 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1441 #define HAVE_CFNETWORK_WITH_IGNORE_HSTS 1
1442 #endif
1443 
1444 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1445 #define HAVE_CFNETWORK_WITH_AUTO_ADDED_HTTP_HEADER_SUPPRESSION_SUPPORT 1
1446 /* FIXME: Does this work, and is this needed on other iOS family platforms? */
1447 #if PLATFORM(MAC) || PLATFORM(IOS)
1448 #define USE_CFNETWORK_AUTO_ADDED_HTTP_HEADER_SUPPRESSION 1
1449 #endif
1450 #endif
1451 
1452 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1453 #define HAVE_OS_DARK_MODE_SUPPORT 1
1454 #endif
1455 
1456 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1457 #define HAVE_CG_FONT_RENDERING_GET_FONT_SMOOTHING_DISABLED 1
1458 #endif
1459 
1460 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1461 #define HAVE_CA_WHERE_ADDITIVE_TRANSFORMS_ARE_REVERSED 1
1462 #endif
1463 
1464 #ifdef __APPLE__
1465 #define HAVE_FUNC_USLEEP 1
1466 #endif
1467 
1468 #if PLATFORM(MAC) || PLATFORM(WPE)
1469 /* FIXME: This really needs a descriptive name, this &quot;new theme&quot; was added in 2008. */
1470 #define USE_NEW_THEME 1
1471 #endif
1472 
1473 #if PLATFORM(MAC)
1474 #define HAVE_WINDOW_SERVER_OCCLUSION_NOTIFICATIONS 1
1475 #endif
1476 
1477 #if PLATFORM(COCOA)
1478 #define HAVE_SEC_ACCESS_CONTROL 1
1479 #endif
1480 
1481 #if PLATFORM(IOS)
1482 /* FIXME: SafariServices.framework exists on macOS. It is only used by WebKit on iOS, so the behavior is correct, but the name is misleading. */
1483 #define HAVE_SAFARI_SERVICES_FRAMEWORK 1
1484 #endif
1485 
1486 #if (PLATFORM(MAC) &amp;&amp; !defined(__i386__)) || PLATFORM(IOS) || PLATFORM(WATCHOS)
1487 #define HAVE_SAFE_BROWSING 1
1488 #endif
1489 
1490 #if PLATFORM(IOS)
1491 #define HAVE_LINK_PREVIEW 1
1492 #endif
1493 
1494 #if PLATFORM(COCOA)
1495 /* FIXME: This is a USE style macro, as it triggers the use of CFURLConnection framework stubs. */
1496 /* FIXME: Is this still necessary? CFURLConnection isn&#39;t used on Cocoa platforms any more. */
1497 #define ENABLE_SEC_ITEM_SHIM 1
1498 #endif
1499 
1500 #if (PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400))
1501 #define HAVE_ACCESSIBILITY_SUPPORT 1
1502 #endif
1503 
1504 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000
1505 #define HAVE_ACCESSIBILITY_BUNDLES_PATH 1
1506 #endif
1507 
1508 #if PLATFORM(MAC)
1509 #define ENABLE_FULL_KEYBOARD_ACCESS 1
1510 #endif
1511 
1512 #if (PLATFORM(COCOA) &amp;&amp; ENABLE(ASYNC_SCROLLING)) || PLATFORM(GTK)
1513 #define ENABLE_KINETIC_SCROLLING 1
1514 #endif
1515 
1516 #if PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400)
1517 #define HAVE_AUTHORIZATION_STATUS_FOR_MEDIA_TYPE 1
1518 #endif
1519 
1520 #if (PLATFORM(MAC) &amp;&amp; (__MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400 &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101404)) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 120200) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1521 #define HAVE_CFNETWORK_OVERRIDE_SESSION_COOKIE_ACCEPT_POLICY 1
1522 #endif
1523 
1524 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1525 #define HAVE_CFNETWORK_NSURLSESSION_STRICTRUSTEVALUATE 1
1526 #endif
1527 
1528 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1529 #define HAVE_CFNETWORK_NEGOTIATED_SSL_PROTOCOL_CIPHER 1
1530 #endif
1531 
1532 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500
1533 #define HAVE_CSCHECKFIXDISABLE 1
1534 #endif
1535 
1536 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1537 #define HAVE_SANDBOX_ISSUE_MACH_EXTENSION_TO_PROCESS_BY_PID 1
1538 #endif
1539 
1540 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)
1541 #define HAVE_SANDBOX_ISSUE_READ_EXTENSION_TO_PROCESS_BY_PID 1
1542 #endif
1543 
1544 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1545 #define HAVE_MDNS_FAST_REGISTRATION 1
1546 #endif
1547 
1548 #if PLATFORM(MAC)
1549 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__MAC_OS_X_VERSION_MIN_REQUIRED &lt; 101500)
1550 #elif PLATFORM(IOS_FAMILY)
1551 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__IPHONE_OS_VERSION_MIN_REQUIRED &lt; 130000)
1552 #endif
1553 
1554 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS_FAMILY)
1555 #define HAVE_DISALLOWABLE_USER_INSTALLED_FONTS 1
1556 #endif
1557 
1558 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1559 #define HAVE_CTFONTCREATEFORCHARACTERSWITHLANGUAGEANDOPTION 1
1560 #endif
1561 
1562 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000
1563 #define HAVE_ARKIT_QUICK_LOOK_PREVIEW_ITEM 1
1564 #endif
1565 
1566 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000
1567 #define HAVE_UI_WK_DOCUMENT_CONTEXT 1
1568 #endif
1569 
1570 #if PLATFORM(MACCATALYST)
1571 #define ENABLE_PLATFORM_DRIVEN_TEXT_CHECKING 1
1572 #endif
1573 
1574 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1575 #define HAVE_ALLOWS_SENSITIVE_LOGGING 1
1576 #define HAVE_FAIRPLAYSTREAMING_CENC_INITDATA 1
1577 #endif
1578 
1579 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1580 #define HAVE_UI_SCROLL_VIEW_INDICATOR_FLASHING_SPI 1
1581 #endif
1582 
1583 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1584 #define HAVE_APP_LINKS_WITH_ISENABLED 1
1585 #endif
1586 
1587 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1588 #define HAVE_ROUTE_SHARING_POLICY_LONG_FORM_VIDEO 1
1589 #endif
1590 
1591 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; !PLATFORM(IOS_SIMULATOR))
1592 #define HAVE_DEVICE_MANAGEMENT 1
1593 #endif
1594 
1595 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101500
1596 #define USE_REALPATH_FOR_DLOPEN_PREFLIGHT 1
1597 #endif
1598 
1599 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1600 #define HAVE_NSURLSESSION_WEBSOCKET 1
1601 #endif
1602 
1603 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1604 #define HAVE_AVPLAYER_RESOURCE_CONSERVATION_LEVEL 1
1605 #endif
1606 
1607 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1608 #define HAVE_CORETEXT_AUTO_OPTICAL_SIZING 1
1609 #endif
1610 
1611 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000 || PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)
1612 #define HAVE_APP_SSO 1
1613 #endif
1614 
1615 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000 || PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)
1616 #define HAVE_TLS_PROTOCOL_VERSION_T 1
1617 #endif
1618 
1619 #if PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000
1620 #define USE_UICONTEXTMENU 1
1621 #endif
1622 
1623 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500
1624 #define HAVE_SUBVIEWS_IVAR_SPI 1
1625 #endif
1626 
1627 #if PLATFORM(MAC) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 110000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1628 #define USE_PLATFORM_SYSTEM_FALLBACK_LIST 1
1629 #endif
1630 
1631 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1632 #define HAVE_DESIGN_SYSTEM_UI_FONTS 1
1633 #endif
1634 
1635 #if (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)
1636 #define USE_HIRAGINO_SANS_WORKAROUND 1
1637 #endif
1638 
1639 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS) &amp;&amp; !PLATFORM(IOS_SIMULATOR))
1640 #define HAVE_DEVICE_IDENTITY 1
1641 #endif
1642 
1643 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1644 #define HAVE_DATA_PROTECTION_KEYCHAIN 1
1645 #endif
1646 
1647 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1648 #define HAVE_NEAR_FIELD 1
1649 #endif
    </pre>
  </body>
</html>