<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/JavaScriptCore/CMakeLists.txt</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="API/WebKitAvailability.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="DerivedSources-input.xcfilelist.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/CMakeLists.txt</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,15 +1,15 @@</span>
<span class="udiff-line-modified-removed">- cmake_minimum_required(VERSION 2.8.12)</span>
<span class="udiff-line-modified-added">+ cmake_minimum_required(VERSION 3.10)</span>
  include(WebKitCommon)
  set_property(DIRECTORY . PROPERTY FOLDER &quot;JavaScriptCore&quot;)
  
  list(APPEND JavaScriptCore_UNIFIED_SOURCE_LIST_FILES
      &quot;Sources.txt&quot;
  )
  
  set(JavaScriptCore_INCLUDE_DIRECTORIES
<span class="udiff-line-modified-removed">-     &quot;${FORWARDING_HEADERS_DIR}&quot;</span>
<span class="udiff-line-modified-added">+     &quot;${JavaScriptCore_FRAMEWORK_HEADERS_DIR}&quot;</span>
  )
  
  set(JavaScriptCore_PRIVATE_INCLUDE_DIRECTORIES
      &quot;${CMAKE_BINARY_DIR}&quot;
      &quot;${JAVASCRIPTCORE_DIR}&quot;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -41,27 +41,22 @@</span>
      &quot;${JAVASCRIPTCORE_DIR}/runtime&quot;
      &quot;${JAVASCRIPTCORE_DIR}/tools&quot;
      &quot;${JAVASCRIPTCORE_DIR}/wasm&quot;
      &quot;${JAVASCRIPTCORE_DIR}/wasm/js&quot;
      &quot;${JAVASCRIPTCORE_DIR}/yarr&quot;
<span class="udiff-line-modified-removed">-     &quot;${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}&quot;</span>
<span class="udiff-line-modified-removed">-     &quot;${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector&quot;</span>
<span class="udiff-line-modified-removed">-     &quot;${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/runtime&quot;</span>
<span class="udiff-line-modified-removed">-     &quot;${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr&quot;</span>
<span class="udiff-line-modified-added">+     &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}&quot;</span>
<span class="udiff-line-modified-added">+     &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector&quot;</span>
<span class="udiff-line-modified-added">+     &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}/runtime&quot;</span>
<span class="udiff-line-modified-added">+     &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr&quot;</span>
  )
  
  if (USE_CAPSTONE)
      list(APPEND JavaScriptCore_PRIVATE_INCLUDE_DIRECTORIES &quot;${THIRDPARTY_DIR}/capstone/Source/include&quot;)
  endif ()
  
<span class="udiff-line-removed">- set(JavaScriptCore_SYSTEM_INCLUDE_DIRECTORIES</span>
<span class="udiff-line-removed">-     &quot;${ICU_INCLUDE_DIRS}&quot;</span>
<span class="udiff-line-removed">- )</span>
<span class="udiff-line-removed">- </span>
  set(JavaScriptCore_OBJECT_LUT_SOURCES
      runtime/ArrayConstructor.cpp
<span class="udiff-line-removed">-     runtime/ArrayIteratorPrototype.cpp</span>
      runtime/AsyncFromSyncIteratorPrototype.cpp
      runtime/AsyncGeneratorPrototype.cpp
      runtime/BigIntConstructor.cpp
      runtime/BigIntPrototype.cpp
      runtime/BooleanPrototype.cpp
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -91,37 +86,38 @@</span>
      runtime/NumberPrototype.cpp
      runtime/ObjectConstructor.cpp
      runtime/ReflectObject.cpp
      runtime/RegExpConstructor.cpp
      runtime/RegExpPrototype.cpp
<span class="udiff-line-added">+     runtime/RegExpStringIteratorPrototype.cpp</span>
      runtime/SetPrototype.cpp
      runtime/StringConstructor.cpp
<span class="udiff-line-removed">-     runtime/StringIteratorPrototype.cpp</span>
      runtime/StringPrototype.cpp
      runtime/SymbolConstructor.cpp
      runtime/SymbolPrototype.cpp
  
<span class="udiff-line-added">+     wasm/js/JSWebAssembly.cpp</span>
<span class="udiff-line-added">+     wasm/js/JSToWasmICCallee.cpp</span>
      wasm/js/WebAssemblyCompileErrorConstructor.cpp
      wasm/js/WebAssemblyCompileErrorPrototype.cpp
<span class="udiff-line-added">+     wasm/js/WebAssemblyFunctionHeapCellType.cpp</span>
      wasm/js/WebAssemblyInstanceConstructor.cpp
      wasm/js/WebAssemblyInstancePrototype.cpp
      wasm/js/WebAssemblyLinkErrorConstructor.cpp
      wasm/js/WebAssemblyLinkErrorPrototype.cpp
      wasm/js/WebAssemblyMemoryConstructor.cpp
      wasm/js/WebAssemblyMemoryPrototype.cpp
      wasm/js/WebAssemblyModuleConstructor.cpp
      wasm/js/WebAssemblyModulePrototype.cpp
<span class="udiff-line-removed">-     wasm/js/WebAssemblyPrototype.cpp</span>
      wasm/js/WebAssemblyRuntimeErrorConstructor.cpp
      wasm/js/WebAssemblyRuntimeErrorPrototype.cpp
      wasm/js/WebAssemblyTableConstructor.cpp
      wasm/js/WebAssemblyTablePrototype.cpp
  )
  
  set(JavaScriptCore_LIBRARIES
<span class="udiff-line-modified-removed">-     WTF${DEBUG_SUFFIX}</span>
<span class="udiff-line-removed">-     ${ICU_I18N_LIBRARIES}</span>
<span class="udiff-line-modified-added">+     WebKit::WTF</span>
  )
  
  if (USE_CAPSTONE)
      list(APPEND JavaScriptCore_LIBRARIES capstone)
  endif ()
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -140,25 +136,20 @@</span>
      ${JavaScriptCore_SCRIPTS_SOURCES_DIR}/*.py
      ${JavaScriptCore_SCRIPTS_SOURCES_DIR}/wkbuiltins/builtins*.py
      ${JavaScriptCore_SCRIPTS_SOURCES_DIR}/wkbuiltins/wkbuiltins.py
  )
  
<span class="udiff-line-removed">- # Force JavaScriptCore to run scripts from the same staging path as WebCore.</span>
<span class="udiff-line-removed">- set(JavaScriptCore_SCRIPTS_DIR &quot;${FORWARDING_HEADERS_DIR}/JavaScriptCore/Scripts&quot;)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- file(MAKE_DIRECTORY ${JavaScriptCore_SCRIPTS_DIR})</span>
<span class="udiff-line-removed">- </span>
  # The directory flattening performed below mirrors what the Mac port does with private headers.
  
  file(GLOB JavaScriptCore_SCRIPTS_SOURCES ${JavaScriptCore_SCRIPTS_SOURCES_PATHS})
  
  foreach (_file ${JavaScriptCore_SCRIPTS_SOURCES})
      get_filename_component(_script &quot;${_file}&quot; NAME)
      add_custom_command(
          OUTPUT ${JavaScriptCore_SCRIPTS_DIR}/${_script}
          MAIN_DEPENDENCY ${_file}
<span class="udiff-line-modified-removed">-         WORKING_DIRECTORY ${DERIVED_SOURCES_DIR}</span>
<span class="udiff-line-modified-added">+         WORKING_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}</span>
          COMMAND ${CMAKE_COMMAND} -E copy_if_different ${_file} ${JavaScriptCore_SCRIPTS_DIR}/${_script}
          VERBATIM)
      list(APPEND JavaScriptCore_SCRIPTS ${JavaScriptCore_SCRIPTS_DIR}/${_script})
  endforeach ()
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -167,18 +158,18 @@</span>
      disassembler/udis86/ud_itab.py
      disassembler/udis86/ud_opcode.py
  )
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/udis86_itab.c ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/udis86_itab.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/udis86_itab.c ${JavaScriptCore_DERIVED_SOURCES_DIR}/udis86_itab.h</span>
      DEPENDS ${UDIS_GEN_DEP}
<span class="udiff-line-modified-removed">-     WORKING_DIRECTORY ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}</span>
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/disassembler/udis86/ud_itab.py ${JAVASCRIPTCORE_DIR}/disassembler/udis86/optable.xml ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}</span>
<span class="udiff-line-modified-added">+     WORKING_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/disassembler/udis86/ud_itab.py ${JAVASCRIPTCORE_DIR}/disassembler/udis86/optable.xml ${JavaScriptCore_DERIVED_SOURCES_DIR}</span>
      VERBATIM)
  
  list(APPEND JavaScriptCore_HEADERS
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/udis86_itab.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/udis86_itab.h</span>
  )
  
  set(LLINT_ASM
      llint/LowLevelInterpreter.asm
      llint/LowLevelInterpreter32_64.asm
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -220,33 +211,33 @@</span>
      generator/Type.rb
      generator/main.rb
  )
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/Bytecodes.h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InitBytecodes.asm ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeStructs.h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeIndices.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeIndices.h</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/generator/main.rb
      DEPENDS ${GENERATOR} bytecode/BytecodeList.rb
<span class="udiff-line-modified-removed">-     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/generator/main.rb --bytecodes_h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/Bytecodes.h --init_bytecodes_asm ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InitBytecodes.asm --bytecode_structs_h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeStructs.h --bytecode_indices_h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeIndices.h ${JAVASCRIPTCORE_DIR}/bytecode/BytecodeList.rb</span>
<span class="udiff-line-modified-added">+     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/generator/main.rb --bytecodes_h ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h --init_bytecodes_asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm --bytecode_structs_h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h --bytecode_indices_h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeIndices.h ${JAVASCRIPTCORE_DIR}/bytecode/BytecodeList.rb</span>
      VERBATIM)
  
  
  if (WTF_OS_MAC_OS_X)
      execute_process(COMMAND bash -c &quot;date +&#39;%s&#39;&quot; OUTPUT_VARIABLE BUILD_TIME OUTPUT_STRIP_TRAILING_WHITESPACE)
  else ()
<span class="udiff-line-modified-removed">-     set(BUILD_TIME 0)</span>
<span class="udiff-line-modified-added">+     string(TIMESTAMP BUILD_TIME &quot;%s&quot;)</span>
  endif ()
  
<span class="udiff-line-modified-removed">- file(WRITE ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeCacheVersion.h &quot;#define JSC_BYTECODE_CACHE_VERSION ${BUILD_TIME}\n&quot;)</span>
<span class="udiff-line-modified-added">+ file(WRITE ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeCacheVersion.h &quot;#define JSC_BYTECODE_CACHE_VERSION ${BUILD_TIME}\n&quot;)</span>
  
  list(APPEND JavaScriptCore_HEADERS
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeCacheVersion.h</span>
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeStructs.h</span>
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/Bytecodes.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeCacheVersion.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h</span>
  )
  
  if (WIN32)
<span class="udiff-line-modified-removed">-   set(OFFLINE_ASM_BACKEND &quot;X86_WIN, X86_64_WIN, C_LOOP&quot;)</span>
<span class="udiff-line-modified-added">+     set(OFFLINE_ASM_BACKEND &quot;X86_WIN, X86_64_WIN, C_LOOP_WIN&quot;)</span>
  else ()
      if (WTF_CPU_X86)
          set(OFFLINE_ASM_BACKEND &quot;X86&quot;)
      elseif (WTF_CPU_X86_64)
          set(OFFLINE_ASM_BACKEND &quot;X86_64&quot;)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -264,21 +255,21 @@</span>
          endif ()
      endif ()
  endif ()
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LLIntDesiredSettings.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredSettings.h</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/offlineasm/generate_settings_extractor.rb
<span class="udiff-line-modified-removed">-     DEPENDS ${LLINT_ASM} ${OFFLINE_ASM} ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InitBytecodes.asm</span>
<span class="udiff-line-modified-removed">-     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/generate_settings_extractor.rb -I${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LLIntDesiredSettings.h ${OFFLINE_ASM_BACKEND}</span>
<span class="udiff-line-modified-added">+     DEPENDS ${LLINT_ASM} ${OFFLINE_ASM} ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm</span>
<span class="udiff-line-modified-added">+     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/generate_settings_extractor.rb -I${JavaScriptCore_DERIVED_SOURCES_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredSettings.h ${OFFLINE_ASM_BACKEND}</span>
      VERBATIM)
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LLIntDesiredOffsets.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredOffsets.h</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/offlineasm/generate_offset_extractor.rb
<span class="udiff-line-modified-removed">-     DEPENDS LLIntSettingsExtractor ${LLINT_ASM} ${OFFLINE_ASM} ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InitBytecodes.asm</span>
<span class="udiff-line-modified-removed">-     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/generate_offset_extractor.rb -I${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm $&lt;TARGET_FILE:LLIntSettingsExtractor&gt; ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LLIntDesiredOffsets.h ${OFFLINE_ASM_BACKEND}</span>
<span class="udiff-line-modified-added">+     DEPENDS LLIntSettingsExtractor ${LLINT_ASM} ${OFFLINE_ASM} ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm</span>
<span class="udiff-line-modified-added">+     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/generate_offset_extractor.rb -I${JavaScriptCore_DERIVED_SOURCES_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm $&lt;TARGET_FILE:LLIntSettingsExtractor&gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredOffsets.h ${OFFLINE_ASM_BACKEND}</span>
      VERBATIM)
  
  # We add the header files directly to the ADD_EXECUTABLE call instead of setting the
  # OBJECT_DEPENDS property in LLIntOffsetsExtractor.cpp because generate_offset_extractor.rb and
  # generate-bytecode-files may not regenerate the .h files in case the hash it calculates does not change.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -288,22 +279,22 @@</span>
  # Additionally, setting the OBJECT_DEPENDS property will make the .h files a Makefile
  # dependency of both LLIntOffsetsExtractor and LLIntOffsetsExtractor.cpp, so the command will
  # actually be run multiple times!
  add_executable(LLIntSettingsExtractor
      ${JAVASCRIPTCORE_DIR}/llint/LLIntSettingsExtractor.cpp
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LLIntDesiredSettings.h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/Bytecodes.h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeStructs.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredSettings.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h</span>
  )
  
  add_executable(LLIntOffsetsExtractor
      ${JAVASCRIPTCORE_DIR}/llint/LLIntOffsetsExtractor.cpp
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LLIntDesiredOffsets.h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/Bytecodes.h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/BytecodeStructs.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredOffsets.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h</span>
  )
  
<span class="udiff-line-modified-removed">- target_link_libraries(LLIntSettingsExtractor WTF)</span>
<span class="udiff-line-modified-removed">- add_dependencies(LLIntSettingsExtractor JavaScriptCoreForwardingHeaders)</span>
<span class="udiff-line-modified-removed">- target_link_libraries(LLIntOffsetsExtractor WTF)</span>
<span class="udiff-line-modified-removed">- add_dependencies(LLIntOffsetsExtractor JavaScriptCoreForwardingHeaders)</span>
<span class="udiff-line-modified-added">+ target_link_libraries(LLIntSettingsExtractor WebKit::WTF)</span>
<span class="udiff-line-modified-added">+ add_dependencies(LLIntSettingsExtractor JavaScriptCore_CopyHeaders)</span>
<span class="udiff-line-modified-added">+ target_link_libraries(LLIntOffsetsExtractor WebKit::WTF)</span>
<span class="udiff-line-modified-added">+ add_dependencies(LLIntOffsetsExtractor JavaScriptCore_CopyHeaders)</span>
  
  # The build system will execute asm.rb every time LLIntOffsetsExtractor&#39;s mtime is newer than
  # LLIntAssembly.h&#39;s mtime. The problem we have here is: asm.rb has some built-in optimization
  # that generates a checksum of the LLIntOffsetsExtractor binary, if the checksum of the new
  # LLIntOffsetsExtractor matches, no output is generated. To make this target consistent and avoid
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -315,16 +306,16 @@</span>
  else ()
      set(LLIntOutput LLIntAssembly.h)
  endif ()
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/${LLIntOutput}</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/${LLIntOutput}</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/offlineasm/asm.rb
<span class="udiff-line-modified-removed">-     DEPENDS LLIntOffsetsExtractor ${LLINT_ASM} ${OFFLINE_ASM} ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InitBytecodes.asm</span>
<span class="udiff-line-modified-removed">-     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/asm.rb -I${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm $&lt;TARGET_FILE:LLIntOffsetsExtractor&gt; ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/${LLIntOutput} ${OFFLINE_ASM_ARGS}</span>
<span class="udiff-line-modified-removed">-     COMMAND ${CMAKE_COMMAND} -E touch_nocreate ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/${LLIntOutput}</span>
<span class="udiff-line-modified-removed">-     WORKING_DIRECTORY ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}</span>
<span class="udiff-line-modified-added">+     DEPENDS LLIntOffsetsExtractor ${LLINT_ASM} ${OFFLINE_ASM} ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm</span>
<span class="udiff-line-modified-added">+     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/asm.rb -I${JavaScriptCore_DERIVED_SOURCES_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm $&lt;TARGET_FILE:LLIntOffsetsExtractor&gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/${LLIntOutput} ${OFFLINE_ASM_ARGS}</span>
<span class="udiff-line-modified-added">+     COMMAND ${CMAKE_COMMAND} -E touch_nocreate ${JavaScriptCore_DERIVED_SOURCES_DIR}/${LLIntOutput}</span>
<span class="udiff-line-modified-added">+     WORKING_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}</span>
      VERBATIM)
  
  # The explanation for not making LLIntAssembly.h part of the OBJECT_DEPENDS property of some of
  # the .cpp files below is similar to the one in the previous comment. However, since these .cpp
  # files are used to build JavaScriptCore itself, we can just add LLIntAssembly.h to JSC_HEADERS
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -338,18 +329,18 @@</span>
      else ()
          set(MASM_EXECUTABLE ml64)
          set(LLINT_MASM_FLAGS /c /Fo)
      endif ()
      add_custom_command(
<span class="udiff-line-modified-removed">-         OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LowLevelInterpreterWin.obj</span>
<span class="udiff-line-modified-removed">-         DEPENDS ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LowLevelInterpreterWin.asm</span>
<span class="udiff-line-modified-removed">-         COMMAND ${MASM_EXECUTABLE} ${LLINT_MASM_FLAGS} ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LowLevelInterpreterWin.obj ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LowLevelInterpreterWin.asm</span>
<span class="udiff-line-modified-added">+         OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.obj</span>
<span class="udiff-line-modified-added">+         DEPENDS ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.asm</span>
<span class="udiff-line-modified-added">+         COMMAND ${MASM_EXECUTABLE} ${LLINT_MASM_FLAGS} ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.obj ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.asm</span>
          VERBATIM)
<span class="udiff-line-modified-removed">-     list(APPEND JavaScriptCore_SOURCES ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LowLevelInterpreterWin.obj)</span>
<span class="udiff-line-modified-added">+     list(APPEND JavaScriptCore_SOURCES ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.obj)</span>
  else ()
      list(APPEND JavaScriptCore_HEADERS
<span class="udiff-line-modified-removed">-         ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/LLIntAssembly.h</span>
<span class="udiff-line-modified-added">+         ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntAssembly.h</span>
      )
  endif ()
  
  # WebAssembly generator
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -361,13 +352,13 @@</span>
          COMMAND ${PYTHON_EXECUTABLE} ${_generator} ${_input} ${_output}
          VERBATIM)
      list(APPEND JavaScriptCore_HEADERS ${_output})
      WEBKIT_ADD_SOURCE_DEPENDENCIES(${_input} ${_output})
  endmacro()
<span class="udiff-line-modified-removed">- GENERATE_PYTHON(${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasmOpsHeader.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasm.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/wasm.json ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/WasmOps.h)</span>
<span class="udiff-line-modified-removed">- GENERATE_PYTHON(${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasmValidateInlinesHeader.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasm.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/wasm.json ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/WasmValidateInlines.h)</span>
<span class="udiff-line-modified-removed">- GENERATE_PYTHON(${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasmB3IRGeneratorInlinesHeader.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasm.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/wasm.json ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/WasmB3IRGeneratorInlines.h)</span>
<span class="udiff-line-modified-added">+ GENERATE_PYTHON(${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasmOpsHeader.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasm.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/wasm.json ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmOps.h)</span>
<span class="udiff-line-modified-added">+ GENERATE_PYTHON(${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasmValidateInlinesHeader.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasm.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/wasm.json ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmValidateInlines.h)</span>
<span class="udiff-line-modified-added">+ GENERATE_PYTHON(${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasmB3IRGeneratorInlinesHeader.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasm.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/wasm.json ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmB3IRGeneratorInlines.h)</span>
  
  # LUT generator
  
  set(HASH_LUT_GENERATOR ${CMAKE_CURRENT_SOURCE_DIR}/create_hash_table)
  macro(GENERATE_HASH_LUT _input _output)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -383,11 +374,11 @@</span>
  
  # GENERATOR 1-A: LUT creator
  
  foreach (_file ${JavaScriptCore_OBJECT_LUT_SOURCES})
      get_filename_component(_name ${_file} NAME_WE)
<span class="udiff-line-modified-removed">-     GENERATE_HASH_LUT(${CMAKE_CURRENT_SOURCE_DIR}/${_file} ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/${_name}.lut.h)</span>
<span class="udiff-line-modified-added">+     GENERATE_HASH_LUT(${CMAKE_CURRENT_SOURCE_DIR}/${_file} ${JavaScriptCore_DERIVED_SOURCES_DIR}/${_name}.lut.h)</span>
  endforeach ()
  
  set(JavaScriptCore_PUBLIC_FRAMEWORK_HEADERS
      API/JSBase.h
      API/JSContextRef.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -398,10 +389,17 @@</span>
      API/JavaScript.h
      API/WebKitAvailability.h
  )
  
  set(JavaScriptCore_PRIVATE_FRAMEWORK_HEADERS
<span class="udiff-line-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h</span>
<span class="udiff-line-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/JSCBuiltins.h</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendDispatchers.h</span>
<span class="udiff-line-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorFrontendDispatchers.h</span>
<span class="udiff-line-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorProtocolObjects.h</span>
<span class="udiff-line-added">+ </span>
      API/APICallbackFunction.h
      API/APICast.h
      API/APIUtils.h
      API/JSAPIValueWrapper.h
      API/JSAPIWrapperObject.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -424,41 +422,48 @@</span>
      API/JSRemoteInspector.h
      API/JSRetainPtr.h
      API/JSScriptRefPrivate.h
      API/JSStringRefPrivate.h
      API/JSValueInternal.h
<span class="udiff-line-added">+     API/JSValuePrivate.h</span>
      API/JSVirtualMachineInternal.h
      API/JSWeakObjectMapRefInternal.h
      API/JSWeakObjectMapRefPrivate.h
      API/JSWeakPrivate.h
      API/JSWrapperMap.h
      API/ObjCCallbackFunction.h
      API/ObjcRuntimeExtras.h
      API/OpaqueJSString.h
  
      assembler/ARM64Assembler.h
<span class="udiff-line-added">+     assembler/ARM64Registers.h</span>
      assembler/ARMv7Assembler.h
<span class="udiff-line-added">+     assembler/ARMv7Registers.h</span>
      assembler/AbortReason.h
      assembler/AbstractMacroAssembler.h
      assembler/AssemblerBuffer.h
      assembler/AssemblerBufferWithConstantPool.h
      assembler/AssemblerCommon.h
      assembler/CPU.h
      assembler/CodeLocation.h
      assembler/LinkBuffer.h
      assembler/MIPSAssembler.h
<span class="udiff-line-added">+     assembler/MIPSRegisters.h</span>
      assembler/MacroAssembler.h
      assembler/MacroAssemblerARM64.h
      assembler/MacroAssemblerARMv7.h
      assembler/MacroAssemblerCodeRef.h
      assembler/MacroAssemblerHelpers.h
      assembler/MacroAssemblerMIPS.h
      assembler/MacroAssemblerX86.h
      assembler/MacroAssemblerX86Common.h
      assembler/MacroAssemblerX86_64.h
      assembler/Printer.h
<span class="udiff-line-added">+     assembler/RegisterInfo.h</span>
      assembler/X86Assembler.h
<span class="udiff-line-added">+     assembler/X86Registers.h</span>
<span class="udiff-line-added">+     assembler/X86_64Registers.h</span>
  
      bindings/ScriptFunctionCall.h
      bindings/ScriptObject.h
      bindings/ScriptValue.h
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -576,10 +581,11 @@</span>
      heap/Handle.h
      heap/HandleBlock.h
      heap/HandleSet.h
      heap/HandleTypes.h
      heap/Heap.h
<span class="udiff-line-added">+     heap/HeapAnalyzer.h</span>
      heap/HeapCell.h
      heap/HeapCellInlines.h
      heap/HeapCellType.h
      heap/HeapFinalizerCallback.h
      heap/HeapInlines.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -600,10 +606,11 @@</span>
      heap/MarkedBlockInlines.h
      heap/MarkedBlockSet.h
      heap/MarkedSpace.h
      heap/MarkingConstraint.h
      heap/MutatorState.h
<span class="udiff-line-added">+     heap/PackedCellPtr.h</span>
      heap/RegisterState.h
      heap/RunningScope.h
      heap/SimpleMarkingConstraint.h
      heap/SlotVisitor.h
      heap/SlotVisitorInlines.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -750,10 +757,15 @@</span>
      runtime/BigIntPrototype.h
      runtime/BooleanObject.h
      runtime/BooleanPrototype.h
      runtime/Butterfly.h
      runtime/ButterflyInlines.h
<span class="udiff-line-added">+     runtime/BytecodeCacheError.h</span>
<span class="udiff-line-added">+     runtime/CachePayload.h</span>
<span class="udiff-line-added">+     runtime/CacheUpdate.h</span>
<span class="udiff-line-added">+     runtime/CachedBytecode.h</span>
<span class="udiff-line-added">+     runtime/CachedTypes.h</span>
      runtime/CagedBarrierPtr.h
      runtime/CallData.h
      runtime/CatchScope.h
      runtime/ClassInfo.h
      runtime/CodeSpecializationKind.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -798,14 +810,16 @@</span>
      runtime/FunctionConstructor.h
      runtime/FunctionExecutable.h
      runtime/FunctionHasExecutedCache.h
      runtime/FunctionPrototype.h
      runtime/FunctionRareData.h
<span class="udiff-line-added">+     runtime/FuzzerAgent.h</span>
      runtime/GenericOffset.h
      runtime/GenericTypedArrayView.h
      runtime/GenericTypedArrayViewInlines.h
      runtime/GetPutInfo.h
<span class="udiff-line-added">+     runtime/GlobalExecutable.h</span>
      runtime/HashMapImpl.h
      runtime/Identifier.h
      runtime/IdentifierInlines.h
      runtime/IndexingHeader.h
      runtime/IndexingHeaderInlines.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -871,11 +885,10 @@</span>
      runtime/JSRunLoopTimer.h
      runtime/JSScope.h
      runtime/JSScriptFetchParameters.h
      runtime/JSScriptFetcher.h
      runtime/JSSegmentedVariableObject.h
<span class="udiff-line-removed">-     runtime/JSSegmentedVariableObjectHeapCellType.h</span>
      runtime/JSSet.h
      runtime/JSSetIterator.h
      runtime/JSSourceCode.h
      runtime/JSString.h
      runtime/JSStringInlines.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -885,10 +898,11 @@</span>
      runtime/JSTypedArrays.h
      runtime/JSWithScope.h
      runtime/JSWrapperObject.h
      runtime/LazyClassStructure.h
      runtime/LazyProperty.h
<span class="udiff-line-added">+     runtime/LeafExecutable.h</span>
      runtime/Lookup.h
      runtime/MatchResult.h
      runtime/MathCommon.h
      runtime/MemoryStatistics.h
      runtime/Microtask.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -922,10 +936,11 @@</span>
      runtime/RegExp.h
      runtime/RegExpCachedResult.h
      runtime/RegExpGlobalData.h
      runtime/RegExpKey.h
      runtime/RegExpObject.h
<span class="udiff-line-added">+     runtime/RegExpStringIteratorPrototype.h</span>
      runtime/RuntimeFlags.h
      runtime/RuntimeType.h
      runtime/SamplingProfiler.h
      runtime/ScopeOffset.h
      runtime/ScopedArgumentsTable.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -951,10 +966,11 @@</span>
      runtime/StructureTransitionTable.h
      runtime/SubspaceAccess.h
      runtime/Symbol.h
      runtime/SymbolPrototype.h
      runtime/SymbolTable.h
<span class="udiff-line-added">+     runtime/SymbolTableOrScopeDepth.h</span>
      runtime/TemplateObjectDescriptor.h
      runtime/TestRunnerUtils.h
      runtime/ThrowScope.h
      runtime/ToNativeFromValue.h
      runtime/TypeError.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -978,11 +994,13 @@</span>
      runtime/WeakGCMap.h
      runtime/WeakGCMapInlines.h
      runtime/WriteBarrier.h
      runtime/WriteBarrierInlines.h
  
<span class="udiff-line-added">+     wasm/WasmCapabilities.h</span>
      wasm/WasmCodeBlock.h
<span class="udiff-line-added">+     wasm/WasmCompilationMode.h</span>
      wasm/WasmContext.h
      wasm/WasmEmbedder.h
      wasm/WasmExceptionType.h
      wasm/WasmFaultSignalHandler.h
      wasm/WasmIndexOrName.h
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -992,73 +1010,74 @@</span>
      wasm/WasmName.h
      wasm/WasmNameSection.h
      wasm/WasmPageCount.h
      wasm/WasmTierUpCount.h
  
<span class="udiff-line-added">+     wasm/js/JSWebAssembly.h</span>
      wasm/js/JSWebAssemblyModule.h
<span class="udiff-line-removed">-     wasm/js/WebAssemblyPrototype.h</span>
  
  
      yarr/RegularExpression.h
      yarr/Yarr.h
      yarr/YarrErrorCode.h
<span class="udiff-line-added">+     yarr/YarrFlags.h</span>
      yarr/YarrInterpreter.h
      yarr/YarrJIT.h
      yarr/YarrParser.h
      yarr/YarrPattern.h
      yarr/YarrUnicodeProperties.h
  )
  
  # GENERATOR 1-B: particular LUT creator (for 1 file only)
<span class="udiff-line-modified-removed">- GENERATE_HASH_LUT(${CMAKE_CURRENT_SOURCE_DIR}/parser/Keywords.table ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/Lexer.lut.h)</span>
<span class="udiff-line-modified-added">+ GENERATE_HASH_LUT(${CMAKE_CURRENT_SOURCE_DIR}/parser/Keywords.table ${JavaScriptCore_DERIVED_SOURCES_DIR}/Lexer.lut.h)</span>
  
<span class="udiff-line-modified-removed">- file(MAKE_DIRECTORY ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr)</span>
<span class="udiff-line-modified-added">+ file(MAKE_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr)</span>
  
  #GENERATOR: &quot;RegExpJitTables.h&quot;: tables used by Yarr
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/RegExpJitTables.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/RegExpJitTables.h</span>
      MAIN_DEPENDENCY ${CMAKE_CURRENT_SOURCE_DIR}/yarr/create_regex_tables
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/yarr/create_regex_tables ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/RegExpJitTables.h</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/yarr/create_regex_tables ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/RegExpJitTables.h</span>
      VERBATIM)
<span class="udiff-line-modified-removed">- list(APPEND JavaScriptCore_HEADERS ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/RegExpJitTables.h)</span>
<span class="udiff-line-modified-removed">- WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/yarr/YarrPattern.cpp ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/RegExpJitTables.h)</span>
<span class="udiff-line-modified-added">+ list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/RegExpJitTables.h)</span>
<span class="udiff-line-modified-added">+ WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/yarr/YarrPattern.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/RegExpJitTables.h)</span>
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/UnicodePatternTables.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/UnicodePatternTables.h</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/yarr/generateYarrUnicodePropertyTables.py
      DEPENDS ${JAVASCRIPTCORE_DIR}/yarr/hasher.py ${JAVASCRIPTCORE_DIR}/ucd/DerivedBinaryProperties.txt ${JAVASCRIPTCORE_DIR}/ucd/DerivedCoreProperties.txt ${JAVASCRIPTCORE_DIR}/ucd/DerivedNormalizationProps.txt ${JAVASCRIPTCORE_DIR}/ucd/PropList.txt ${JAVASCRIPTCORE_DIR}/ucd/PropertyAliases.txt ${JAVASCRIPTCORE_DIR}/ucd/PropertyValueAliases.txt ${JAVASCRIPTCORE_DIR}/ucd/ScriptExtensions.txt ${JAVASCRIPTCORE_DIR}/ucd/Scripts.txt ${JAVASCRIPTCORE_DIR}/ucd/UnicodeData.txt ${JAVASCRIPTCORE_DIR}/ucd/emoji-data.txt
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/yarr/generateYarrUnicodePropertyTables.py ${JAVASCRIPTCORE_DIR}/ucd ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/UnicodePatternTables.h</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/yarr/generateYarrUnicodePropertyTables.py ${JAVASCRIPTCORE_DIR}/ucd ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/UnicodePatternTables.h</span>
      VERBATIM)
<span class="udiff-line-modified-removed">- list(APPEND JavaScriptCore_HEADERS ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/UnicodePatternTables.h)</span>
<span class="udiff-line-modified-removed">- WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/yarr/UnicodePatternTables.cpp ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/UnicodePatternTables.h)</span>
<span class="udiff-line-modified-added">+ list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/UnicodePatternTables.h)</span>
<span class="udiff-line-modified-added">+ WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/yarr/UnicodePatternTables.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/UnicodePatternTables.h)</span>
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/YarrCanonicalizeUnicode.cpp</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/YarrCanonicalizeUnicode.cpp</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/yarr/generateYarrCanonicalizeUnicode
      DEPENDS ${JAVASCRIPTCORE_DIR}/ucd/CaseFolding.txt
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/yarr/generateYarrCanonicalizeUnicode ${JAVASCRIPTCORE_DIR}/ucd/CaseFolding.txt ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/yarr/YarrCanonicalizeUnicode.cpp</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/yarr/generateYarrCanonicalizeUnicode ${JAVASCRIPTCORE_DIR}/ucd/CaseFolding.txt ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/YarrCanonicalizeUnicode.cpp</span>
      VERBATIM)
  
  #GENERATOR: &quot;IntlCanonicalizeLanguage.h&quot;: tables used by Intl
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/IntlCanonicalizeLanguage.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/IntlCanonicalizeLanguage.h</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/Scripts/generateIntlCanonicalizeLanguage.py
      DEPENDS ${JAVASCRIPTCORE_DIR}/ucd/language-subtag-registry.txt
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/Scripts/generateIntlCanonicalizeLanguage.py ${JAVASCRIPTCORE_DIR}/ucd/language-subtag-registry.txt ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/IntlCanonicalizeLanguage.h</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/Scripts/generateIntlCanonicalizeLanguage.py ${JAVASCRIPTCORE_DIR}/ucd/language-subtag-registry.txt ${JavaScriptCore_DERIVED_SOURCES_DIR}/IntlCanonicalizeLanguage.h</span>
      VERBATIM)
<span class="udiff-line-modified-removed">- list(APPEND JavaScriptCore_HEADERS ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/IntlCanonicalizeLanguage.h)</span>
<span class="udiff-line-modified-removed">- WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/runtime/IntlObject.cpp ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/IntlCanonicalizeLanguage.h)</span>
<span class="udiff-line-modified-added">+ list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/IntlCanonicalizeLanguage.h)</span>
<span class="udiff-line-modified-added">+ WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/runtime/IntlObject.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/IntlCanonicalizeLanguage.h)</span>
  
  #GENERATOR: &quot;KeywordLookup.h&quot;: keyword decision tree used by the lexer
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/KeywordLookup.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/KeywordLookup.h</span>
      MAIN_DEPENDENCY ${CMAKE_CURRENT_SOURCE_DIR}/KeywordLookupGenerator.py
      DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/parser/Keywords.table
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/KeywordLookupGenerator.py ${CMAKE_CURRENT_SOURCE_DIR}/parser/Keywords.table &gt; ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/KeywordLookup.h</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/KeywordLookupGenerator.py ${CMAKE_CURRENT_SOURCE_DIR}/parser/Keywords.table &gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/KeywordLookup.h</span>
      VERBATIM)
<span class="udiff-line-modified-removed">- list(APPEND JavaScriptCore_HEADERS ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/KeywordLookup.h)</span>
<span class="udiff-line-modified-removed">- WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/parser/Lexer.cpp ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/KeywordLookup.h)</span>
<span class="udiff-line-modified-added">+ list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/KeywordLookup.h)</span>
<span class="udiff-line-modified-added">+ WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/parser/Lexer.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/KeywordLookup.h)</span>
  
  
  # Inspector Interfaces
  
  set(JavaScriptCore_INSPECTOR_SCRIPTS_DIR &quot;${JAVASCRIPTCORE_DIR}/inspector/scripts&quot;)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1094,11 +1113,10 @@</span>
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/GenericTypes.json
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/Heap.json
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/Inspector.json
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/LayerTree.json
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/Network.json
<span class="udiff-line-removed">-     ${JAVASCRIPTCORE_DIR}/inspector/protocol/OverlayTypes.json</span>
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/Page.json
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/Recording.json
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/Runtime.json
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/ScriptProfiler.json
      ${JAVASCRIPTCORE_DIR}/inspector/protocol/Security.json
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1125,30 +1143,30 @@</span>
          ${JAVASCRIPTCORE_DIR}/inspector/protocol/ServiceWorker.json
      )
  endif ()
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/CombinedDomains.json</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/CombinedDomains.json</span>
      MAIN_DEPENDENCY ${JavaScriptCore_SCRIPTS_DIR}/generate-combined-inspector-json.py
      DEPENDS ${JavaScriptCore_INSPECTOR_DOMAINS}
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/generate-combined-inspector-json.py ${JavaScriptCore_INSPECTOR_DOMAINS} &gt; ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/CombinedDomains.json</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/generate-combined-inspector-json.py ${JavaScriptCore_INSPECTOR_DOMAINS} &gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/CombinedDomains.json</span>
      VERBATIM)
  
  # Inspector Backend Dispatchers, Frontend Dispatchers, Type Builders
  file(MAKE_DIRECTORY ${DERIVED_SOURCES_WEBINSPECTORUI_DIR}/UserInterface/Protocol)
<span class="udiff-line-modified-removed">- file(MAKE_DIRECTORY ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector)</span>
<span class="udiff-line-modified-added">+ file(MAKE_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector)</span>
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorBackendDispatchers.cpp</span>
<span class="udiff-line-modified-removed">-            ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorBackendDispatchers.h</span>
<span class="udiff-line-modified-removed">-            ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorFrontendDispatchers.cpp</span>
<span class="udiff-line-modified-removed">-            ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorFrontendDispatchers.h</span>
<span class="udiff-line-modified-removed">-            ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorProtocolObjects.cpp</span>
<span class="udiff-line-modified-removed">-            ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorProtocolObjects.h</span>
<span class="udiff-line-modified-removed">-            ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorBackendCommands.js</span>
<span class="udiff-line-modified-removed">-     MAIN_DEPENDENCY ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/CombinedDomains.json</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendDispatchers.cpp</span>
<span class="udiff-line-modified-added">+            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendDispatchers.h</span>
<span class="udiff-line-modified-added">+            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorFrontendDispatchers.cpp</span>
<span class="udiff-line-modified-added">+            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorFrontendDispatchers.h</span>
<span class="udiff-line-modified-added">+            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorProtocolObjects.cpp</span>
<span class="udiff-line-modified-added">+            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorProtocolObjects.h</span>
<span class="udiff-line-modified-added">+            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendCommands.js</span>
<span class="udiff-line-modified-added">+     MAIN_DEPENDENCY ${JavaScriptCore_DERIVED_SOURCES_DIR}/CombinedDomains.json</span>
      DEPENDS ${JavaScriptCore_INSPECTOR_PROTOCOL_SCRIPTS}
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/generate-inspector-protocol-bindings.py --outputDir &quot;${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector&quot; --framework JavaScriptCore ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/CombinedDomains.json</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/generate-inspector-protocol-bindings.py --outputDir &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector&quot; --framework JavaScriptCore ${JavaScriptCore_DERIVED_SOURCES_DIR}/CombinedDomains.json</span>
      VERBATIM)
  
  # JSCBuiltins
  
  set(BUILTINS_GENERATOR_SCRIPTS
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1193,93 +1211,108 @@</span>
      ${JAVASCRIPTCORE_DIR}/builtins/PromiseConstructor.js
      ${JAVASCRIPTCORE_DIR}/builtins/PromiseOperations.js
      ${JAVASCRIPTCORE_DIR}/builtins/PromisePrototype.js
      ${JAVASCRIPTCORE_DIR}/builtins/ReflectObject.js
      ${JAVASCRIPTCORE_DIR}/builtins/RegExpPrototype.js
<span class="udiff-line-added">+     ${JAVASCRIPTCORE_DIR}/builtins/RegExpStringIteratorPrototype.js</span>
      ${JAVASCRIPTCORE_DIR}/builtins/SetIteratorPrototype.js
      ${JAVASCRIPTCORE_DIR}/builtins/SetPrototype.js
      ${JAVASCRIPTCORE_DIR}/builtins/StringConstructor.js
      ${JAVASCRIPTCORE_DIR}/builtins/StringIteratorPrototype.js
      ${JAVASCRIPTCORE_DIR}/builtins/StringPrototype.js
      ${JAVASCRIPTCORE_DIR}/builtins/TypedArrayConstructor.js
      ${JAVASCRIPTCORE_DIR}/builtins/TypedArrayPrototype.js
<span class="udiff-line-modified-removed">-     ${JAVASCRIPTCORE_DIR}/builtins/WebAssemblyPrototype.js</span>
<span class="udiff-line-modified-added">+     ${JAVASCRIPTCORE_DIR}/builtins/WebAssembly.js</span>
  )
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/JSCBuiltins.cpp ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/JSCBuiltins.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/JSCBuiltins.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/JSCBuiltins.h</span>
      MAIN_DEPENDENCY ${JavaScriptCore_SCRIPTS_DIR}/generate-js-builtins.py
      DEPENDS ${JavaScriptCore_BUILTINS_SOURCES} ${BUILTINS_GENERATOR_SCRIPTS}
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/generate-js-builtins.py --framework JavaScriptCore --output-directory ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR} --combined ${JavaScriptCore_BUILTINS_SOURCES}</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/generate-js-builtins.py --framework JavaScriptCore --output-directory ${JavaScriptCore_DERIVED_SOURCES_DIR} --combined ${JavaScriptCore_BUILTINS_SOURCES}</span>
      VERBATIM)
  
  list(APPEND JavaScriptCore_HEADERS
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorBackendDispatchers.h</span>
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorFrontendDispatchers.h</span>
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/inspector/InspectorProtocolObjects.h</span>
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/JSCBuiltins.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendDispatchers.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorFrontendDispatchers.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorProtocolObjects.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/JSCBuiltins.h</span>
  )
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/AirOpcode.h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/AirOpcodeGenerated.h</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcode.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcodeGenerated.h</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/b3/air/AirOpcode.opcodes
      DEPENDS ${JAVASCRIPTCORE_DIR}/b3/air/opcode_generator.rb
      COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/b3/air/opcode_generator.rb ${JAVASCRIPTCORE_DIR}/b3/air/AirOpcode.opcodes VERBATIM
<span class="udiff-line-modified-removed">-     WORKING_DIRECTORY ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}</span>
<span class="udiff-line-modified-added">+     WORKING_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}</span>
  )
  
  list(APPEND JavaScriptCore_HEADERS
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/AirOpcode.h</span>
<span class="udiff-line-modified-removed">-     ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/AirOpcodeGenerated.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcode.h</span>
<span class="udiff-line-modified-added">+     ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcodeGenerated.h</span>
  )
  
  add_custom_command(
<span class="udiff-line-modified-removed">-     OUTPUT ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InjectedScriptSource.h ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InjectedScriptSource.min.js</span>
<span class="udiff-line-modified-added">+     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.min.js</span>
      MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/inspector/InjectedScriptSource.js
      DEPENDS ${JavaScriptCore_SCRIPTS_DIR}/xxd.pl ${JavaScriptCore_SCRIPTS_DIR}/jsmin.py
<span class="udiff-line-modified-removed">-     COMMAND ${CMAKE_COMMAND} -E echo &quot;//# sourceURL=__InjectedScript_InjectedScriptSource.js&quot; &gt; ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InjectedScriptSource.min.js</span>
<span class="udiff-line-modified-removed">-     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/jsmin.py &lt; ${JAVASCRIPTCORE_DIR}/inspector/InjectedScriptSource.js &gt;&gt; ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InjectedScriptSource.min.js</span>
<span class="udiff-line-modified-removed">-     COMMAND ${PERL_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/xxd.pl InjectedScriptSource_js ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InjectedScriptSource.min.js ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InjectedScriptSource.h</span>
<span class="udiff-line-modified-added">+     COMMAND ${CMAKE_COMMAND} -E echo &quot;//# sourceURL=__InjectedScript_InjectedScriptSource.js&quot; &gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.min.js</span>
<span class="udiff-line-modified-added">+     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/jsmin.py &lt; ${JAVASCRIPTCORE_DIR}/inspector/InjectedScriptSource.js &gt;&gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.min.js</span>
<span class="udiff-line-modified-added">+     COMMAND ${PERL_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/xxd.pl InjectedScriptSource_js ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.min.js ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.h</span>
      VERBATIM)
  
<span class="udiff-line-modified-removed">- list(APPEND JavaScriptCore_HEADERS ${DERIVED_SOURCES_JAVASCRIPTCORE_DIR}/InjectedScriptSource.h)</span>
<span class="udiff-line-modified-added">+ list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.h)</span>
  
  if (WTF_CPU_X86_64)
      if (MSVC AND NOT ENABLE_C_LOOP)
          add_custom_command(
<span class="udiff-line-modified-removed">-             OUTPUT ${DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj</span>
<span class="udiff-line-modified-added">+             OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj</span>
              MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/jit/JITStubsMSVC64.asm
<span class="udiff-line-modified-removed">-             COMMAND ml64 -nologo -c -Fo ${DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj ${JAVASCRIPTCORE_DIR}/jit/JITStubsMSVC64.asm</span>
<span class="udiff-line-modified-added">+             COMMAND ml64 -nologo -c -Fo ${JavaScriptCore_DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj ${JAVASCRIPTCORE_DIR}/jit/JITStubsMSVC64.asm</span>
              VERBATIM)
  
<span class="udiff-line-modified-removed">-         list(APPEND JavaScriptCore_SOURCES ${DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj)</span>
<span class="udiff-line-modified-added">+         list(APPEND JavaScriptCore_SOURCES ${JavaScriptCore_DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj)</span>
      endif ()
  endif ()
  
<span class="udiff-line-added">+ set(JavaScriptCore_INTERFACE_LIBRARIES JavaScriptCore)</span>
<span class="udiff-line-added">+ set(JavaScriptCore_INTERFACE_INCLUDE_DIRECTORIES</span>
<span class="udiff-line-added">+     ${JavaScriptCore_FRAMEWORK_HEADERS_DIR}</span>
<span class="udiff-line-added">+     ${JavaScriptCore_PRIVATE_FRAMEWORK_HEADERS_DIR}</span>
<span class="udiff-line-added">+ )</span>
<span class="udiff-line-added">+ set(JavaScriptCore_INTERFACE_DEPENDENCIES</span>
<span class="udiff-line-added">+     JavaScriptCore_CopyHeaders</span>
<span class="udiff-line-added">+     JavaScriptCore_CopyPrivateHeaders</span>
<span class="udiff-line-added">+ )</span>
<span class="udiff-line-added">+ </span>
  WEBKIT_FRAMEWORK_DECLARE(JavaScriptCore)
  WEBKIT_INCLUDE_CONFIG_FILES_IF_EXISTS()
  
  if (COMPILER_IS_GCC_OR_CLANG)
      # Avoid using fused multiply-add instructions since this could give different results
      # for e.g. parseInt depending on the platform and compilation flags.
      WEBKIT_ADD_TARGET_CXX_FLAGS(JavaScriptCore -ffp-contract=off)
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     # Avoid &quot;variable tracking size limit exceeded&quot;</span>
<span class="udiff-line-removed">-     set_source_files_properties(builtins/BuiltinNames.cpp PROPERTIES COMPILE_FLAGS -fno-var-tracking-assignments)</span>
  endif ()
  
<span class="udiff-line-modified-removed">- WEBKIT_MAKE_FORWARDING_HEADERS(JavaScriptCore</span>
<span class="udiff-line-modified-added">+ WEBKIT_COPY_FILES(JavaScriptCore_CopyHeaders</span>
<span class="udiff-line-added">+     DESTINATION ${JavaScriptCore_FRAMEWORK_HEADERS_DIR}/JavaScriptCore</span>
      FILES ${JavaScriptCore_PUBLIC_FRAMEWORK_HEADERS}
      FLATTENED
  )
  
<span class="udiff-line-modified-removed">- WEBKIT_MAKE_FORWARDING_HEADERS(JavaScriptCore</span>
<span class="udiff-line-modified-removed">-     TARGET_NAME JavaScriptCorePrivateForwardingHeaders</span>
<span class="udiff-line-modified-added">+ WEBKIT_COPY_FILES(JavaScriptCore_CopyPrivateHeaders</span>
<span class="udiff-line-modified-added">+     DESTINATION ${JavaScriptCore_PRIVATE_FRAMEWORK_HEADERS_DIR}/JavaScriptCore</span>
      FILES ${JavaScriptCore_PRIVATE_FRAMEWORK_HEADERS}
<span class="udiff-line-removed">-     DERIVED_SOURCE_DIRECTORIES ${DERIVED_SOURCES_DIR}/JavaScriptCore ${DERIVED_SOURCES_DIR}/JavaScriptCore/inspector</span>
      FLATTENED
  )
<span class="udiff-line-added">+ # JavaScriptCore_CopyPrivateHeaders needs to have a direct or indirect</span>
<span class="udiff-line-added">+ # dependency of JavaScriptCore for CMake Visual Studio generator to</span>
<span class="udiff-line-added">+ # eliminate duplicated custom commands. Otherwise,</span>
<span class="udiff-line-added">+ # CombinedDomains.json will be generated in both projects.</span>
<span class="udiff-line-added">+ if (NOT INTERNAL_BUILD)</span>
<span class="udiff-line-added">+     add_dependencies(JavaScriptCore_CopyPrivateHeaders JavaScriptCore)</span>
<span class="udiff-line-added">+ endif ()</span>
  
  target_include_directories(LLIntSettingsExtractor PRIVATE
      ${JavaScriptCore_INCLUDE_DIRECTORIES}
      ${JavaScriptCore_PRIVATE_INCLUDE_DIRECTORIES}
  )
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1296,10 +1329,11 @@</span>
  endif ()
  
  WEBKIT_COMPUTE_SOURCES(JavaScriptCore)
  WEBKIT_WRAP_SOURCELIST(${JavaScriptCore_SOURCES})
  WEBKIT_FRAMEWORK(JavaScriptCore)
<span class="udiff-line-added">+ WEBKIT_FRAMEWORK_TARGET(JavaScriptCore)</span>
  
  if (NOT &quot;${PORT}&quot; STREQUAL &quot;Mac&quot;)
      if (${JavaScriptCore_LIBRARY_TYPE} STREQUAL &quot;SHARED&quot;)
          WEBKIT_POPULATE_LIBRARY_VERSION(JAVASCRIPTCORE)
          set_target_properties(JavaScriptCore PROPERTIES VERSION ${JAVASCRIPTCORE_VERSION} SOVERSION ${JAVASCRIPTCORE_VERSION_MAJOR})
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1310,18 +1344,18 @@</span>
  # Force staging of shared scripts, even if they aren&#39;t directly used to build JavaScriptCore.
  
  add_custom_target(stageSharedScripts DEPENDS ${JavaScriptCore_SCRIPTS})
  add_dependencies(JavaScriptCore stageSharedScripts ${JavaScriptCore_EXTRA_DEPENDENCIES})
  
<span class="udiff-line-modified-removed">- if (MSVC AND NOT PORT STREQUAL Java)</span>
<span class="udiff-line-modified-added">+ if (USE_VERSION_STAMPER)</span>
      add_custom_command(
          TARGET JavaScriptCore
          PRE_BUILD
<span class="udiff-line-modified-removed">-         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/auto-version.pl ${DERIVED_SOURCES_DIR}</span>
<span class="udiff-line-modified-added">+         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/auto-version.pl ${JavaScriptCore_DERIVED_SOURCES_DIR}</span>
          VERBATIM)
  
      add_custom_command(
          TARGET JavaScriptCore
          POST_BUILD
<span class="udiff-line-modified-removed">-         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/version-stamp.pl ${DERIVED_SOURCES_DIR} $&lt;TARGET_FILE:JavaScriptCore&gt;</span>
<span class="udiff-line-modified-added">+         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/version-stamp.pl ${JavaScriptCore_DERIVED_SOURCES_DIR} $&lt;TARGET_FILE:JavaScriptCore&gt;</span>
          VERBATIM)
  endif ()
</pre>
<center><a href="API/WebKitAvailability.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="DerivedSources-input.xcfilelist.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>