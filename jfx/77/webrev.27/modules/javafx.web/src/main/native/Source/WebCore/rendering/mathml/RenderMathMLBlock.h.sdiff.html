<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/mathml/RenderMathMLBlock.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="RenderMathMLBlock.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RenderMathMLFencedOperator.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/mathml/RenderMathMLBlock.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 54     // superscripts, underscripts, overscripts, or a denominator (as in d/dx, where &quot;d&quot; is some
 55     // differential operator). The padding, precedence, and stretchiness of the base &lt;mo&gt; should
 56     // apply to the embellished operator as a whole. unembellishedOperator() checks for being an
 57     // embellished operator, and omits any embellishments.
 58     // FIXME: We don&#39;t yet handle all the cases in the MathML spec. See
 59     // https://bugs.webkit.org/show_bug.cgi?id=78617.
 60     virtual RenderMathMLOperator* unembellishedOperator() const { return 0; }
 61 
 62     int baselinePosition(FontBaseline, bool firstLine, LineDirectionMode, LinePositionMode = PositionOnContainingLine) const override;
 63 
 64 #if ENABLE(DEBUG_MATH_LAYOUT)
 65     virtual void paint(PaintInfo&amp;, const LayoutPoint&amp;);
 66 #endif
 67 
 68 protected:
 69     LayoutUnit ruleThicknessFallback() const
 70     {
 71         // This function returns a value for the default rule thickness (TeX&#39;s \xi_8) to be used as a fallback when we lack a MATH table.
 72         // This arbitrary value of 0.05em was used in early WebKit MathML implementations for the thickness of the fraction bars.
 73         // Note that Gecko has a slower but more accurate version that measures the thickness of U+00AF MACRON to be more accurate and otherwise fallback to some arbitrary value.
<span class="line-modified"> 74         return 0.05f * style().fontCascade().size();</span>
 75     }
 76 
 77     LayoutUnit mathAxisHeight() const;
 78     LayoutUnit mirrorIfNeeded(LayoutUnit horizontalOffset, LayoutUnit boxWidth = 0_lu) const;
 79     LayoutUnit mirrorIfNeeded(LayoutUnit horizontalOffset, const RenderBox&amp; child) const { return mirrorIfNeeded(horizontalOffset, child.logicalWidth()); }
 80 
 81     static LayoutUnit ascentForChild(const RenderBox&amp; child)
 82     {
 83         return child.firstLineBaseline().valueOr(child.logicalHeight());
 84     }
 85 
 86     void layoutBlock(bool relayoutChildren, LayoutUnit pageLogicalHeight = 0_lu) override;
 87     void layoutInvalidMarkup(bool relayoutChildren);
 88 
 89 private:
 90     bool isRenderMathMLBlock() const final { return true; }
 91     const char* renderName() const override { return &quot;RenderMathMLBlock&quot;; }
 92     bool avoidsFloats() const final { return true; }
 93     bool canDropAnonymousBlockChild() const final { return false; }
 94     void layoutItems(bool relayoutChildren);
</pre>
</td>
<td>
<hr />
<pre>
 54     // superscripts, underscripts, overscripts, or a denominator (as in d/dx, where &quot;d&quot; is some
 55     // differential operator). The padding, precedence, and stretchiness of the base &lt;mo&gt; should
 56     // apply to the embellished operator as a whole. unembellishedOperator() checks for being an
 57     // embellished operator, and omits any embellishments.
 58     // FIXME: We don&#39;t yet handle all the cases in the MathML spec. See
 59     // https://bugs.webkit.org/show_bug.cgi?id=78617.
 60     virtual RenderMathMLOperator* unembellishedOperator() const { return 0; }
 61 
 62     int baselinePosition(FontBaseline, bool firstLine, LineDirectionMode, LinePositionMode = PositionOnContainingLine) const override;
 63 
 64 #if ENABLE(DEBUG_MATH_LAYOUT)
 65     virtual void paint(PaintInfo&amp;, const LayoutPoint&amp;);
 66 #endif
 67 
 68 protected:
 69     LayoutUnit ruleThicknessFallback() const
 70     {
 71         // This function returns a value for the default rule thickness (TeX&#39;s \xi_8) to be used as a fallback when we lack a MATH table.
 72         // This arbitrary value of 0.05em was used in early WebKit MathML implementations for the thickness of the fraction bars.
 73         // Note that Gecko has a slower but more accurate version that measures the thickness of U+00AF MACRON to be more accurate and otherwise fallback to some arbitrary value.
<span class="line-modified"> 74         return LayoutUnit(0.05f * style().fontCascade().size());</span>
 75     }
 76 
 77     LayoutUnit mathAxisHeight() const;
 78     LayoutUnit mirrorIfNeeded(LayoutUnit horizontalOffset, LayoutUnit boxWidth = 0_lu) const;
 79     LayoutUnit mirrorIfNeeded(LayoutUnit horizontalOffset, const RenderBox&amp; child) const { return mirrorIfNeeded(horizontalOffset, child.logicalWidth()); }
 80 
 81     static LayoutUnit ascentForChild(const RenderBox&amp; child)
 82     {
 83         return child.firstLineBaseline().valueOr(child.logicalHeight());
 84     }
 85 
 86     void layoutBlock(bool relayoutChildren, LayoutUnit pageLogicalHeight = 0_lu) override;
 87     void layoutInvalidMarkup(bool relayoutChildren);
 88 
 89 private:
 90     bool isRenderMathMLBlock() const final { return true; }
 91     const char* renderName() const override { return &quot;RenderMathMLBlock&quot;; }
 92     bool avoidsFloats() const final { return true; }
 93     bool canDropAnonymousBlockChild() const final { return false; }
 94     void layoutItems(bool relayoutChildren);
</pre>
</td>
</tr>
</table>
<center><a href="RenderMathMLBlock.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RenderMathMLFencedOperator.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>