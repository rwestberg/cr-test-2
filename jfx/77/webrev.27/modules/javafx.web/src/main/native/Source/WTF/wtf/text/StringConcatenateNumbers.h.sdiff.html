<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/text/StringConcatenateNumbers.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="StringConcatenate.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="StringHash.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/text/StringConcatenateNumbers.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 67 class StringTypeAdapter&lt;FloatingPoint, typename std::enable_if_t&lt;std::is_floating_point&lt;FloatingPoint&gt;::value&gt;&gt; {
 68 public:
 69     StringTypeAdapter(FloatingPoint number)
 70     {
 71         numberToString(number, m_buffer);
 72         m_length = std::strlen(&amp;m_buffer[0]);
 73     }
 74 
 75     unsigned length() const { return m_length; }
 76     bool is8Bit() const { return true; }
 77     template&lt;typename CharacterType&gt; void writeTo(CharacterType* destination) const { StringImpl::copyCharacters(destination, buffer(), m_length); }
 78 
 79 private:
 80     const LChar* buffer() const { return reinterpret_cast&lt;const LChar*&gt;(&amp;m_buffer[0]); }
 81 
 82     NumberToStringBuffer m_buffer;
 83     unsigned m_length;
 84 };
 85 
 86 class FormattedNumber {

 87 public:
 88     static FormattedNumber fixedPrecision(double number, unsigned significantFigures = 6, TrailingZerosTruncatingPolicy trailingZerosTruncatingPolicy = TruncateTrailingZeros)
 89     {
 90         FormattedNumber numberFormatter;
 91         numberToFixedPrecisionString(number, significantFigures, numberFormatter.m_buffer, trailingZerosTruncatingPolicy == TruncateTrailingZeros);
 92         numberFormatter.m_length = std::strlen(&amp;numberFormatter.m_buffer[0]);
 93         return numberFormatter;
 94     }
 95 
 96     static FormattedNumber fixedWidth(double number, unsigned decimalPlaces)
 97     {
 98         FormattedNumber numberFormatter;
 99         numberToFixedWidthString(number, decimalPlaces, numberFormatter.m_buffer);
100         numberFormatter.m_length = std::strlen(&amp;numberFormatter.m_buffer[0]);
101         return numberFormatter;
102     }
103 
104     unsigned length() const { return m_length; }
105     const LChar* buffer() const { return reinterpret_cast&lt;const LChar*&gt;(&amp;m_buffer[0]); }
106 
</pre>
</td>
<td>
<hr />
<pre>
 67 class StringTypeAdapter&lt;FloatingPoint, typename std::enable_if_t&lt;std::is_floating_point&lt;FloatingPoint&gt;::value&gt;&gt; {
 68 public:
 69     StringTypeAdapter(FloatingPoint number)
 70     {
 71         numberToString(number, m_buffer);
 72         m_length = std::strlen(&amp;m_buffer[0]);
 73     }
 74 
 75     unsigned length() const { return m_length; }
 76     bool is8Bit() const { return true; }
 77     template&lt;typename CharacterType&gt; void writeTo(CharacterType* destination) const { StringImpl::copyCharacters(destination, buffer(), m_length); }
 78 
 79 private:
 80     const LChar* buffer() const { return reinterpret_cast&lt;const LChar*&gt;(&amp;m_buffer[0]); }
 81 
 82     NumberToStringBuffer m_buffer;
 83     unsigned m_length;
 84 };
 85 
 86 class FormattedNumber {
<span class="line-added"> 87     WTF_MAKE_FAST_ALLOCATED;</span>
 88 public:
 89     static FormattedNumber fixedPrecision(double number, unsigned significantFigures = 6, TrailingZerosTruncatingPolicy trailingZerosTruncatingPolicy = TruncateTrailingZeros)
 90     {
 91         FormattedNumber numberFormatter;
 92         numberToFixedPrecisionString(number, significantFigures, numberFormatter.m_buffer, trailingZerosTruncatingPolicy == TruncateTrailingZeros);
 93         numberFormatter.m_length = std::strlen(&amp;numberFormatter.m_buffer[0]);
 94         return numberFormatter;
 95     }
 96 
 97     static FormattedNumber fixedWidth(double number, unsigned decimalPlaces)
 98     {
 99         FormattedNumber numberFormatter;
100         numberToFixedWidthString(number, decimalPlaces, numberFormatter.m_buffer);
101         numberFormatter.m_length = std::strlen(&amp;numberFormatter.m_buffer[0]);
102         return numberFormatter;
103     }
104 
105     unsigned length() const { return m_length; }
106     const LChar* buffer() const { return reinterpret_cast&lt;const LChar*&gt;(&amp;m_buffer[0]); }
107 
</pre>
</td>
</tr>
</table>
<center><a href="StringConcatenate.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="StringHash.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>