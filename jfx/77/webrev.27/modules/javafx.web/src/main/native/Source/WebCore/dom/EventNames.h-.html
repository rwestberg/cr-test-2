<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.web/src/main/native/Source/WebCore/dom/EventNames.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (C) 2005, 2007, 2015 Apple Inc. All rights reserved.
  3  * Copyright (C) 2006 Jon Shier (jshier@iastate.edu)
  4  *
  5  * This library is free software; you can redistribute it and/or
  6  * modify it under the terms of the GNU Library General Public
  7  * License as published by the Free Software Foundation; either
  8  * version 2 of the License, or (at your option) any later version.
  9  *
 10  * This library is distributed in the hope that it will be useful,
 11  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 12  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 13  * Library General Public License for more details.
 14  *
 15  * You should have received a copy of the GNU Library General Public License
 16  * along with this library; see the file COPYING.LIB.  If not, write to
 17  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 18  * Boston, MA 02110-1301, USA.
 19  *
 20  */
 21 
 22 #pragma once
 23 
 24 #include &quot;ThreadGlobalData.h&quot;
 25 #include &lt;array&gt;
 26 #include &lt;functional&gt;
 27 #include &lt;wtf/text/AtomicString.h&gt;
 28 
 29 namespace WebCore {
 30 
 31 #if !defined(ADDITIONAL_DOM_EVENT_NAMES_FOR_EACH)
 32 #define ADDITIONAL_DOM_EVENT_NAMES_FOR_EACH(macro)
 33 #endif
 34 
 35 #define DOM_EVENT_NAMES_FOR_EACH(macro) \
 36     ADDITIONAL_DOM_EVENT_NAMES_FOR_EACH(macro) \
 37     macro(DOMActivate) \
 38     macro(DOMCharacterDataModified) \
 39     macro(DOMContentLoaded) \
 40     macro(DOMFocusIn) \
 41     macro(DOMFocusOut) \
 42     macro(DOMNodeInserted) \
 43     macro(DOMNodeInsertedIntoDocument) \
 44     macro(DOMNodeRemoved) \
 45     macro(DOMNodeRemovedFromDocument) \
 46     macro(DOMSubtreeModified) \
 47     macro(abort) \
 48     macro(accessiblecontextmenu) \
 49     macro(accessibleclick) \
 50     macro(accessibledecrement) \
 51     macro(accessibledismiss) \
 52     macro(accessiblefocus) \
 53     macro(accessibleincrement) \
 54     macro(accessiblescrollintoview) \
 55     macro(accessiblesetvalue) \
 56     macro(accessibleselect) \
 57     macro(activate) \
 58     macro(active) \
 59     macro(addsourcebuffer) \
 60     macro(addstream) \
 61     macro(addtrack) \
 62     macro(animationcancel) \
 63     macro(animationend) \
 64     macro(animationiteration) \
 65     macro(animationstart) \
 66     macro(audioend) \
 67     macro(audioprocess) \
 68     macro(audiostart) \
 69     macro(autocomplete) \
 70     macro(autocompleteerror) \
 71     macro(beforecopy) \
 72     macro(beforecut) \
 73     macro(beforeinput) \
 74     macro(beforeload) \
 75     macro(beforepaste) \
 76     macro(beforeunload) \
 77     macro(beginEvent) \
 78     macro(blocked) \
 79     macro(blur) \
 80     macro(boundary) \
 81     macro(bufferedamountlow) \
 82     macro(cached) \
 83     macro(cancel) \
 84     macro(canplay) \
 85     macro(canplaythrough) \
 86     macro(change) \
 87     macro(chargingchange) \
 88     macro(chargingtimechange) \
 89     macro(checking) \
 90     macro(click) \
 91     macro(close) \
 92     macro(complete) \
 93     macro(compositionend) \
 94     macro(compositionstart) \
 95     macro(compositionupdate) \
 96     macro(connect) \
 97     macro(connectionstatechange) \
 98     macro(connecting) \
 99     macro(contextmenu) \
100     macro(controllerchange) \
101     macro(copy) \
102     macro(cuechange) \
103     macro(cut) \
104     macro(dataavailable) \
105     macro(datachannel) \
106     macro(dblclick) \
107     macro(devicechange) \
108     macro(devicemotion) \
109     macro(deviceorientation) \
110     macro(dischargingtimechange) \
111     macro(downloading) \
112     macro(drag) \
113     macro(dragend) \
114     macro(dragenter) \
115     macro(dragleave) \
116     macro(dragover) \
117     macro(dragstart) \
118     macro(drop) \
119     macro(durationchange) \
120     macro(emptied) \
121     macro(encrypted) \
122     macro(end) \
123     macro(endEvent) \
124     macro(ended) \
125     macro(enter) \
126     macro(error) \
127     macro(exit) \
128     macro(fetch) \
129     macro(finish) \
130     macro(focus) \
131     macro(focusin) \
132     macro(focusout) \
133     macro(gamepadconnected) \
134     macro(gamepaddisconnected) \
135     macro(gesturechange) \
136     macro(gestureend) \
137     macro(gesturescrollend) \
138     macro(gesturescrollstart) \
139     macro(gesturescrollupdate) \
140     macro(gesturestart) \
141     macro(gesturetap) \
142     macro(gesturetapdown) \
143     macro(gotpointercapture) \
144     macro(hashchange) \
145     macro(icecandidate) \
146     macro(iceconnectionstatechange) \
147     macro(icegatheringstatechange) \
148     macro(inactive) \
149     macro(input) \
150     macro(install) \
151     macro(invalid) \
152     macro(keydown) \
153     macro(keypress) \
154     macro(keystatuseschange) \
155     macro(keyup) \
156     macro(languagechange) \
157     macro(levelchange) \
158     macro(load) \
159     macro(loadeddata) \
160     macro(loadedmetadata) \
161     macro(loadend) \
162     macro(loading) \
163     macro(loadingdone) \
164     macro(loadingerror) \
165     macro(loadstart) \
166     macro(lostpointercapture) \
167     macro(mark) \
168     macro(merchantvalidation) \
169     macro(message) \
170     macro(messageerror) \
171     macro(mousedown) \
172     macro(mouseenter) \
173     macro(mouseleave) \
174     macro(mousemove) \
175     macro(mouseout) \
176     macro(mouseover) \
177     macro(mouseup) \
178     macro(mousewheel) \
179     macro(mute) \
180     macro(negotiationneeded) \
181     macro(nexttrack) \
182     macro(nomatch) \
183     macro(noupdate) \
184     macro(obsolete) \
185     macro(offline) \
186     macro(online) \
187     macro(open) \
188     macro(orientationchange) \
189     macro(overconstrained) \
190     macro(overflowchanged) \
191     macro(pagehide) \
192     macro(pageshow) \
193     macro(paste) \
194     macro(pause) \
195     macro(payerdetailchange) \
196     macro(paymentauthorized) \
197     macro(paymentmethodchange) \
198     macro(paymentmethodselected) \
199     macro(play) \
200     macro(playing) \
201     macro(pointerlockchange) \
202     macro(pointerlockerror) \
203     macro(pointercancel) \
204     macro(pointerdown) \
205     macro(pointermove) \
206     macro(pointerup) \
207     macro(popstate) \
208     macro(previoustrack) \
209     macro(progress) \
210     macro(ratechange) \
211     macro(readystatechange) \
212     macro(rejectionhandled) \
213     macro(removesourcebuffer) \
214     macro(removestream) \
215     macro(removetrack) \
216     macro(reset) \
217     macro(resize) \
218     macro(resourcetimingbufferfull) \
219     macro(result) \
220     macro(resume) \
221     macro(scroll) \
222     macro(search) \
223     macro(securitypolicyviolation) \
224     macro(seeked) \
225     macro(seeking) \
226     macro(select) \
227     macro(selectionchange) \
228     macro(selectstart) \
229     macro(shippingaddresschange) \
230     macro(shippingcontactselected) \
231     macro(shippingmethodselected) \
232     macro(shippingoptionchange) \
233     macro(show) \
234     macro(signalingstatechange) \
235     macro(slotchange) \
236     macro(soundend) \
237     macro(soundstart) \
238     macro(sourceclose) \
239     macro(sourceended) \
240     macro(sourceopen) \
241     macro(speechend) \
242     macro(speechstart) \
243     macro(stalled) \
244     macro(start) \
245     macro(started) \
246     macro(statechange) \
247     macro(stop) \
248     macro(storage) \
249     macro(submit) \
250     macro(success) \
251     macro(suspend) \
252     macro(textInput) \
253     macro(timeout) \
254     macro(timeupdate) \
255     macro(toggle) \
256     macro(tonechange) \
257     macro(touchcancel) \
258     macro(touchend) \
259     macro(touchforcechange) \
260     macro(touchmove) \
261     macro(touchstart) \
262     macro(track) \
263     macro(transitioncancel) \
264     macro(transitionend) \
265     macro(transitionrun) \
266     macro(transitionstart) \
267     macro(unhandledrejection) \
268     macro(unload) \
269     macro(unmute) \
270     macro(update) \
271     macro(updateend) \
272     macro(updatefound) \
273     macro(updateready) \
274     macro(updatestart) \
275     macro(upgradeneeded) \
276     macro(validatemerchant) \
277     macro(versionchange) \
278     macro(visibilitychange) \
279     macro(volumechange) \
280     macro(vrdisplayactivate) \
281     macro(vrdisplayblur) \
282     macro(vrdisplayconnect) \
283     macro(vrdisplaydeactivate) \
284     macro(vrdisplaydisconnect) \
285     macro(vrdisplayfocus) \
286     macro(vrdisplaypresentchange) \
287     macro(waiting) \
288     macro(waitingforkey) \
289     macro(webglcontextchanged) \
290     macro(webglcontextcreationerror) \
291     macro(webglcontextlost) \
292     macro(webglcontextrestored) \
293     macro(webkitAnimationEnd) \
294     macro(webkitAnimationIteration) \
295     macro(webkitAnimationStart) \
296     macro(webkitBeforeTextInserted) \
297     macro(webkitEditableContentChanged) \
298     macro(webkitTransitionEnd) \
299     macro(webkitbeginfullscreen) \
300     macro(webkitcurrentplaybacktargetiswirelesschanged) \
301     macro(webkitendfullscreen) \
302     macro(webkitfullscreenchange) \
303     macro(webkitfullscreenerror) \
304     macro(webkitkeyadded) \
305     macro(webkitkeyerror) \
306     macro(webkitkeymessage) \
307     macro(webkitmouseforcechanged) \
308     macro(webkitmouseforcedown) \
309     macro(webkitmouseforcewillbegin) \
310     macro(webkitmouseforceup) \
311     macro(webkitneedkey) \
312     macro(webkitnetworkinfochange) \
313     macro(webkitplaybacktargetavailabilitychanged) \
314     macro(webkitpresentationmodechanged) \
315     macro(webkitregionoversetchange) \
316     macro(webkitremovesourcebuffer) \
317     macro(webkitsourceclose) \
318     macro(webkitsourceended) \
319     macro(webkitsourceopen) \
320     macro(webkitspeechchange) \
321     macro(webkitwillrevealbottom) \
322     macro(webkitwillrevealleft) \
323     macro(webkitwillrevealright) \
324     macro(webkitwillrevealtop) \
325     macro(wheel) \
326     macro(write) \
327     macro(writeend) \
328     macro(writestart) \
329     macro(zoom) \
330 // end of DOM_EVENT_NAMES_FOR_EACH
331 
332 struct EventNames {
333     WTF_MAKE_NONCOPYABLE(EventNames); WTF_MAKE_FAST_ALLOCATED;
334 
335 public:
336 #define DOM_EVENT_NAMES_DECLARE(name) const AtomicString name##Event;
337     DOM_EVENT_NAMES_FOR_EACH(DOM_EVENT_NAMES_DECLARE)
338 #undef DOM_EVENT_NAMES_DECLARE
339 
340     // FIXME: The friend declaration to std::make_unique below does not work in windows port.
341     //
342     // template&lt;class T, class... Args&gt;
343     // friend typename std::_Unique_if&lt;T&gt;::_Single_object std::make_unique(Args&amp;&amp;...);
344     //
345     // This create function should be deleted later and is only for keeping EventNames as private.
346     // std::make_unique should be used instead.
347     //
348     template&lt;class... Args&gt;
349     static std::unique_ptr&lt;EventNames&gt; create(Args&amp;&amp;... args)
350     {
351         return std::unique_ptr&lt;EventNames&gt;(new EventNames(std::forward&lt;Args&gt;(args)...));
352     }
353 
354     // FIXME: Inelegant to call these both event names and event types.
355     // We should choose one term and stick to it.
356     bool isWheelEventType(const AtomicString&amp; eventType) const;
357     bool isGestureEventType(const AtomicString&amp; eventType) const;
358     bool isTouchEventType(const AtomicString&amp; eventType) const;
359     bool isTouchScrollBlockingEventType(const AtomicString&amp; eventType) const;
360 #if ENABLE(GAMEPAD)
361     bool isGamepadEventType(const AtomicString&amp; eventType) const;
362 #endif
363 
364     std::array&lt;std::reference_wrapper&lt;const AtomicString&gt;, 9&gt; touchAndPointerEventNames() const;
365     std::array&lt;std::reference_wrapper&lt;const AtomicString&gt;, 3&gt; gestureEventNames() const;
366 
367 private:
368     EventNames(); // Private to prevent accidental call to EventNames() instead of eventNames().
369     friend class ThreadGlobalData; // Allow ThreadGlobalData to create the per-thread EventNames object.
370 
371     int dummy; // Needed to make initialization macro work.
372 };
373 
374 const EventNames&amp; eventNames();
375 
376 inline const EventNames&amp; eventNames()
377 {
378     return threadGlobalData().eventNames();
379 }
380 
381 inline bool EventNames::isGestureEventType(const AtomicString&amp; eventType) const
382 {
383     return eventType == gesturestartEvent || eventType == gesturechangeEvent || eventType == gestureendEvent;
384 }
385 
386 inline bool EventNames::isTouchScrollBlockingEventType(const AtomicString&amp; eventType) const
387 {
388     return eventType == touchstartEvent
389         || eventType == touchmoveEvent;
390 }
391 
392 inline bool EventNames::isTouchEventType(const AtomicString&amp; eventType) const
393 {
394     return eventType == touchstartEvent
395         || eventType == touchmoveEvent
396         || eventType == touchendEvent
397         || eventType == touchcancelEvent
398         || eventType == touchforcechangeEvent
399         || eventType == pointerdownEvent
400         || eventType == pointermoveEvent
401         || eventType == pointerupEvent
402         || eventType == pointercancelEvent;
403 }
404 
405 inline bool EventNames::isWheelEventType(const AtomicString&amp; eventType) const
406 {
407     return eventType == wheelEvent
408         || eventType == mousewheelEvent;
409 }
410 
411 inline std::array&lt;std::reference_wrapper&lt;const AtomicString&gt;, 9&gt; EventNames::touchAndPointerEventNames() const
412 {
413     return { { touchstartEvent, touchmoveEvent, touchendEvent, touchcancelEvent, touchforcechangeEvent, pointerdownEvent, pointermoveEvent, pointerupEvent, pointercancelEvent } };
414 }
415 
416 inline std::array&lt;std::reference_wrapper&lt;const AtomicString&gt;, 3&gt; EventNames::gestureEventNames() const
417 {
418     return { { gesturestartEvent, gesturechangeEvent, gestureendEvent } };
419 }
420 
421 #if ENABLE(GAMEPAD)
422 
423 inline bool EventNames::isGamepadEventType(const AtomicString&amp; eventType) const
424 {
425     return eventType == gamepadconnectedEvent
426         || eventType == gamepaddisconnectedEvent;
427 }
428 
429 #endif
430 
431 } // namespace WebCore
    </pre>
  </body>
</html>