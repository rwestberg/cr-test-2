<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/platform/text/LocaleICU.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Hyphenation.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="LocaleNone.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/text/LocaleICU.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -40,13 +40,13 @@</span>
  
  
  namespace WebCore {
  using namespace icu;
  
<span class="udiff-line-modified-removed">- std::unique_ptr&lt;Locale&gt; Locale::create(const AtomicString&amp; locale)</span>
<span class="udiff-line-modified-added">+ std::unique_ptr&lt;Locale&gt; Locale::create(const AtomString&amp; locale)</span>
  {
<span class="udiff-line-modified-removed">-     return std::make_unique&lt;LocaleICU&gt;(locale.string().utf8().data());</span>
<span class="udiff-line-modified-added">+     return makeUnique&lt;LocaleICU&gt;(locale.string().utf8().data());</span>
  }
  
  LocaleICU::LocaleICU(const char* locale)
      : m_locale(locale)
  {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -161,34 +161,34 @@</span>
  }
  
  std::unique_ptr&lt;Vector&lt;String&gt;&gt; LocaleICU::createLabelVector(const UDateFormat* dateFormat, UDateFormatSymbolType type, int32_t startIndex, int32_t size)
  {
      if (!dateFormat)
<span class="udiff-line-modified-removed">-         return std::make_unique&lt;Vector&lt;String&gt;&gt;();</span>
<span class="udiff-line-modified-added">+         return makeUnique&lt;Vector&lt;String&gt;&gt;();</span>
      if (udat_countSymbols(dateFormat, type) != startIndex + size)
<span class="udiff-line-modified-removed">-         return std::make_unique&lt;Vector&lt;String&gt;&gt;();</span>
<span class="udiff-line-modified-added">+         return makeUnique&lt;Vector&lt;String&gt;&gt;();</span>
  
<span class="udiff-line-modified-removed">-     auto labels = std::make_unique&lt;Vector&lt;String&gt;&gt;();</span>
<span class="udiff-line-modified-added">+     auto labels = makeUnique&lt;Vector&lt;String&gt;&gt;();</span>
      labels-&gt;reserveCapacity(size);
      for (int32_t i = 0; i &lt; size; ++i) {
          UErrorCode status = U_ZERO_ERROR;
          int32_t length = udat_getSymbols(dateFormat, type, startIndex + i, 0, 0, &amp;status);
          if (status != U_BUFFER_OVERFLOW_ERROR)
<span class="udiff-line-modified-removed">-             return std::make_unique&lt;Vector&lt;String&gt;&gt;();</span>
<span class="udiff-line-modified-added">+             return makeUnique&lt;Vector&lt;String&gt;&gt;();</span>
          Vector&lt;UChar&gt; buffer(length);
          status = U_ZERO_ERROR;
          udat_getSymbols(dateFormat, type, startIndex + i, buffer.data(), length, &amp;status);
          if (U_FAILURE(status))
<span class="udiff-line-modified-removed">-             return std::make_unique&lt;Vector&lt;String&gt;&gt;();</span>
<span class="udiff-line-modified-added">+             return makeUnique&lt;Vector&lt;String&gt;&gt;();</span>
          labels-&gt;append(String::adopt(WTFMove(buffer)));
      }
      return WTFMove(labels);
  }
  
  static std::unique_ptr&lt;Vector&lt;String&gt;&gt; createFallbackMonthLabels()
  {
<span class="udiff-line-modified-removed">-     auto labels = std::make_unique&lt;Vector&lt;String&gt;&gt;();</span>
<span class="udiff-line-modified-added">+     auto labels = makeUnique&lt;Vector&lt;String&gt;&gt;();</span>
      labels-&gt;reserveCapacity(WTF_ARRAY_LENGTH(WTF::monthFullName));
      for (unsigned i = 0; i &lt; WTF_ARRAY_LENGTH(WTF::monthFullName); ++i)
          labels-&gt;append(WTF::monthFullName[i]);
      return WTFMove(labels);
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -206,11 +206,11 @@</span>
      return *m_monthLabels;
  }
  
  static std::unique_ptr&lt;Vector&lt;String&gt;&gt; createFallbackAMPMLabels()
  {
<span class="udiff-line-modified-removed">-     auto labels = std::make_unique&lt;Vector&lt;String&gt;&gt;();</span>
<span class="udiff-line-modified-added">+     auto labels = makeUnique&lt;Vector&lt;String&gt;&gt;();</span>
      labels-&gt;reserveCapacity(2);
      labels-&gt;append(&quot;AM&quot;);
      labels-&gt;append(&quot;PM&quot;);
      return WTFMove(labels);
  }
</pre>
<center><a href="Hyphenation.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="LocaleNone.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>