<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/texmap/TextureMapperPlatformLayerBuffer.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TextureMapperPlatformLayerBuffer.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="TextureMapperPlatformLayerProxy.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/texmap/TextureMapperPlatformLayerBuffer.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
49     BitmapTextureGL&amp; textureGL() { return static_cast&lt;BitmapTextureGL&amp;&gt;(*m_texture); }
50 
51     inline void markUsed() { m_timeLastUsed = MonotonicTime::now(); }
52     MonotonicTime lastUsedTime() const { return m_timeLastUsed; }
53 
54     class UnmanagedBufferDataHolder {
55         WTF_MAKE_NONCOPYABLE(UnmanagedBufferDataHolder);
56         WTF_MAKE_FAST_ALLOCATED();
57     public:
58         UnmanagedBufferDataHolder() = default;
59         virtual ~UnmanagedBufferDataHolder() = default;
60     };
61 
62     bool hasManagedTexture() const { return m_hasManagedTexture; }
63     void setUnmanagedBufferDataHolder(std::unique_ptr&lt;UnmanagedBufferDataHolder&gt; holder) { m_unmanagedBufferDataHolder = WTFMove(holder); }
64     void setExtraFlags(TextureMapperGL::Flags flags) { m_extraFlags = flags; }
65 
66     std::unique_ptr&lt;TextureMapperPlatformLayerBuffer&gt; clone();
67 
68     class HolePunchClient {

69     public:

70         virtual void setVideoRectangle(const IntRect&amp;) = 0;
71     };
72 
73     void setHolePunchClient(std::unique_ptr&lt;HolePunchClient&gt;&amp;&amp; client) { m_holePunchClient = WTFMove(client); }
74 
75 private:
76 
77     RefPtr&lt;BitmapTexture&gt; m_texture;
78     MonotonicTime m_timeLastUsed;
79 
80     GLuint m_textureID;
81     IntSize m_size;
82     GLint m_internalFormat;
83     TextureMapperGL::Flags m_extraFlags;
84     bool m_hasManagedTexture;
85     std::unique_ptr&lt;UnmanagedBufferDataHolder&gt; m_unmanagedBufferDataHolder;
86     std::unique_ptr&lt;HolePunchClient&gt; m_holePunchClient;
87 };
88 
89 } // namespace WebCore
</pre>
</td>
<td>
<hr />
<pre>
49     BitmapTextureGL&amp; textureGL() { return static_cast&lt;BitmapTextureGL&amp;&gt;(*m_texture); }
50 
51     inline void markUsed() { m_timeLastUsed = MonotonicTime::now(); }
52     MonotonicTime lastUsedTime() const { return m_timeLastUsed; }
53 
54     class UnmanagedBufferDataHolder {
55         WTF_MAKE_NONCOPYABLE(UnmanagedBufferDataHolder);
56         WTF_MAKE_FAST_ALLOCATED();
57     public:
58         UnmanagedBufferDataHolder() = default;
59         virtual ~UnmanagedBufferDataHolder() = default;
60     };
61 
62     bool hasManagedTexture() const { return m_hasManagedTexture; }
63     void setUnmanagedBufferDataHolder(std::unique_ptr&lt;UnmanagedBufferDataHolder&gt; holder) { m_unmanagedBufferDataHolder = WTFMove(holder); }
64     void setExtraFlags(TextureMapperGL::Flags flags) { m_extraFlags = flags; }
65 
66     std::unique_ptr&lt;TextureMapperPlatformLayerBuffer&gt; clone();
67 
68     class HolePunchClient {
<span class="line-added">69         WTF_MAKE_FAST_ALLOCATED();</span>
70     public:
<span class="line-added">71         virtual ~HolePunchClient() = default;</span>
72         virtual void setVideoRectangle(const IntRect&amp;) = 0;
73     };
74 
75     void setHolePunchClient(std::unique_ptr&lt;HolePunchClient&gt;&amp;&amp; client) { m_holePunchClient = WTFMove(client); }
76 
77 private:
78 
79     RefPtr&lt;BitmapTexture&gt; m_texture;
80     MonotonicTime m_timeLastUsed;
81 
82     GLuint m_textureID;
83     IntSize m_size;
84     GLint m_internalFormat;
85     TextureMapperGL::Flags m_extraFlags;
86     bool m_hasManagedTexture;
87     std::unique_ptr&lt;UnmanagedBufferDataHolder&gt; m_unmanagedBufferDataHolder;
88     std::unique_ptr&lt;HolePunchClient&gt; m_holePunchClient;
89 };
90 
91 } // namespace WebCore
</pre>
</td>
</tr>
</table>
<center><a href="TextureMapperPlatformLayerBuffer.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="TextureMapperPlatformLayerProxy.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>