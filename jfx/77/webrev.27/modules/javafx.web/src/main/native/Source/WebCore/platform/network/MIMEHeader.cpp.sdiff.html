<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/network/MIMEHeader.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HTTPParsers.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="NetworkStateNotifier.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/network/MIMEHeader.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
100         else {
101             mimeHeader-&gt;m_multipartType = multipartType;
102             mimeHeader-&gt;m_endOfPartBoundary = endOfPartBoundary;
103             if (mimeHeader-&gt;m_endOfPartBoundary.isNull()) {
104                 LOG_ERROR(&quot;No boundary found in multipart MIME header.&quot;);
105                 return nullptr;
106             }
107             mimeHeader-&gt;m_endOfPartBoundary = &quot;--&quot; + mimeHeader-&gt;m_endOfPartBoundary;
108             mimeHeader-&gt;m_endOfDocumentBoundary = mimeHeader-&gt;m_endOfPartBoundary + &quot;--&quot;;
109         }
110     }
111 
112     mimeParametersIterator = keyValuePairs.find(&quot;content-transfer-encoding&quot;);
113     if (mimeParametersIterator != keyValuePairs.end())
114         mimeHeader-&gt;m_contentTransferEncoding = parseContentTransferEncoding(mimeParametersIterator-&gt;value);
115 
116     mimeParametersIterator = keyValuePairs.find(&quot;content-location&quot;);
117     if (mimeParametersIterator != keyValuePairs.end())
118         mimeHeader-&gt;m_contentLocation = mimeParametersIterator-&gt;value;
119 
<span class="line-modified">120     return WTFMove(mimeHeader);</span>
121 }
122 
123 MIMEHeader::Encoding MIMEHeader::parseContentTransferEncoding(const String&amp; text)
124 {
125     String encoding = text.stripWhiteSpace();
126     if (equalLettersIgnoringASCIICase(encoding, &quot;base64&quot;))
127         return Base64;
128     if (equalLettersIgnoringASCIICase(encoding, &quot;quoted-printable&quot;))
129         return QuotedPrintable;
130     if (equalLettersIgnoringASCIICase(encoding, &quot;7bit&quot;))
131         return SevenBit;
132     if (equalLettersIgnoringASCIICase(encoding, &quot;binary&quot;))
133         return Binary;
134     LOG_ERROR(&quot;Unknown encoding &#39;%s&#39; found in MIME header.&quot;, text.ascii().data());
135     return Unknown;
136 }
137 
138 MIMEHeader::MIMEHeader()
139     : m_contentTransferEncoding(Unknown)
140 {
</pre>
</td>
<td>
<hr />
<pre>
100         else {
101             mimeHeader-&gt;m_multipartType = multipartType;
102             mimeHeader-&gt;m_endOfPartBoundary = endOfPartBoundary;
103             if (mimeHeader-&gt;m_endOfPartBoundary.isNull()) {
104                 LOG_ERROR(&quot;No boundary found in multipart MIME header.&quot;);
105                 return nullptr;
106             }
107             mimeHeader-&gt;m_endOfPartBoundary = &quot;--&quot; + mimeHeader-&gt;m_endOfPartBoundary;
108             mimeHeader-&gt;m_endOfDocumentBoundary = mimeHeader-&gt;m_endOfPartBoundary + &quot;--&quot;;
109         }
110     }
111 
112     mimeParametersIterator = keyValuePairs.find(&quot;content-transfer-encoding&quot;);
113     if (mimeParametersIterator != keyValuePairs.end())
114         mimeHeader-&gt;m_contentTransferEncoding = parseContentTransferEncoding(mimeParametersIterator-&gt;value);
115 
116     mimeParametersIterator = keyValuePairs.find(&quot;content-location&quot;);
117     if (mimeParametersIterator != keyValuePairs.end())
118         mimeHeader-&gt;m_contentLocation = mimeParametersIterator-&gt;value;
119 
<span class="line-modified">120     return mimeHeader;</span>
121 }
122 
123 MIMEHeader::Encoding MIMEHeader::parseContentTransferEncoding(const String&amp; text)
124 {
125     String encoding = text.stripWhiteSpace();
126     if (equalLettersIgnoringASCIICase(encoding, &quot;base64&quot;))
127         return Base64;
128     if (equalLettersIgnoringASCIICase(encoding, &quot;quoted-printable&quot;))
129         return QuotedPrintable;
130     if (equalLettersIgnoringASCIICase(encoding, &quot;7bit&quot;))
131         return SevenBit;
132     if (equalLettersIgnoringASCIICase(encoding, &quot;binary&quot;))
133         return Binary;
134     LOG_ERROR(&quot;Unknown encoding &#39;%s&#39; found in MIME header.&quot;, text.ascii().data());
135     return Unknown;
136 }
137 
138 MIMEHeader::MIMEHeader()
139     : m_contentTransferEncoding(Unknown)
140 {
</pre>
</td>
</tr>
</table>
<center><a href="HTTPParsers.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="NetworkStateNotifier.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>