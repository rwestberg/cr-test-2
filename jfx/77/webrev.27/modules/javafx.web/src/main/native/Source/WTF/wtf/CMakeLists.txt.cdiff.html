<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WTF/wtf/CMakeLists.txt</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="BumpPointerAllocator.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="CPUTime.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/CMakeLists.txt</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
<span class="line-new-header">--- 1,8 ---</span>
  set(WTF_PUBLIC_HEADERS
      ASCIICType.h
<span class="line-added">+     AggregateLogger.h</span>
      Algorithms.h
      Assertions.h
      Atomics.h
      AutodrainedPool.h
      AutomaticThread.h
</pre>
<hr />
<pre>
<span class="line-old-header">*** 41,14 ***</span>
      CrossThreadTask.h
      CrossThreadTaskHandler.h
      CryptographicUtilities.h
      CryptographicallyRandomNumber.h
      DataLog.h
      DateMath.h
      DebugUtilities.h
      DeferrableRefCounted.h
<span class="line-removed">-     DeprecatedOptional.h</span>
      Deque.h
      DisallowCType.h
      Dominators.h
      DoublyLinkedList.h
      DumbPtrTraits.h
<span class="line-new-header">--- 42,14 ---</span>
      CrossThreadTask.h
      CrossThreadTaskHandler.h
      CryptographicUtilities.h
      CryptographicallyRandomNumber.h
      DataLog.h
<span class="line-added">+     DataMutex.h</span>
      DateMath.h
      DebugUtilities.h
      DeferrableRefCounted.h
      Deque.h
      DisallowCType.h
      Dominators.h
      DoublyLinkedList.h
      DumbPtrTraits.h
</pre>
<hr />
<pre>
<span class="line-old-header">*** 120,10 ***</span>
<span class="line-new-header">--- 121,11 ---</span>
      LoggingHashSet.h
      LoggingHashTraits.h
      MD5.h
      MachSendRight.h
      MainThread.h
<span class="line-added">+     MainThreadData.h</span>
      MallocPtr.h
      Markable.h
      MathExtras.h
      MediaTime.h
      MemoryFootprint.h
</pre>
<hr />
<pre>
<span class="line-old-header">*** 137,20 ***</span>
<span class="line-new-header">--- 139,22 ---</span>
      NaturalLoops.h
      NeverDestroyed.h
      NoLock.h
      NoTailCalls.h
      Noncopyable.h
<span class="line-added">+     Nonmovable.h</span>
      NotFound.h
      NumberOfCores.h
      OSAllocator.h
      OSObjectPtr.h
      OSRandomSource.h
      ObjCRuntimeExtras.h
      ObjectIdentifier.h
      OptionSet.h
      Optional.h
      OrderMaker.h
<span class="line-added">+     Packed.h</span>
      PackedIntVector.h
      PageAllocation.h
      PageBlock.h
      PageReservation.h
      ParallelHelperPool.h
</pre>
<hr />
<pre>
<span class="line-old-header">*** 184,10 ***</span>
<span class="line-new-header">--- 188,11 ---</span>
      RefCounted.h
      RefCountedArray.h
      RefCountedLeakCounter.h
      RefCounter.h
      RefPtr.h
<span class="line-added">+     ResourceUsage.h</span>
      RetainPtr.h
      RunLoop.h
      RunLoopTimer.h
      SHA1.h
      SaturatedArithmetic.h
</pre>
<hr />
<pre>
<span class="line-old-header">*** 226,10 ***</span>
<span class="line-new-header">--- 231,11 ---</span>
      StringHashDumpContext.h
      StringPrintStream.h
      SynchronizedFixedQueue.h
      SystemFree.h
      SystemTracing.h
<span class="line-added">+     TaggedArrayStoragePtr.h</span>
      ThreadGroup.h
      ThreadMessage.h
      ThreadSafeRefCounted.h
      ThreadSpecific.h
      Threading.h
</pre>
<hr />
<pre>
<span class="line-old-header">*** 257,10 ***</span>
<span class="line-new-header">--- 263,11 ---</span>
      Variant.h
      Vector.h
      VectorTraits.h
      WTFSemaphore.h
      WallTime.h
<span class="line-added">+     WeakHashSet.h</span>
      WeakPtr.h
      WeakRandom.h
      WindowsExtras.h
      WordLock.h
      WorkQueue.h
</pre>
<hr />
<pre>
<span class="line-old-header">*** 283,14 ***</span>
      persistence/PersistentDecoder.h
      persistence/PersistentEncoder.h
  
      text/ASCIIFastPath.h
      text/ASCIILiteral.h
<span class="line-modified">!     text/AtomicString.h</span>
<span class="line-modified">!     text/AtomicStringHash.h</span>
<span class="line-modified">!     text/AtomicStringImpl.h</span>
<span class="line-modified">!     text/AtomicStringTable.h</span>
      text/Base64.h
      text/CString.h
      text/ConversionMode.h
      text/ExternalStringImpl.h
      text/IntegerToStringConversion.h
<span class="line-new-header">--- 290,14 ---</span>
      persistence/PersistentDecoder.h
      persistence/PersistentEncoder.h
  
      text/ASCIIFastPath.h
      text/ASCIILiteral.h
<span class="line-modified">!     text/AtomString.h</span>
<span class="line-modified">!     text/AtomStringHash.h</span>
<span class="line-modified">!     text/AtomStringImpl.h</span>
<span class="line-modified">!     text/AtomStringTable.h</span>
      text/Base64.h
      text/CString.h
      text/ConversionMode.h
      text/ExternalStringImpl.h
      text/IntegerToStringConversion.h
</pre>
<hr />
<pre>
<span class="line-old-header">*** 384,10 ***</span>
<span class="line-new-header">--- 391,11 ---</span>
      ProcessPrivilege.cpp
      RAMSize.cpp
      RandomDevice.cpp
      RandomNumber.cpp
      ReadWriteLock.cpp
<span class="line-added">+     RefCounted.cpp</span>
      RefCountedLeakCounter.cpp
      RunLoop.cpp
      SHA1.cpp
      Seconds.cpp
      SixCharacterHash.cpp
</pre>
<hr />
<pre>
<span class="line-old-header">*** 424,13 ***</span>
      persistence/PersistentCoders.cpp
      persistence/PersistentDecoder.cpp
      persistence/PersistentEncoder.cpp
  
      text/ASCIILiteral.cpp
<span class="line-modified">!     text/AtomicString.cpp</span>
<span class="line-modified">!     text/AtomicStringImpl.cpp</span>
<span class="line-modified">!     text/AtomicStringTable.cpp</span>
      text/Base64.cpp
      text/CString.cpp
      text/ExternalStringImpl.cpp
      text/LineEnding.cpp
      text/StringBuilder.cpp
<span class="line-new-header">--- 432,13 ---</span>
      persistence/PersistentCoders.cpp
      persistence/PersistentDecoder.cpp
      persistence/PersistentEncoder.cpp
  
      text/ASCIILiteral.cpp
<span class="line-modified">!     text/AtomString.cpp</span>
<span class="line-modified">!     text/AtomStringImpl.cpp</span>
<span class="line-modified">!     text/AtomStringTable.cpp</span>
      text/Base64.cpp
      text/CString.cpp
      text/ExternalStringImpl.cpp
      text/LineEnding.cpp
      text/StringBuilder.cpp
</pre>
<hr />
<pre>
<span class="line-old-header">*** 448,21 ***</span>
      text/icu/UTextProviderUTF16.cpp
  
      threads/BinarySemaphore.cpp
      threads/Signals.cpp
  
      unicode/UTF8Conversion.cpp
  )
  
  set(WTF_INCLUDE_DIRECTORIES
<span class="line-modified">!     &quot;${BMALLOC_DIR}&quot;</span>
      &quot;${CMAKE_BINARY_DIR}&quot;
      &quot;${DERIVED_SOURCES_DIR}&quot;
      &quot;${THIRDPARTY_DIR}&quot;
  )
  
  set(WTF_PRIVATE_INCLUDE_DIRECTORIES
      &quot;${WTF_DIR}&quot;
      &quot;${WTF_DIR}/wtf&quot;
      &quot;${WTF_DIR}/wtf/dtoa&quot;
      &quot;${WTF_DIR}/wtf/persistence&quot;
      &quot;${WTF_DIR}/wtf/text&quot;
<span class="line-new-header">--- 456,26 ---</span>
      text/icu/UTextProviderUTF16.cpp
  
      threads/BinarySemaphore.cpp
      threads/Signals.cpp
  
<span class="line-added">+     unicode/CollatorDefault.cpp</span>
      unicode/UTF8Conversion.cpp
<span class="line-added">+ </span>
<span class="line-added">+     unicode/icu/CollatorICU.cpp</span>
  )
  
  set(WTF_INCLUDE_DIRECTORIES
<span class="line-modified">!     # FIXME: https://bugs.webkit.org/show_bug.cgi?id=196734#c1</span>
      &quot;${CMAKE_BINARY_DIR}&quot;
      &quot;${DERIVED_SOURCES_DIR}&quot;
      &quot;${THIRDPARTY_DIR}&quot;
  )
  
  set(WTF_PRIVATE_INCLUDE_DIRECTORIES
<span class="line-added">+     &quot;${CMAKE_BINARY_DIR}&quot;</span>
<span class="line-added">+     &quot;${WTF_DERIVED_SOURCES_DIR}&quot;</span>
      &quot;${WTF_DIR}&quot;
      &quot;${WTF_DIR}/wtf&quot;
      &quot;${WTF_DIR}/wtf/dtoa&quot;
      &quot;${WTF_DIR}/wtf/persistence&quot;
      &quot;${WTF_DIR}/wtf/text&quot;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 474,57 ***</span>
  set(WTF_LIBRARIES
      ${CMAKE_DL_LIBS}
  )
  
  if (NOT USE_SYSTEM_MALLOC)
<span class="line-modified">!     list(APPEND WTF_LIBRARIES bmalloc)</span>
  endif ()
  
<span class="line-removed">- list(APPEND WTF_SOURCES</span>
<span class="line-removed">-     unicode/CollatorDefault.cpp</span>
<span class="line-removed">- </span>
<span class="line-removed">-     unicode/icu/CollatorICU.cpp</span>
<span class="line-removed">- )</span>
<span class="line-removed">- set(WTF_SYSTEM_INCLUDE_DIRECTORIES</span>
<span class="line-removed">-     ${ICU_INCLUDE_DIRS}</span>
<span class="line-removed">- )</span>
  list(APPEND WTF_LIBRARIES
      ${ICU_DATA_LIBRARIES}
      ${ICU_I18N_LIBRARIES}
      ${ICU_LIBRARIES}
  )
  
  WEBKIT_FRAMEWORK_DECLARE(WTF)
  WEBKIT_INCLUDE_CONFIG_FILES_IF_EXISTS()
  
<span class="line-modified">! WEBKIT_WRAP_SOURCELIST(${WTF_SOURCES})</span>
<span class="line-modified">! WEBKIT_FRAMEWORK(WTF)</span>
<span class="line-removed">- </span>
<span class="line-removed">- WEBKIT_MAKE_FORWARDING_HEADERS(WTF</span>
<span class="line-removed">-     DESTINATION ${FORWARDING_HEADERS_DIR}/wtf</span>
      FILES ${WTF_PUBLIC_HEADERS}
  )
  
  if (MSVC AND NOT PORT STREQUAL Java)
      set(CMAKE_SHARED_LINKER_FLAGS &quot;${CMAKE_SHARED_LINKER_FLAGS} /SUBSYSTEM:WINDOWS&quot;)
      set(CMAKE_EXE_LINKER_FLAGS &quot;${CMAKE_EXE_LINKER_FLAGS} /SUBSYSTEM:WINDOWS&quot;)
  
      add_custom_command(
          TARGET WTF
          PRE_BUILD
<span class="line-modified">!         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/auto-version.pl ${DERIVED_SOURCES_DIR}</span>
          VERBATIM)
  
      add_custom_command(
          TARGET WTF
          POST_BUILD
<span class="line-modified">!         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/version-stamp.pl ${DERIVED_SOURCES_DIR} $&lt;TARGET_FILE:WTF&gt;</span>
          VERBATIM)
  endif ()
  
<span class="line-removed">- file(MAKE_DIRECTORY ${FORWARDING_HEADERS_DIR}/wtf/Scripts)</span>
<span class="line-removed">- </span>
  file(COPY
      ../Scripts/generate-unified-source-bundles.rb
      DESTINATION
<span class="line-modified">!     ${FORWARDING_HEADERS_DIR}/wtf/Scripts</span>
  )
<span class="line-new-header">--- 487,54 ---</span>
  set(WTF_LIBRARIES
      ${CMAKE_DL_LIBS}
  )
  
  if (NOT USE_SYSTEM_MALLOC)
<span class="line-modified">!     list(APPEND WTF_LIBRARIES WebKit::bmalloc)</span>
  endif ()
  
  list(APPEND WTF_LIBRARIES
      ${ICU_DATA_LIBRARIES}
      ${ICU_I18N_LIBRARIES}
      ${ICU_LIBRARIES}
  )
  
<span class="line-added">+ set(WTF_INTERFACE_LIBRARIES WTF)</span>
<span class="line-added">+ set(WTF_INTERFACE_INCLUDE_DIRECTORIES ${WTF_FRAMEWORK_HEADERS_DIR})</span>
<span class="line-added">+ set(WTF_INTERFACE_DEPENDENCIES WTF_CopyHeaders)</span>
<span class="line-added">+ </span>
  WEBKIT_FRAMEWORK_DECLARE(WTF)
  WEBKIT_INCLUDE_CONFIG_FILES_IF_EXISTS()
  
<span class="line-modified">! WEBKIT_COPY_FILES(WTF_CopyHeaders</span>
<span class="line-modified">!     DESTINATION ${WTF_FRAMEWORK_HEADERS_DIR}/wtf</span>
      FILES ${WTF_PUBLIC_HEADERS}
  )
  
<span class="line-added">+ WEBKIT_WRAP_SOURCELIST(${WTF_SOURCES})</span>
<span class="line-added">+ WEBKIT_FRAMEWORK(WTF)</span>
<span class="line-added">+ WEBKIT_FRAMEWORK_TARGET(WTF)</span>
<span class="line-added">+ </span>
  if (MSVC AND NOT PORT STREQUAL Java)
      set(CMAKE_SHARED_LINKER_FLAGS &quot;${CMAKE_SHARED_LINKER_FLAGS} /SUBSYSTEM:WINDOWS&quot;)
      set(CMAKE_EXE_LINKER_FLAGS &quot;${CMAKE_EXE_LINKER_FLAGS} /SUBSYSTEM:WINDOWS&quot;)
<span class="line-added">+ endif ()</span>
  
<span class="line-added">+ if (USE_VERSION_STAMPER)</span>
      add_custom_command(
          TARGET WTF
          PRE_BUILD
<span class="line-modified">!         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/auto-version.pl ${WTF_DERIVED_SOURCES_DIR}</span>
          VERBATIM)
  
      add_custom_command(
          TARGET WTF
          POST_BUILD
<span class="line-modified">!         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/version-stamp.pl ${WTF_DERIVED_SOURCES_DIR} $&lt;TARGET_FILE:WTF&gt;</span>
          VERBATIM)
  endif ()
  
  file(COPY
      ../Scripts/generate-unified-source-bundles.rb
      DESTINATION
<span class="line-modified">!     ${WTF_SCRIPTS_DIR}</span>
  )
</pre>
<center><a href="BumpPointerAllocator.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="CPUTime.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>