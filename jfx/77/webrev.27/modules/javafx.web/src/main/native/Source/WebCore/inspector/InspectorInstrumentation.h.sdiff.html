<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorInstrumentation.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="InspectorInstrumentation.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorNodeFinder.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorInstrumentation.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  18 *
  19 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  20 * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  21 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  22 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
  23 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
  24 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  25 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
  26 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
  27 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  28 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  29 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  30 */
  31 
  32 #pragma once
  33 
  34 #include &quot;CSSSelector.h&quot;
  35 #include &quot;CallTracerTypes.h&quot;
  36 #include &quot;CanvasBase.h&quot;
  37 #include &quot;CanvasRenderingContext.h&quot;

  38 #include &quot;DocumentThreadableLoader.h&quot;
  39 #include &quot;Element.h&quot;
  40 #include &quot;EventTarget.h&quot;
  41 #include &quot;FormData.h&quot;
  42 #include &quot;Frame.h&quot;
  43 #include &quot;HitTestResult.h&quot;
  44 #include &quot;InspectorController.h&quot;
  45 #include &quot;InspectorInstrumentationCookie.h&quot;
  46 #include &quot;OffscreenCanvas.h&quot;
  47 #include &quot;Page.h&quot;
  48 #include &quot;StorageArea.h&quot;
  49 #include &quot;WorkerGlobalScope.h&quot;
  50 #include &quot;WorkerInspectorController.h&quot;
  51 #include &lt;JavaScriptCore/JSCInlines.h&gt;

  52 #include &lt;wtf/MemoryPressureHandler.h&gt;
  53 #include &lt;wtf/RefPtr.h&gt;
  54 
  55 #if ENABLE(WEBGL)
  56 #include &quot;WebGLRenderingContextBase.h&quot;
  57 #endif
  58 
  59 namespace Inspector {
  60 class ConsoleMessage;
  61 class ScriptArguments;
  62 class ScriptCallStack;
  63 }
  64 
  65 namespace WebCore {
  66 
  67 class CachedResource;
  68 class CharacterData;
  69 class DOMWindow;
  70 class DOMWrapperWorld;
<span class="line-removed">  71 class Database;</span>
  72 class Document;
  73 class DocumentLoader;
  74 class EventListener;
  75 class HTTPHeaderMap;
  76 class InspectorTimelineAgent;
  77 class InstrumentingAgents;
  78 class NetworkLoadMetrics;
  79 class Node;
  80 class PseudoElement;
  81 class RegisteredEventListener;
  82 class RenderLayer;
  83 class RenderObject;
  84 class ResourceLoader;
  85 class ResourceRequest;
  86 class ResourceResponse;
  87 class ScriptExecutionContext;
  88 class SecurityOrigin;
  89 class ShadowRoot;
  90 class TimerBase;
  91 #if ENABLE(WEBGL)
  92 class WebGLProgram;
  93 #endif
  94 class WebKitNamedFlow;
  95 class WorkerInspectorProxy;
  96 
  97 enum class StorageType;
  98 
  99 struct WebSocketFrame;
 100 
<span class="line-modified"> 101 #define FAST_RETURN_IF_NO_FRONTENDS(value) if (LIKELY(!hasFrontends())) return value;</span>
 102 
 103 class InspectorInstrumentation {
 104 public:
 105     static void didClearWindowObjectInWorld(Frame&amp;, DOMWrapperWorld&amp;);
 106     static bool isDebuggerPaused(Frame*);
 107 
 108     static int identifierForNode(Node&amp;);
 109     static void addEventListenersToNode(Node&amp;);
 110     static void willInsertDOMNode(Document&amp;, Node&amp; parent);
 111     static void didInsertDOMNode(Document&amp;, Node&amp;);
 112     static void willRemoveDOMNode(Document&amp;, Node&amp;);
 113     static void didRemoveDOMNode(Document&amp;, Node&amp;);
<span class="line-modified"> 114     static void willModifyDOMAttr(Document&amp;, Element&amp;, const AtomicString&amp; oldValue, const AtomicString&amp; newValue);</span>
<span class="line-modified"> 115     static void didModifyDOMAttr(Document&amp;, Element&amp;, const AtomicString&amp; name, const AtomicString&amp; value);</span>
<span class="line-modified"> 116     static void didRemoveDOMAttr(Document&amp;, Element&amp;, const AtomicString&amp; name);</span>
 117     static void characterDataModified(Document&amp;, CharacterData&amp;);
<span class="line-modified"> 118     static void didInvalidateStyleAttr(Document&amp;, Node&amp;);</span>

 119     static void documentDetached(Document&amp;);
 120     static void frameWindowDiscarded(Frame&amp;, DOMWindow*);
 121     static void mediaQueryResultChanged(Document&amp;);
 122     static void activeStyleSheetsUpdated(Document&amp;);
 123     static void didPushShadowRoot(Element&amp; host, ShadowRoot&amp;);
 124     static void willPopShadowRoot(Element&amp; host, ShadowRoot&amp;);
 125     static void didChangeCustomElementState(Element&amp;);
 126     static void pseudoElementCreated(Page*, PseudoElement&amp;);
 127     static void pseudoElementDestroyed(Page*, PseudoElement&amp;);
 128     static void didCreateNamedFlow(Document*, WebKitNamedFlow&amp;);
 129     static void willRemoveNamedFlow(Document*, WebKitNamedFlow&amp;);
 130     static void didChangeRegionOverset(Document&amp;, WebKitNamedFlow&amp;);
 131     static void didRegisterNamedFlowContentElement(Document&amp;, WebKitNamedFlow&amp;, Node&amp; contentElement, Node* nextContentElement = nullptr);
 132     static void didUnregisterNamedFlowContentElement(Document&amp;, WebKitNamedFlow&amp;, Node&amp; contentElement);
 133 
 134     static void mouseDidMoveOverElement(Page&amp;, const HitTestResult&amp;, unsigned modifierFlags);
 135     static bool handleMousePress(Frame&amp;);
 136     static bool handleTouchEvent(Frame&amp;, Node&amp;);
 137     static bool forcePseudoState(const Element&amp;, CSSSelector::PseudoClassType);
 138 
 139     static void willSendXMLHttpRequest(ScriptExecutionContext*, const String&amp; url);
 140     static void willFetch(ScriptExecutionContext&amp;, const String&amp; url);
 141     static void didInstallTimer(ScriptExecutionContext&amp;, int timerId, Seconds timeout, bool singleShot);
 142     static void didRemoveTimer(ScriptExecutionContext&amp;, int timerId);
 143 
 144     static void didPostMessage(Frame&amp;, TimerBase&amp;, JSC::ExecState&amp;);
 145     static void didFailPostMessage(Frame&amp;, TimerBase&amp;);
 146     static void willDispatchPostMessage(Frame&amp;, TimerBase&amp;);
 147     static void didDispatchPostMessage(Frame&amp;, TimerBase&amp;);
 148 
 149     static InspectorInstrumentationCookie willCallFunction(ScriptExecutionContext*, const String&amp; scriptName, int scriptLine, int scriptColumn);
 150     static void didCallFunction(const InspectorInstrumentationCookie&amp;, ScriptExecutionContext*);
<span class="line-modified"> 151     static void didAddEventListener(EventTarget&amp;, const AtomicString&amp; eventType, EventListener&amp;, bool capture);</span>
<span class="line-modified"> 152     static void willRemoveEventListener(EventTarget&amp;, const AtomicString&amp; eventType, EventListener&amp;, bool capture);</span>
<span class="line-modified"> 153     static bool isEventListenerDisabled(EventTarget&amp;, const AtomicString&amp; eventType, EventListener&amp;, bool capture);</span>
 154     static InspectorInstrumentationCookie willDispatchEvent(Document&amp;, const Event&amp;, bool hasEventListeners);
<span class="line-modified"> 155     static void didDispatchEvent(const InspectorInstrumentationCookie&amp;);</span>
<span class="line-modified"> 156     static void willHandleEvent(ScriptExecutionContext&amp;, const Event&amp;, const RegisteredEventListener&amp;);</span>
 157     static void didHandleEvent(ScriptExecutionContext&amp;);
 158     static InspectorInstrumentationCookie willDispatchEventOnWindow(Frame*, const Event&amp;, DOMWindow&amp;);
<span class="line-modified"> 159     static void didDispatchEventOnWindow(const InspectorInstrumentationCookie&amp;);</span>
 160     static void eventDidResetAfterDispatch(const Event&amp;);
 161     static InspectorInstrumentationCookie willEvaluateScript(Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);
 162     static void didEvaluateScript(const InspectorInstrumentationCookie&amp;, Frame&amp;);
 163     static InspectorInstrumentationCookie willFireTimer(ScriptExecutionContext&amp;, int timerId, bool oneShot);
 164     static void didFireTimer(const InspectorInstrumentationCookie&amp;);
 165     static void didInvalidateLayout(Frame&amp;);
 166     static InspectorInstrumentationCookie willLayout(Frame&amp;);
 167     static void didLayout(const InspectorInstrumentationCookie&amp;, RenderObject&amp;);
 168     static void didScroll(Page&amp;);
 169     static void willComposite(Frame&amp;);
 170     static void didComposite(Frame&amp;);
 171     static void willPaint(RenderObject&amp;);
 172     static void didPaint(RenderObject&amp;, const LayoutRect&amp;);
 173     static InspectorInstrumentationCookie willRecalculateStyle(Document&amp;);
 174     static void didRecalculateStyle(const InspectorInstrumentationCookie&amp;);
 175     static void didScheduleStyleRecalculation(Document&amp;);
 176     static void applyUserAgentOverride(Frame&amp;, String&amp;);
 177     static void applyEmulatedMedia(Frame&amp;, String&amp;);
 178 
 179     static void willSendRequest(Frame*, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
</pre>
<hr />
<pre>
 203     static void didLoadXHRSynchronously(ScriptExecutionContext*);
 204     static void scriptImported(ScriptExecutionContext&amp;, unsigned long identifier, const String&amp; sourceString);
 205     static void scriptExecutionBlockedByCSP(ScriptExecutionContext*, const String&amp; directiveText);
 206     static void didReceiveScriptResponse(ScriptExecutionContext*, unsigned long identifier);
 207     static void domContentLoadedEventFired(Frame&amp;);
 208     static void loadEventFired(Frame*);
 209     static void frameDetachedFromParent(Frame&amp;);
 210     static void didCommitLoad(Frame&amp;, DocumentLoader*);
 211     static void frameDocumentUpdated(Frame&amp;);
 212     static void loaderDetachedFromFrame(Frame&amp;, DocumentLoader&amp;);
 213     static void frameStartedLoading(Frame&amp;);
 214     static void frameStoppedLoading(Frame&amp;);
 215     static void frameScheduledNavigation(Frame&amp;, Seconds delay);
 216     static void frameClearedScheduledNavigation(Frame&amp;);
 217     static void defaultAppearanceDidChange(Page&amp;, bool useDarkAppearance);
 218     static void willDestroyCachedResource(CachedResource&amp;);
 219 
 220     static void addMessageToConsole(Page&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
 221     static void addMessageToConsole(WorkerGlobalScope&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
 222 
<span class="line-modified"> 223     static void consoleCount(Page&amp;, JSC::ExecState*, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified"> 224     static void consoleCount(WorkerGlobalScope&amp;, JSC::ExecState*, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>



 225     static void takeHeapSnapshot(Frame&amp;, const String&amp; title);
<span class="line-modified"> 226     static void startConsoleTiming(Frame&amp;, const String&amp; title);</span>
<span class="line-modified"> 227     static void startConsoleTiming(WorkerGlobalScope&amp;, const String&amp; title);</span>
<span class="line-modified"> 228     static void stopConsoleTiming(Frame&amp;, const String&amp; title, Ref&lt;Inspector::ScriptCallStack&gt;&amp;&amp;);</span>
<span class="line-modified"> 229     static void stopConsoleTiming(WorkerGlobalScope&amp;, const String&amp; title, Ref&lt;Inspector::ScriptCallStack&gt;&amp;&amp;);</span>


 230     static void consoleTimeStamp(Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
 231     static void startProfiling(Page&amp;, JSC::ExecState*, const String&amp; title);
 232     static void stopProfiling(Page&amp;, JSC::ExecState*, const String&amp; title);
 233     static void consoleStartRecordingCanvas(CanvasRenderingContext&amp;, JSC::ExecState&amp;, JSC::JSObject* options);
 234 
 235     static void didRequestAnimationFrame(Document&amp;, int callbackId);
 236     static void didCancelAnimationFrame(Document&amp;, int callbackId);
 237     static InspectorInstrumentationCookie willFireAnimationFrame(Document&amp;, int callbackId);
 238     static void didFireAnimationFrame(const InspectorInstrumentationCookie&amp;);
 239 
 240     static InspectorInstrumentationCookie willFireObserverCallback(ScriptExecutionContext&amp;, const String&amp; callbackType);
 241     static void didFireObserverCallback(const InspectorInstrumentationCookie&amp;);
 242 
<span class="line-modified"> 243     static void didOpenDatabase(ScriptExecutionContext*, RefPtr&lt;Database&gt;&amp;&amp;, const String&amp; domain, const String&amp; name, const String&amp; version);</span>
 244 
 245     static void didDispatchDOMStorageEvent(Page&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
 246 
 247     static bool shouldWaitForDebuggerOnStart(ScriptExecutionContext&amp;);
 248     static void workerStarted(ScriptExecutionContext&amp;, WorkerInspectorProxy*, const URL&amp;);
 249     static void workerTerminated(ScriptExecutionContext&amp;, WorkerInspectorProxy*);
 250 
 251     static void didCreateWebSocket(Document*, unsigned long identifier, const URL&amp; requestURL);
 252     static void willSendWebSocketHandshakeRequest(Document*, unsigned long identifier, const ResourceRequest&amp;);
 253     static void didReceiveWebSocketHandshakeResponse(Document*, unsigned long identifier, const ResourceResponse&amp;);
 254     static void didCloseWebSocket(Document*, unsigned long identifier);
 255     static void didReceiveWebSocketFrame(Document*, unsigned long identifier, const WebSocketFrame&amp;);
 256     static void didSendWebSocketFrame(Document*, unsigned long identifier, const WebSocketFrame&amp;);
 257     static void didReceiveWebSocketFrameError(Document*, unsigned long identifier, const String&amp; errorMessage);
 258 
 259 #if ENABLE(RESOURCE_USAGE)
 260     static void didHandleMemoryPressure(Page&amp;, Critical);
 261 #endif
 262 
 263     static void didChangeCSSCanvasClientNodes(CanvasBase&amp;);
 264     static void didCreateCanvasRenderingContext(CanvasRenderingContext&amp;);
 265     static void didChangeCanvasMemory(CanvasRenderingContext&amp;);
<span class="line-modified"> 266     static void recordCanvasAction(CanvasRenderingContext&amp;, const String&amp;, Vector&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });</span>
 267     static void didFinishRecordingCanvasFrame(CanvasRenderingContext&amp;, bool forceDispatch = false);
 268 #if ENABLE(WEBGL)
 269     static void didEnableExtension(WebGLRenderingContextBase&amp;, const String&amp;);
 270     static void didCreateProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 271     static void willDeleteProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 272     static bool isShaderProgramDisabled(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 273     static bool isShaderProgramHighlighted(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 274 #endif
 275 
 276     static void networkStateChanged(Page&amp;);
 277     static void updateApplicationCacheStatus(Frame*);
 278 
 279     static void layerTreeDidChange(Page*);
 280     static void renderLayerDestroyed(Page*, const RenderLayer&amp;);
 281 
 282     static void frontendCreated();
 283     static void frontendDeleted();
 284     static bool hasFrontends() { return s_frontendCounter; }
 285 
 286     static void firstFrontendCreated();
 287     static void lastFrontendDeleted();
 288 
 289     static bool consoleAgentEnabled(ScriptExecutionContext*);
<span class="line-modified"> 290     static bool timelineAgentEnabled(ScriptExecutionContext*);</span>
 291 
 292     static InstrumentingAgents* instrumentingAgentsForPage(Page*);
 293 
 294     static void registerInstrumentingAgents(InstrumentingAgents&amp;);
 295     static void unregisterInstrumentingAgents(InstrumentingAgents&amp;);
 296 
 297 private:
 298     static void didClearWindowObjectInWorldImpl(InstrumentingAgents&amp;, Frame&amp;, DOMWrapperWorld&amp;);
 299     static bool isDebuggerPausedImpl(InstrumentingAgents&amp;);
 300 
 301     static int identifierForNodeImpl(InstrumentingAgents&amp;, Node&amp;);
 302     static void addEventListenersToNodeImpl(InstrumentingAgents&amp;, Node&amp;);
 303     static void willInsertDOMNodeImpl(InstrumentingAgents&amp;, Node&amp; parent);
 304     static void didInsertDOMNodeImpl(InstrumentingAgents&amp;, Node&amp;);
 305     static void willRemoveDOMNodeImpl(InstrumentingAgents&amp;, Node&amp;);
 306     static void didRemoveDOMNodeImpl(InstrumentingAgents&amp;, Node&amp;);
<span class="line-modified"> 307     static void willModifyDOMAttrImpl(InstrumentingAgents&amp;, Element&amp;, const AtomicString&amp; oldValue, const AtomicString&amp; newValue);</span>
<span class="line-modified"> 308     static void didModifyDOMAttrImpl(InstrumentingAgents&amp;, Element&amp;, const AtomicString&amp; name, const AtomicString&amp; value);</span>
<span class="line-modified"> 309     static void didRemoveDOMAttrImpl(InstrumentingAgents&amp;, Element&amp;, const AtomicString&amp; name);</span>
 310     static void characterDataModifiedImpl(InstrumentingAgents&amp;, CharacterData&amp;);
<span class="line-modified"> 311     static void didInvalidateStyleAttrImpl(InstrumentingAgents&amp;, Node&amp;);</span>

 312     static void documentDetachedImpl(InstrumentingAgents&amp;, Document&amp;);
 313     static void frameWindowDiscardedImpl(InstrumentingAgents&amp;, DOMWindow*);
 314     static void mediaQueryResultChangedImpl(InstrumentingAgents&amp;);
 315     static void activeStyleSheetsUpdatedImpl(InstrumentingAgents&amp;, Document&amp;);
 316     static void didPushShadowRootImpl(InstrumentingAgents&amp;, Element&amp; host, ShadowRoot&amp;);
 317     static void willPopShadowRootImpl(InstrumentingAgents&amp;, Element&amp; host, ShadowRoot&amp;);
 318     static void didChangeCustomElementStateImpl(InstrumentingAgents&amp;, Element&amp;);
 319     static void pseudoElementCreatedImpl(InstrumentingAgents&amp;, PseudoElement&amp;);
 320     static void pseudoElementDestroyedImpl(InstrumentingAgents&amp;, PseudoElement&amp;);
 321     static void didCreateNamedFlowImpl(InstrumentingAgents&amp;, Document*, WebKitNamedFlow&amp;);
 322     static void willRemoveNamedFlowImpl(InstrumentingAgents&amp;, Document*, WebKitNamedFlow&amp;);
 323     static void didChangeRegionOversetImpl(InstrumentingAgents&amp;, Document&amp;, WebKitNamedFlow&amp;);
 324     static void didRegisterNamedFlowContentElementImpl(InstrumentingAgents&amp;, Document&amp;, WebKitNamedFlow&amp;, Node&amp; contentElement, Node* nextContentElement = nullptr);
 325     static void didUnregisterNamedFlowContentElementImpl(InstrumentingAgents&amp;, Document&amp;, WebKitNamedFlow&amp;, Node&amp; contentElement);
 326 
 327     static void mouseDidMoveOverElementImpl(InstrumentingAgents&amp;, const HitTestResult&amp;, unsigned modifierFlags);
 328     static bool handleMousePressImpl(InstrumentingAgents&amp;);
 329     static bool handleTouchEventImpl(InstrumentingAgents&amp;, Node&amp;);
 330     static bool forcePseudoStateImpl(InstrumentingAgents&amp;, const Element&amp;, CSSSelector::PseudoClassType);
 331 
 332     static void willSendXMLHttpRequestImpl(InstrumentingAgents&amp;, const String&amp; url);
 333     static void willFetchImpl(InstrumentingAgents&amp;, const String&amp; url);
 334     static void didInstallTimerImpl(InstrumentingAgents&amp;, int timerId, Seconds timeout, bool singleShot, ScriptExecutionContext&amp;);
 335     static void didRemoveTimerImpl(InstrumentingAgents&amp;, int timerId, ScriptExecutionContext&amp;);
 336 
 337     static void didPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;, JSC::ExecState&amp;);
 338     static void didFailPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
 339     static void willDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
 340     static void didDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
 341 
 342     static InspectorInstrumentationCookie willCallFunctionImpl(InstrumentingAgents&amp;, const String&amp; scriptName, int scriptLine, int scriptColumn, ScriptExecutionContext*);
 343     static void didCallFunctionImpl(const InspectorInstrumentationCookie&amp;, ScriptExecutionContext*);
<span class="line-modified"> 344     static void didAddEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomicString&amp; eventType, EventListener&amp;, bool capture);</span>
<span class="line-modified"> 345     static void willRemoveEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomicString&amp; eventType, EventListener&amp;, bool capture);</span>
<span class="line-modified"> 346     static bool isEventListenerDisabledImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomicString&amp; eventType, EventListener&amp;, bool capture);</span>
 347     static InspectorInstrumentationCookie willDispatchEventImpl(InstrumentingAgents&amp;, Document&amp;, const Event&amp;, bool hasEventListeners);
<span class="line-modified"> 348     static void willHandleEventImpl(InstrumentingAgents&amp;, const Event&amp;, const RegisteredEventListener&amp;);</span>
 349     static void didHandleEventImpl(InstrumentingAgents&amp;);
<span class="line-modified"> 350     static void didDispatchEventImpl(const InspectorInstrumentationCookie&amp;);</span>
 351     static InspectorInstrumentationCookie willDispatchEventOnWindowImpl(InstrumentingAgents&amp;, const Event&amp;, DOMWindow&amp;);
<span class="line-modified"> 352     static void didDispatchEventOnWindowImpl(const InspectorInstrumentationCookie&amp;);</span>
 353     static void eventDidResetAfterDispatchImpl(InstrumentingAgents&amp;, const Event&amp;);
 354     static InspectorInstrumentationCookie willEvaluateScriptImpl(InstrumentingAgents&amp;, Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);
 355     static void didEvaluateScriptImpl(const InspectorInstrumentationCookie&amp;, Frame&amp;);
 356     static InspectorInstrumentationCookie willFireTimerImpl(InstrumentingAgents&amp;, int timerId, bool oneShot, ScriptExecutionContext&amp;);
 357     static void didFireTimerImpl(const InspectorInstrumentationCookie&amp;);
 358     static void didInvalidateLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);
 359     static InspectorInstrumentationCookie willLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);
 360     static void didLayoutImpl(const InspectorInstrumentationCookie&amp;, RenderObject&amp;);
 361     static void didScrollImpl(InstrumentingAgents&amp;);
 362     static void willCompositeImpl(InstrumentingAgents&amp;, Frame&amp;);
 363     static void didCompositeImpl(InstrumentingAgents&amp;);
 364     static void willPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;);
 365     static void didPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;, const LayoutRect&amp;);
 366     static InspectorInstrumentationCookie willRecalculateStyleImpl(InstrumentingAgents&amp;, Document&amp;);
 367     static void didRecalculateStyleImpl(const InspectorInstrumentationCookie&amp;);
 368     static void didScheduleStyleRecalculationImpl(InstrumentingAgents&amp;, Document&amp;);
 369     static void applyUserAgentOverrideImpl(InstrumentingAgents&amp;, String&amp;);
 370     static void applyEmulatedMediaImpl(InstrumentingAgents&amp;, String&amp;);
 371 
 372     static void willSendRequestImpl(InstrumentingAgents&amp;, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
</pre>
<hr />
<pre>
 381     static void willLoadXHRSynchronouslyImpl(InstrumentingAgents&amp;);
 382     static void didLoadXHRSynchronouslyImpl(InstrumentingAgents&amp;);
 383     static void scriptImportedImpl(InstrumentingAgents&amp;, unsigned long identifier, const String&amp; sourceString);
 384     static void scriptExecutionBlockedByCSPImpl(InstrumentingAgents&amp;, const String&amp; directiveText);
 385     static void didReceiveScriptResponseImpl(InstrumentingAgents&amp;, unsigned long identifier);
 386     static void domContentLoadedEventFiredImpl(InstrumentingAgents&amp;, Frame&amp;);
 387     static void loadEventFiredImpl(InstrumentingAgents&amp;, Frame*);
 388     static void frameDetachedFromParentImpl(InstrumentingAgents&amp;, Frame&amp;);
 389     static void didCommitLoadImpl(InstrumentingAgents&amp;, Frame&amp;, DocumentLoader*);
 390     static void frameDocumentUpdatedImpl(InstrumentingAgents&amp;, Frame&amp;);
 391     static void loaderDetachedFromFrameImpl(InstrumentingAgents&amp;, DocumentLoader&amp;);
 392     static void frameStartedLoadingImpl(InstrumentingAgents&amp;, Frame&amp;);
 393     static void frameStoppedLoadingImpl(InstrumentingAgents&amp;, Frame&amp;);
 394     static void frameScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;, Seconds delay);
 395     static void frameClearedScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;);
 396     static void defaultAppearanceDidChangeImpl(InstrumentingAgents&amp;, bool useDarkAppearance);
 397     static void willDestroyCachedResourceImpl(CachedResource&amp;);
 398 
 399     static void addMessageToConsoleImpl(InstrumentingAgents&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
 400 
<span class="line-modified"> 401     static void consoleCountImpl(InstrumentingAgents&amp;, JSC::ExecState*, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>

 402     static void takeHeapSnapshotImpl(InstrumentingAgents&amp;, const String&amp; title);
<span class="line-modified"> 403     static void startConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, const String&amp; title);</span>
<span class="line-modified"> 404     static void startConsoleTimingImpl(InstrumentingAgents&amp;, const String&amp; title);</span>
<span class="line-modified"> 405     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, const String&amp; title, Ref&lt;Inspector::ScriptCallStack&gt;&amp;&amp;);</span>
<span class="line-modified"> 406     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, const String&amp; title, Ref&lt;Inspector::ScriptCallStack&gt;&amp;&amp;);</span>

 407     static void consoleTimeStampImpl(InstrumentingAgents&amp;, Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
 408     static void startProfilingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; title);
 409     static void stopProfilingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; title);
 410     static void consoleStartRecordingCanvasImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, JSC::ExecState&amp;, JSC::JSObject* options);
 411 
 412     static void didRequestAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
 413     static void didCancelAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
 414     static InspectorInstrumentationCookie willFireAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
 415     static void didFireAnimationFrameImpl(const InspectorInstrumentationCookie&amp;);
 416 
 417     static InspectorInstrumentationCookie willFireObserverCallbackImpl(InstrumentingAgents&amp;, const String&amp;, ScriptExecutionContext&amp;);
 418     static void didFireObserverCallbackImpl(const InspectorInstrumentationCookie&amp;);
 419 
<span class="line-modified"> 420     static void didOpenDatabaseImpl(InstrumentingAgents&amp;, RefPtr&lt;Database&gt;&amp;&amp;, const String&amp; domain, const String&amp; name, const String&amp; version);</span>
 421 
 422     static void didDispatchDOMStorageEventImpl(InstrumentingAgents&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
 423 
 424     static bool shouldWaitForDebuggerOnStartImpl(InstrumentingAgents&amp;);
 425     static void workerStartedImpl(InstrumentingAgents&amp;, WorkerInspectorProxy*, const URL&amp;);
 426     static void workerTerminatedImpl(InstrumentingAgents&amp;, WorkerInspectorProxy*);
 427 
 428     static void didCreateWebSocketImpl(InstrumentingAgents&amp;, unsigned long identifier, const URL&amp; requestURL);
 429     static void willSendWebSocketHandshakeRequestImpl(InstrumentingAgents&amp;, unsigned long identifier, const ResourceRequest&amp;);
 430     static void didReceiveWebSocketHandshakeResponseImpl(InstrumentingAgents&amp;, unsigned long identifier, const ResourceResponse&amp;);
 431     static void didCloseWebSocketImpl(InstrumentingAgents&amp;, unsigned long identifier);
 432     static void didReceiveWebSocketFrameImpl(InstrumentingAgents&amp;, unsigned long identifier, const WebSocketFrame&amp;);
 433     static void didSendWebSocketFrameImpl(InstrumentingAgents&amp;, unsigned long identifier, const WebSocketFrame&amp;);
 434     static void didReceiveWebSocketFrameErrorImpl(InstrumentingAgents&amp;, unsigned long identifier, const String&amp;);
 435 
 436 #if ENABLE(RESOURCE_USAGE)
 437     static void didHandleMemoryPressureImpl(InstrumentingAgents&amp;, Critical);
 438 #endif
 439 
 440     static void networkStateChangedImpl(InstrumentingAgents&amp;);
 441     static void updateApplicationCacheStatusImpl(InstrumentingAgents&amp;, Frame&amp;);
 442 
 443     static void didChangeCSSCanvasClientNodesImpl(InstrumentingAgents&amp;, CanvasBase&amp;);
 444     static void didCreateCanvasRenderingContextImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);
 445     static void didChangeCanvasMemoryImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);
<span class="line-modified"> 446     static void recordCanvasActionImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, const String&amp;, Vector&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });</span>
 447     static void didFinishRecordingCanvasFrameImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, bool forceDispatch = false);
 448 #if ENABLE(WEBGL)
 449     static void didEnableExtensionImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, const String&amp;);
 450     static void didCreateProgramImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 451     static void willDeleteProgramImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);
 452     static bool isShaderProgramDisabledImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);
 453     static bool isShaderProgramHighlightedImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);
 454 #endif
 455 
 456     static void layerTreeDidChangeImpl(InstrumentingAgents&amp;);
 457     static void renderLayerDestroyedImpl(InstrumentingAgents&amp;, const RenderLayer&amp;);
 458 
 459     static InstrumentingAgents&amp; instrumentingAgentsForPage(Page&amp;);
 460     static InstrumentingAgents&amp; instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope&amp;);
 461 
 462     static InstrumentingAgents* instrumentingAgentsForFrame(Frame&amp;);
 463     static InstrumentingAgents* instrumentingAgentsForFrame(Frame*);
 464     static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext*);
 465     static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext&amp;);
 466     static InstrumentingAgents* instrumentingAgentsForDocument(Document&amp;);
 467     static InstrumentingAgents* instrumentingAgentsForDocument(Document*);
 468     static InstrumentingAgents* instrumentingAgentsForRenderer(RenderObject&amp;);
 469     static InstrumentingAgents* instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope*);
 470 
 471     static InspectorTimelineAgent* retrieveTimelineAgent(const InspectorInstrumentationCookie&amp;);
 472 
 473     WEBCORE_EXPORT static int s_frontendCounter;
 474 };
 475 
 476 inline void InspectorInstrumentation::didClearWindowObjectInWorld(Frame&amp; frame, DOMWrapperWorld&amp; world)
 477 {

 478     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 479         didClearWindowObjectInWorldImpl(*instrumentingAgents, frame, world);
 480 }
 481 
 482 inline bool InspectorInstrumentation::isDebuggerPaused(Frame* frame)
 483 {
 484     FAST_RETURN_IF_NO_FRONTENDS(false);
 485     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 486         return isDebuggerPausedImpl(*instrumentingAgents);
 487     return false;
 488 }
 489 
 490 inline int InspectorInstrumentation::identifierForNode(Node&amp; node)
 491 {
 492     FAST_RETURN_IF_NO_FRONTENDS(0);
 493     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(node.document()))
 494         return identifierForNodeImpl(*instrumentingAgents, node);
 495     return 0;
 496 }
 497 
</pre>
<hr />
<pre>
 513 {
 514     FAST_RETURN_IF_NO_FRONTENDS(void());
 515     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 516         didInsertDOMNodeImpl(*instrumentingAgents, node);
 517 }
 518 
 519 inline void InspectorInstrumentation::willRemoveDOMNode(Document&amp; document, Node&amp; node)
 520 {
 521     FAST_RETURN_IF_NO_FRONTENDS(void());
 522     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 523         willRemoveDOMNodeImpl(*instrumentingAgents, node);
 524 }
 525 
 526 inline void InspectorInstrumentation::didRemoveDOMNode(Document&amp; document, Node&amp; node)
 527 {
 528     FAST_RETURN_IF_NO_FRONTENDS(void());
 529     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 530         didRemoveDOMNodeImpl(*instrumentingAgents, node);
 531 }
 532 
<span class="line-modified"> 533 inline void InspectorInstrumentation::willModifyDOMAttr(Document&amp; document, Element&amp; element, const AtomicString&amp; oldValue, const AtomicString&amp; newValue)</span>
 534 {
 535     FAST_RETURN_IF_NO_FRONTENDS(void());
 536     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 537         willModifyDOMAttrImpl(*instrumentingAgents, element, oldValue, newValue);
 538 }
 539 
<span class="line-modified"> 540 inline void InspectorInstrumentation::didModifyDOMAttr(Document&amp; document, Element&amp; element, const AtomicString&amp; name, const AtomicString&amp; value)</span>
 541 {
 542     FAST_RETURN_IF_NO_FRONTENDS(void());
 543     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 544         didModifyDOMAttrImpl(*instrumentingAgents, element, name, value);
 545 }
 546 
<span class="line-modified"> 547 inline void InspectorInstrumentation::didRemoveDOMAttr(Document&amp; document, Element&amp; element, const AtomicString&amp; name)</span>
 548 {
 549     FAST_RETURN_IF_NO_FRONTENDS(void());
 550     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 551         didRemoveDOMAttrImpl(*instrumentingAgents, element, name);
 552 }
 553 
<span class="line-modified"> 554 inline void InspectorInstrumentation::didInvalidateStyleAttr(Document&amp; document, Node&amp; node)</span>
 555 {
 556     FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified"> 557     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified"> 558         didInvalidateStyleAttrImpl(*instrumentingAgents, node);</span>







 559 }
 560 
 561 inline void InspectorInstrumentation::documentDetached(Document&amp; document)
 562 {
 563     FAST_RETURN_IF_NO_FRONTENDS(void());
 564     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 565         documentDetachedImpl(*instrumentingAgents, document);
 566 }
 567 
 568 inline void InspectorInstrumentation::frameWindowDiscarded(Frame&amp; frame, DOMWindow* domWindow)
 569 {
 570     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 571         frameWindowDiscardedImpl(*instrumentingAgents, domWindow);
 572 }
 573 
 574 inline void InspectorInstrumentation::mediaQueryResultChanged(Document&amp; document)
 575 {
 576     FAST_RETURN_IF_NO_FRONTENDS(void());
 577     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 578         mediaQueryResultChangedImpl(*instrumentingAgents);
</pre>
<hr />
<pre>
 703 {
 704     FAST_RETURN_IF_NO_FRONTENDS(void());
 705     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 706         willFetchImpl(*instrumentingAgents, url);
 707 }
 708 
 709 inline void InspectorInstrumentation::didInstallTimer(ScriptExecutionContext&amp; context, int timerId, Seconds timeout, bool singleShot)
 710 {
 711     FAST_RETURN_IF_NO_FRONTENDS(void());
 712     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 713         didInstallTimerImpl(*instrumentingAgents, timerId, timeout, singleShot, context);
 714 }
 715 
 716 inline void InspectorInstrumentation::didRemoveTimer(ScriptExecutionContext&amp; context, int timerId)
 717 {
 718     FAST_RETURN_IF_NO_FRONTENDS(void());
 719     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 720         didRemoveTimerImpl(*instrumentingAgents, timerId, context);
 721 }
 722 
<span class="line-modified"> 723 inline void InspectorInstrumentation::didAddEventListener(EventTarget&amp; target, const AtomicString&amp; eventType, EventListener&amp; listener, bool capture)</span>
 724 {
 725     FAST_RETURN_IF_NO_FRONTENDS(void());
 726     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
 727         didAddEventListenerImpl(*instrumentingAgents, target, eventType, listener, capture);
 728 }
 729 
<span class="line-modified"> 730 inline void InspectorInstrumentation::willRemoveEventListener(EventTarget&amp; target, const AtomicString&amp; eventType, EventListener&amp; listener, bool capture)</span>
 731 {
 732     FAST_RETURN_IF_NO_FRONTENDS(void());
 733     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
 734         willRemoveEventListenerImpl(*instrumentingAgents, target, eventType, listener, capture);
 735 }
 736 
<span class="line-modified"> 737 inline bool InspectorInstrumentation::isEventListenerDisabled(EventTarget&amp; target, const AtomicString&amp; eventType, EventListener&amp; listener, bool capture)</span>
 738 {
 739     FAST_RETURN_IF_NO_FRONTENDS(false);
 740     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
 741         return isEventListenerDisabledImpl(*instrumentingAgents, target, eventType, listener, capture);
 742     return false;
 743 }
 744 
 745 inline void InspectorInstrumentation::didPostMessage(Frame&amp; frame, TimerBase&amp; timer, JSC::ExecState&amp; state)
 746 {
 747     FAST_RETURN_IF_NO_FRONTENDS(void());
 748     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 749         didPostMessageImpl(*instrumentingAgents, timer, state);
 750 }
 751 
 752 inline void InspectorInstrumentation::didFailPostMessage(Frame&amp; frame, TimerBase&amp; timer)
 753 {
 754     FAST_RETURN_IF_NO_FRONTENDS(void());
 755     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 756         didFailPostMessageImpl(*instrumentingAgents, timer);
 757 }
</pre>
<hr />
<pre>
 776     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 777         return willCallFunctionImpl(*instrumentingAgents, scriptName, scriptLine, scriptColumn, context);
 778     return InspectorInstrumentationCookie();
 779 }
 780 
 781 inline void InspectorInstrumentation::didCallFunction(const InspectorInstrumentationCookie&amp; cookie, ScriptExecutionContext* context)
 782 {
 783     FAST_RETURN_IF_NO_FRONTENDS(void());
 784     if (cookie.isValid())
 785         didCallFunctionImpl(cookie, context);
 786 }
 787 
 788 inline InspectorInstrumentationCookie InspectorInstrumentation::willDispatchEvent(Document&amp; document, const Event&amp; event, bool hasEventListeners)
 789 {
 790     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());
 791     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 792         return willDispatchEventImpl(*instrumentingAgents, document, event, hasEventListeners);
 793     return InspectorInstrumentationCookie();
 794 }
 795 
<span class="line-modified"> 796 inline void InspectorInstrumentation::didDispatchEvent(const InspectorInstrumentationCookie&amp; cookie)</span>
 797 {
 798     FAST_RETURN_IF_NO_FRONTENDS(void());
 799     if (cookie.isValid())
<span class="line-modified"> 800         didDispatchEventImpl(cookie);</span>
 801 }
 802 
<span class="line-modified"> 803 inline void InspectorInstrumentation::willHandleEvent(ScriptExecutionContext&amp; context, const Event&amp; event, const RegisteredEventListener&amp; listener)</span>
 804 {
 805     FAST_RETURN_IF_NO_FRONTENDS(void());
 806     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 807         return willHandleEventImpl(*instrumentingAgents, event, listener);
 808 }
 809 
 810 inline void InspectorInstrumentation::didHandleEvent(ScriptExecutionContext&amp; context)
 811 {
 812     FAST_RETURN_IF_NO_FRONTENDS(void());
 813     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 814         return didHandleEventImpl(*instrumentingAgents);
 815 }
 816 
 817 inline InspectorInstrumentationCookie InspectorInstrumentation::willDispatchEventOnWindow(Frame* frame, const Event&amp; event, DOMWindow&amp; window)
 818 {
 819     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());
 820     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 821         return willDispatchEventOnWindowImpl(*instrumentingAgents, event, window);
 822     return InspectorInstrumentationCookie();
 823 }
 824 
<span class="line-modified"> 825 inline void InspectorInstrumentation::didDispatchEventOnWindow(const InspectorInstrumentationCookie&amp; cookie)</span>
 826 {
 827     FAST_RETURN_IF_NO_FRONTENDS(void());
 828     if (cookie.isValid())
<span class="line-modified"> 829         didDispatchEventOnWindowImpl(cookie);</span>
 830 }
 831 
 832 inline void InspectorInstrumentation::eventDidResetAfterDispatch(const Event&amp; event)
 833 {
 834     FAST_RETURN_IF_NO_FRONTENDS(void());
 835 
 836     if (!is&lt;Node&gt;(event.target()))
 837         return;
 838 
 839     auto* node = downcast&lt;Node&gt;(event.target());
 840     if (auto* instrumentingAgents = instrumentingAgentsForContext(node-&gt;scriptExecutionContext()))
 841         return eventDidResetAfterDispatchImpl(*instrumentingAgents, event);
 842 }
 843 
 844 inline InspectorInstrumentationCookie InspectorInstrumentation::willEvaluateScript(Frame&amp; frame, const String&amp; url, int lineNumber, int columnNumber)
 845 {
 846     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());
 847     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 848         return willEvaluateScriptImpl(*instrumentingAgents, frame, url, lineNumber, columnNumber);
 849     return InspectorInstrumentationCookie();
</pre>
<hr />
<pre>
1071     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1072         willLoadXHRSynchronouslyImpl(*instrumentingAgents);
1073 }
1074 
1075 inline void InspectorInstrumentation::didLoadXHRSynchronously(ScriptExecutionContext* context)
1076 {
1077     FAST_RETURN_IF_NO_FRONTENDS(void());
1078     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1079         didLoadXHRSynchronouslyImpl(*instrumentingAgents);
1080 }
1081 
1082 inline void InspectorInstrumentation::scriptImported(ScriptExecutionContext&amp; context, unsigned long identifier, const String&amp; sourceString)
1083 {
1084     FAST_RETURN_IF_NO_FRONTENDS(void());
1085     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1086         scriptImportedImpl(*instrumentingAgents, identifier, sourceString);
1087 }
1088 
1089 inline void InspectorInstrumentation::scriptExecutionBlockedByCSP(ScriptExecutionContext* context, const String&amp; directiveText)
1090 {

1091     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1092         scriptExecutionBlockedByCSPImpl(*instrumentingAgents, directiveText);
1093 }
1094 
1095 inline void InspectorInstrumentation::didReceiveScriptResponse(ScriptExecutionContext* context, unsigned long identifier)
1096 {
1097     FAST_RETURN_IF_NO_FRONTENDS(void());
1098     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1099         didReceiveScriptResponseImpl(*instrumentingAgents, identifier);
1100 }
1101 
1102 inline void InspectorInstrumentation::domContentLoadedEventFired(Frame&amp; frame)
1103 {

1104     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1105         domContentLoadedEventFiredImpl(*instrumentingAgents, frame);
1106 }
1107 
1108 inline void InspectorInstrumentation::loadEventFired(Frame* frame)
1109 {

1110     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1111         loadEventFiredImpl(*instrumentingAgents, frame);
1112 }
1113 
1114 inline void InspectorInstrumentation::frameDetachedFromParent(Frame&amp; frame)
1115 {

1116     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1117         frameDetachedFromParentImpl(*instrumentingAgents, frame);
1118 }
1119 
1120 inline void InspectorInstrumentation::didCommitLoad(Frame&amp; frame, DocumentLoader* loader)
1121 {
1122     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1123         didCommitLoadImpl(*instrumentingAgents, frame, loader);
1124 }
1125 
1126 inline void InspectorInstrumentation::frameDocumentUpdated(Frame&amp; frame)
1127 {
1128     FAST_RETURN_IF_NO_FRONTENDS(void());
1129     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1130         frameDocumentUpdatedImpl(*instrumentingAgents, frame);
1131 }
1132 
1133 inline void InspectorInstrumentation::loaderDetachedFromFrame(Frame&amp; frame, DocumentLoader&amp; loader)
1134 {

1135     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1136         loaderDetachedFromFrameImpl(*instrumentingAgents, loader);
1137 }
1138 
1139 inline void InspectorInstrumentation::frameStartedLoading(Frame&amp; frame)
1140 {

1141     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1142         frameStartedLoadingImpl(*instrumentingAgents, frame);
1143 }
1144 
1145 inline void InspectorInstrumentation::frameStoppedLoading(Frame&amp; frame)
1146 {

1147     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1148         frameStoppedLoadingImpl(*instrumentingAgents, frame);
1149 }
1150 
1151 inline void InspectorInstrumentation::frameScheduledNavigation(Frame&amp; frame, Seconds delay)
1152 {

1153     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1154         frameScheduledNavigationImpl(*instrumentingAgents, frame, delay);
1155 }
1156 
1157 inline void InspectorInstrumentation::frameClearedScheduledNavigation(Frame&amp; frame)
1158 {

1159     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1160         frameClearedScheduledNavigationImpl(*instrumentingAgents, frame);
1161 }
1162 
1163 inline void InspectorInstrumentation::defaultAppearanceDidChange(Page&amp; page, bool useDarkAppearance)
1164 {
1165     FAST_RETURN_IF_NO_FRONTENDS(void());
1166     defaultAppearanceDidChangeImpl(instrumentingAgentsForPage(page), useDarkAppearance);
1167 }
1168 
1169 inline void InspectorInstrumentation::willDestroyCachedResource(CachedResource&amp; cachedResource)
1170 {
1171     FAST_RETURN_IF_NO_FRONTENDS(void());
1172     willDestroyCachedResourceImpl(cachedResource);
1173 }
1174 
<span class="line-modified">1175 inline void InspectorInstrumentation::didOpenDatabase(ScriptExecutionContext* context, RefPtr&lt;Database&gt;&amp;&amp; database, const String&amp; domain, const String&amp; name, const String&amp; version)</span>
1176 {
<span class="line-modified">1177     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">1178         didOpenDatabaseImpl(*instrumentingAgents, WTFMove(database), domain, name, version);</span>

1179 }
1180 
1181 inline void InspectorInstrumentation::didDispatchDOMStorageEvent(Page&amp; page, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType storageType, SecurityOrigin* securityOrigin)
1182 {
1183     FAST_RETURN_IF_NO_FRONTENDS(void());
1184     didDispatchDOMStorageEventImpl(instrumentingAgentsForPage(page), key, oldValue, newValue, storageType, securityOrigin);
1185 }
1186 
1187 inline bool InspectorInstrumentation::shouldWaitForDebuggerOnStart(ScriptExecutionContext&amp; context)
1188 {
1189     FAST_RETURN_IF_NO_FRONTENDS(false);
1190     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1191         return shouldWaitForDebuggerOnStartImpl(*instrumentingAgents);
1192     return false;
1193 }
1194 
1195 inline void InspectorInstrumentation::workerStarted(ScriptExecutionContext&amp; context, WorkerInspectorProxy* proxy, const URL&amp; url)
1196 {
1197     FAST_RETURN_IF_NO_FRONTENDS(void());
1198     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
</pre>
<hr />
<pre>
1255         didSendWebSocketFrameImpl(*instrumentingAgents, identifier, frame);
1256 }
1257 
1258 #if ENABLE(RESOURCE_USAGE)
1259 inline void InspectorInstrumentation::didHandleMemoryPressure(Page&amp; page, Critical critical)
1260 {
1261     FAST_RETURN_IF_NO_FRONTENDS(void());
1262     didHandleMemoryPressureImpl(instrumentingAgentsForPage(page), critical);
1263 }
1264 #endif
1265 
1266 inline void InspectorInstrumentation::didChangeCSSCanvasClientNodes(CanvasBase&amp; canvasBase)
1267 {
1268     FAST_RETURN_IF_NO_FRONTENDS(void());
1269     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(canvasBase.scriptExecutionContext()))
1270         didChangeCSSCanvasClientNodesImpl(*instrumentingAgents, canvasBase);
1271 }
1272 
1273 inline void InspectorInstrumentation::didCreateCanvasRenderingContext(CanvasRenderingContext&amp; context)
1274 {

1275     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1276         didCreateCanvasRenderingContextImpl(*instrumentingAgents, context);
1277 }
1278 
1279 inline void InspectorInstrumentation::didChangeCanvasMemory(CanvasRenderingContext&amp; context)
1280 {
1281     FAST_RETURN_IF_NO_FRONTENDS(void());
1282     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1283         didChangeCanvasMemoryImpl(*instrumentingAgents, context);
1284 }
1285 
<span class="line-modified">1286 inline void InspectorInstrumentation::recordCanvasAction(CanvasRenderingContext&amp; context, const String&amp; name, Vector&lt;RecordCanvasActionVariant&gt;&amp;&amp; parameters)</span>
1287 {
1288     FAST_RETURN_IF_NO_FRONTENDS(void());
1289     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1290         recordCanvasActionImpl(*instrumentingAgents, context, name, WTFMove(parameters));
1291 }
1292 
1293 inline void InspectorInstrumentation::didFinishRecordingCanvasFrame(CanvasRenderingContext&amp; context, bool forceDispatch)
1294 {
1295     FAST_RETURN_IF_NO_FRONTENDS(void());
1296     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1297         didFinishRecordingCanvasFrameImpl(*instrumentingAgents, context, forceDispatch);
1298 }
1299 
1300 #if ENABLE(WEBGL)
1301 inline void InspectorInstrumentation::didEnableExtension(WebGLRenderingContextBase&amp; contextWebGLBase, const String&amp; extension)
1302 {
1303     FAST_RETURN_IF_NO_FRONTENDS(void());
1304     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1305         didEnableExtensionImpl(*instrumentingAgents, contextWebGLBase, extension);
1306 }
1307 
1308 inline void InspectorInstrumentation::didCreateProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)
1309 {

1310     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1311         didCreateProgramImpl(*instrumentingAgents, contextWebGLBase, program);
1312 }
1313 
1314 inline void InspectorInstrumentation::willDeleteProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)
1315 {

1316     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1317         willDeleteProgramImpl(*instrumentingAgents, program);
1318 }
1319 
1320 inline bool InspectorInstrumentation::isShaderProgramDisabled(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)
1321 {
1322     FAST_RETURN_IF_NO_FRONTENDS(false);
1323     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1324         return isShaderProgramDisabledImpl(*instrumentingAgents, program);
1325     return false;
1326 }
1327 
1328 inline bool InspectorInstrumentation::isShaderProgramHighlighted(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)
1329 {
1330     FAST_RETURN_IF_NO_FRONTENDS(false);
1331     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1332         return isShaderProgramHighlightedImpl(*instrumentingAgents, program);
1333     return false;
1334 }
1335 #endif
</pre>
<hr />
<pre>
1340     networkStateChangedImpl(instrumentingAgentsForPage(page));
1341 }
1342 
1343 inline void InspectorInstrumentation::updateApplicationCacheStatus(Frame* frame)
1344 {
1345     FAST_RETURN_IF_NO_FRONTENDS(void());
1346     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
1347         updateApplicationCacheStatusImpl(*instrumentingAgents, *frame);
1348 }
1349 
1350 inline void InspectorInstrumentation::addMessageToConsole(Page&amp; page, std::unique_ptr&lt;Inspector::ConsoleMessage&gt; message)
1351 {
1352     addMessageToConsoleImpl(instrumentingAgentsForPage(page), WTFMove(message));
1353 }
1354 
1355 inline void InspectorInstrumentation::addMessageToConsole(WorkerGlobalScope&amp; workerGlobalScope, std::unique_ptr&lt;Inspector::ConsoleMessage&gt; message)
1356 {
1357     addMessageToConsoleImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), WTFMove(message));
1358 }
1359 
<span class="line-modified">1360 inline void InspectorInstrumentation::consoleCount(Page&amp; page, JSC::ExecState* state, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
1361 {
<span class="line-modified">1362     consoleCountImpl(instrumentingAgentsForPage(page), state, WTFMove(arguments));</span>
1363 }
1364 
<span class="line-modified">1365 inline void InspectorInstrumentation::consoleCount(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* state, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
1366 {
<span class="line-modified">1367     consoleCountImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, WTFMove(arguments));</span>










1368 }
1369 
1370 inline void InspectorInstrumentation::takeHeapSnapshot(Frame&amp; frame, const String&amp; title)
1371 {
1372     FAST_RETURN_IF_NO_FRONTENDS(void());
1373     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1374         takeHeapSnapshotImpl(*instrumentingAgents, title);
1375 }
1376 
<span class="line-modified">1377 inline void InspectorInstrumentation::startConsoleTiming(Frame&amp; frame, const String&amp; title)</span>
1378 {
<span class="line-modified">1379     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">1380         startConsoleTimingImpl(*instrumentingAgents, frame, title);</span>
1381 }
1382 
<span class="line-modified">1383 inline void InspectorInstrumentation::startConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, const String&amp; title)</span>
1384 {
<span class="line-modified">1385     startConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), title);</span>
1386 }
1387 
<span class="line-modified">1388 inline void InspectorInstrumentation::stopConsoleTiming(Frame&amp; frame, const String&amp; title, Ref&lt;Inspector::ScriptCallStack&gt;&amp;&amp; stack)</span>
1389 {
<span class="line-modified">1390     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">1391         stopConsoleTimingImpl(*instrumentingAgents, frame, title, WTFMove(stack));</span>
1392 }
1393 
<span class="line-modified">1394 inline void InspectorInstrumentation::stopConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, const String&amp; title, Ref&lt;Inspector::ScriptCallStack&gt;&amp;&amp; stack)</span>
1395 {
<span class="line-modified">1396     stopConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), title, WTFMove(stack));</span>











1397 }
1398 
1399 inline void InspectorInstrumentation::consoleTimeStamp(Frame&amp; frame, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)
1400 {
1401     FAST_RETURN_IF_NO_FRONTENDS(void());
1402     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1403         consoleTimeStampImpl(*instrumentingAgents, frame, WTFMove(arguments));
1404 }
1405 
1406 inline void InspectorInstrumentation::startProfiling(Page&amp; page, JSC::ExecState* exec, const String &amp;title)
1407 {

1408     startProfilingImpl(instrumentingAgentsForPage(page), exec, title);
1409 }
1410 
1411 inline void InspectorInstrumentation::stopProfiling(Page&amp; page, JSC::ExecState* exec, const String &amp;title)
1412 {

1413     stopProfilingImpl(instrumentingAgentsForPage(page), exec, title);
1414 }
1415 
1416 inline void InspectorInstrumentation::consoleStartRecordingCanvas(CanvasRenderingContext&amp; context, JSC::ExecState&amp; exec, JSC::JSObject* options)
1417 {
1418     FAST_RETURN_IF_NO_FRONTENDS(void());
1419     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1420         consoleStartRecordingCanvasImpl(*instrumentingAgents, context, exec, options);
1421 }
1422 
1423 inline void InspectorInstrumentation::didRequestAnimationFrame(Document&amp; document, int callbackId)
1424 {

1425     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
1426         didRequestAnimationFrameImpl(*instrumentingAgents, callbackId, document);
1427 }
1428 
1429 inline void InspectorInstrumentation::didCancelAnimationFrame(Document&amp; document, int callbackId)
1430 {

1431     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
1432         didCancelAnimationFrameImpl(*instrumentingAgents, callbackId, document);
1433 }
1434 
1435 inline InspectorInstrumentationCookie InspectorInstrumentation::willFireAnimationFrame(Document&amp; document, int callbackId)
1436 {
1437     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());
1438     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
1439         return willFireAnimationFrameImpl(*instrumentingAgents, callbackId, document);
1440     return InspectorInstrumentationCookie();
1441 }
1442 
1443 inline void InspectorInstrumentation::didFireAnimationFrame(const InspectorInstrumentationCookie&amp; cookie)
1444 {
1445     FAST_RETURN_IF_NO_FRONTENDS(void());
1446     if (cookie.isValid())
1447         didFireAnimationFrameImpl(cookie);
1448 }
1449 
1450 inline InspectorInstrumentationCookie InspectorInstrumentation::willFireObserverCallback(ScriptExecutionContext&amp; context, const String&amp; callbackType)
</pre>
</td>
<td>
<hr />
<pre>
  18 *
  19 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  20 * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  21 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  22 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
  23 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
  24 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  25 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
  26 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
  27 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  28 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  29 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  30 */
  31 
  32 #pragma once
  33 
  34 #include &quot;CSSSelector.h&quot;
  35 #include &quot;CallTracerTypes.h&quot;
  36 #include &quot;CanvasBase.h&quot;
  37 #include &quot;CanvasRenderingContext.h&quot;
<span class="line-added">  38 #include &quot;Database.h&quot;</span>
  39 #include &quot;DocumentThreadableLoader.h&quot;
  40 #include &quot;Element.h&quot;
  41 #include &quot;EventTarget.h&quot;
  42 #include &quot;FormData.h&quot;
  43 #include &quot;Frame.h&quot;
  44 #include &quot;HitTestResult.h&quot;
  45 #include &quot;InspectorController.h&quot;
  46 #include &quot;InspectorInstrumentationCookie.h&quot;
  47 #include &quot;OffscreenCanvas.h&quot;
  48 #include &quot;Page.h&quot;
  49 #include &quot;StorageArea.h&quot;
  50 #include &quot;WorkerGlobalScope.h&quot;
  51 #include &quot;WorkerInspectorController.h&quot;
  52 #include &lt;JavaScriptCore/JSCInlines.h&gt;
<span class="line-added">  53 #include &lt;initializer_list&gt;</span>
  54 #include &lt;wtf/MemoryPressureHandler.h&gt;
  55 #include &lt;wtf/RefPtr.h&gt;
  56 
  57 #if ENABLE(WEBGL)
  58 #include &quot;WebGLRenderingContextBase.h&quot;
  59 #endif
  60 
  61 namespace Inspector {
  62 class ConsoleMessage;
  63 class ScriptArguments;
  64 class ScriptCallStack;
  65 }
  66 
  67 namespace WebCore {
  68 
  69 class CachedResource;
  70 class CharacterData;
  71 class DOMWindow;
  72 class DOMWrapperWorld;

  73 class Document;
  74 class DocumentLoader;
  75 class EventListener;
  76 class HTTPHeaderMap;
  77 class InspectorTimelineAgent;
  78 class InstrumentingAgents;
  79 class NetworkLoadMetrics;
  80 class Node;
  81 class PseudoElement;
  82 class RegisteredEventListener;
  83 class RenderLayer;
  84 class RenderObject;
  85 class ResourceLoader;
  86 class ResourceRequest;
  87 class ResourceResponse;
  88 class ScriptExecutionContext;
  89 class SecurityOrigin;
  90 class ShadowRoot;
  91 class TimerBase;
  92 #if ENABLE(WEBGL)
  93 class WebGLProgram;
  94 #endif
  95 class WebKitNamedFlow;
  96 class WorkerInspectorProxy;
  97 
  98 enum class StorageType;
  99 
 100 struct WebSocketFrame;
 101 
<span class="line-modified"> 102 #define FAST_RETURN_IF_NO_FRONTENDS(value) if (LIKELY(!InspectorInstrumentation::hasFrontends())) return value;</span>
 103 
 104 class InspectorInstrumentation {
 105 public:
 106     static void didClearWindowObjectInWorld(Frame&amp;, DOMWrapperWorld&amp;);
 107     static bool isDebuggerPaused(Frame*);
 108 
 109     static int identifierForNode(Node&amp;);
 110     static void addEventListenersToNode(Node&amp;);
 111     static void willInsertDOMNode(Document&amp;, Node&amp; parent);
 112     static void didInsertDOMNode(Document&amp;, Node&amp;);
 113     static void willRemoveDOMNode(Document&amp;, Node&amp;);
 114     static void didRemoveDOMNode(Document&amp;, Node&amp;);
<span class="line-modified"> 115     static void willModifyDOMAttr(Document&amp;, Element&amp;, const AtomString&amp; oldValue, const AtomString&amp; newValue);</span>
<span class="line-modified"> 116     static void didModifyDOMAttr(Document&amp;, Element&amp;, const AtomString&amp; name, const AtomString&amp; value);</span>
<span class="line-modified"> 117     static void didRemoveDOMAttr(Document&amp;, Element&amp;, const AtomString&amp; name);</span>
 118     static void characterDataModified(Document&amp;, CharacterData&amp;);
<span class="line-modified"> 119     static void willInvalidateStyleAttr(Element&amp;);</span>
<span class="line-added"> 120     static void didInvalidateStyleAttr(Element&amp;);</span>
 121     static void documentDetached(Document&amp;);
 122     static void frameWindowDiscarded(Frame&amp;, DOMWindow*);
 123     static void mediaQueryResultChanged(Document&amp;);
 124     static void activeStyleSheetsUpdated(Document&amp;);
 125     static void didPushShadowRoot(Element&amp; host, ShadowRoot&amp;);
 126     static void willPopShadowRoot(Element&amp; host, ShadowRoot&amp;);
 127     static void didChangeCustomElementState(Element&amp;);
 128     static void pseudoElementCreated(Page*, PseudoElement&amp;);
 129     static void pseudoElementDestroyed(Page*, PseudoElement&amp;);
 130     static void didCreateNamedFlow(Document*, WebKitNamedFlow&amp;);
 131     static void willRemoveNamedFlow(Document*, WebKitNamedFlow&amp;);
 132     static void didChangeRegionOverset(Document&amp;, WebKitNamedFlow&amp;);
 133     static void didRegisterNamedFlowContentElement(Document&amp;, WebKitNamedFlow&amp;, Node&amp; contentElement, Node* nextContentElement = nullptr);
 134     static void didUnregisterNamedFlowContentElement(Document&amp;, WebKitNamedFlow&amp;, Node&amp; contentElement);
 135 
 136     static void mouseDidMoveOverElement(Page&amp;, const HitTestResult&amp;, unsigned modifierFlags);
 137     static bool handleMousePress(Frame&amp;);
 138     static bool handleTouchEvent(Frame&amp;, Node&amp;);
 139     static bool forcePseudoState(const Element&amp;, CSSSelector::PseudoClassType);
 140 
 141     static void willSendXMLHttpRequest(ScriptExecutionContext*, const String&amp; url);
 142     static void willFetch(ScriptExecutionContext&amp;, const String&amp; url);
 143     static void didInstallTimer(ScriptExecutionContext&amp;, int timerId, Seconds timeout, bool singleShot);
 144     static void didRemoveTimer(ScriptExecutionContext&amp;, int timerId);
 145 
 146     static void didPostMessage(Frame&amp;, TimerBase&amp;, JSC::ExecState&amp;);
 147     static void didFailPostMessage(Frame&amp;, TimerBase&amp;);
 148     static void willDispatchPostMessage(Frame&amp;, TimerBase&amp;);
 149     static void didDispatchPostMessage(Frame&amp;, TimerBase&amp;);
 150 
 151     static InspectorInstrumentationCookie willCallFunction(ScriptExecutionContext*, const String&amp; scriptName, int scriptLine, int scriptColumn);
 152     static void didCallFunction(const InspectorInstrumentationCookie&amp;, ScriptExecutionContext*);
<span class="line-modified"> 153     static void didAddEventListener(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);</span>
<span class="line-modified"> 154     static void willRemoveEventListener(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);</span>
<span class="line-modified"> 155     static bool isEventListenerDisabled(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);</span>
 156     static InspectorInstrumentationCookie willDispatchEvent(Document&amp;, const Event&amp;, bool hasEventListeners);
<span class="line-modified"> 157     static void didDispatchEvent(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
<span class="line-modified"> 158     static void willHandleEvent(ScriptExecutionContext&amp;, Event&amp;, const RegisteredEventListener&amp;);</span>
 159     static void didHandleEvent(ScriptExecutionContext&amp;);
 160     static InspectorInstrumentationCookie willDispatchEventOnWindow(Frame*, const Event&amp;, DOMWindow&amp;);
<span class="line-modified"> 161     static void didDispatchEventOnWindow(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
 162     static void eventDidResetAfterDispatch(const Event&amp;);
 163     static InspectorInstrumentationCookie willEvaluateScript(Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);
 164     static void didEvaluateScript(const InspectorInstrumentationCookie&amp;, Frame&amp;);
 165     static InspectorInstrumentationCookie willFireTimer(ScriptExecutionContext&amp;, int timerId, bool oneShot);
 166     static void didFireTimer(const InspectorInstrumentationCookie&amp;);
 167     static void didInvalidateLayout(Frame&amp;);
 168     static InspectorInstrumentationCookie willLayout(Frame&amp;);
 169     static void didLayout(const InspectorInstrumentationCookie&amp;, RenderObject&amp;);
 170     static void didScroll(Page&amp;);
 171     static void willComposite(Frame&amp;);
 172     static void didComposite(Frame&amp;);
 173     static void willPaint(RenderObject&amp;);
 174     static void didPaint(RenderObject&amp;, const LayoutRect&amp;);
 175     static InspectorInstrumentationCookie willRecalculateStyle(Document&amp;);
 176     static void didRecalculateStyle(const InspectorInstrumentationCookie&amp;);
 177     static void didScheduleStyleRecalculation(Document&amp;);
 178     static void applyUserAgentOverride(Frame&amp;, String&amp;);
 179     static void applyEmulatedMedia(Frame&amp;, String&amp;);
 180 
 181     static void willSendRequest(Frame*, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
</pre>
<hr />
<pre>
 205     static void didLoadXHRSynchronously(ScriptExecutionContext*);
 206     static void scriptImported(ScriptExecutionContext&amp;, unsigned long identifier, const String&amp; sourceString);
 207     static void scriptExecutionBlockedByCSP(ScriptExecutionContext*, const String&amp; directiveText);
 208     static void didReceiveScriptResponse(ScriptExecutionContext*, unsigned long identifier);
 209     static void domContentLoadedEventFired(Frame&amp;);
 210     static void loadEventFired(Frame*);
 211     static void frameDetachedFromParent(Frame&amp;);
 212     static void didCommitLoad(Frame&amp;, DocumentLoader*);
 213     static void frameDocumentUpdated(Frame&amp;);
 214     static void loaderDetachedFromFrame(Frame&amp;, DocumentLoader&amp;);
 215     static void frameStartedLoading(Frame&amp;);
 216     static void frameStoppedLoading(Frame&amp;);
 217     static void frameScheduledNavigation(Frame&amp;, Seconds delay);
 218     static void frameClearedScheduledNavigation(Frame&amp;);
 219     static void defaultAppearanceDidChange(Page&amp;, bool useDarkAppearance);
 220     static void willDestroyCachedResource(CachedResource&amp;);
 221 
 222     static void addMessageToConsole(Page&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
 223     static void addMessageToConsole(WorkerGlobalScope&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
 224 
<span class="line-modified"> 225     static void consoleCount(Page&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified"> 226     static void consoleCount(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-added"> 227     static void consoleCountReset(Page&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-added"> 228     static void consoleCountReset(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-added"> 229 </span>
 230     static void takeHeapSnapshot(Frame&amp;, const String&amp; title);
<span class="line-modified"> 231     static void startConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified"> 232     static void startConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified"> 233     static void logConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified"> 234     static void logConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-added"> 235     static void stopConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-added"> 236     static void stopConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
 237     static void consoleTimeStamp(Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
 238     static void startProfiling(Page&amp;, JSC::ExecState*, const String&amp; title);
 239     static void stopProfiling(Page&amp;, JSC::ExecState*, const String&amp; title);
 240     static void consoleStartRecordingCanvas(CanvasRenderingContext&amp;, JSC::ExecState&amp;, JSC::JSObject* options);
 241 
 242     static void didRequestAnimationFrame(Document&amp;, int callbackId);
 243     static void didCancelAnimationFrame(Document&amp;, int callbackId);
 244     static InspectorInstrumentationCookie willFireAnimationFrame(Document&amp;, int callbackId);
 245     static void didFireAnimationFrame(const InspectorInstrumentationCookie&amp;);
 246 
 247     static InspectorInstrumentationCookie willFireObserverCallback(ScriptExecutionContext&amp;, const String&amp; callbackType);
 248     static void didFireObserverCallback(const InspectorInstrumentationCookie&amp;);
 249 
<span class="line-modified"> 250     static void didOpenDatabase(Database&amp;);</span>
 251 
 252     static void didDispatchDOMStorageEvent(Page&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
 253 
 254     static bool shouldWaitForDebuggerOnStart(ScriptExecutionContext&amp;);
 255     static void workerStarted(ScriptExecutionContext&amp;, WorkerInspectorProxy*, const URL&amp;);
 256     static void workerTerminated(ScriptExecutionContext&amp;, WorkerInspectorProxy*);
 257 
 258     static void didCreateWebSocket(Document*, unsigned long identifier, const URL&amp; requestURL);
 259     static void willSendWebSocketHandshakeRequest(Document*, unsigned long identifier, const ResourceRequest&amp;);
 260     static void didReceiveWebSocketHandshakeResponse(Document*, unsigned long identifier, const ResourceResponse&amp;);
 261     static void didCloseWebSocket(Document*, unsigned long identifier);
 262     static void didReceiveWebSocketFrame(Document*, unsigned long identifier, const WebSocketFrame&amp;);
 263     static void didSendWebSocketFrame(Document*, unsigned long identifier, const WebSocketFrame&amp;);
 264     static void didReceiveWebSocketFrameError(Document*, unsigned long identifier, const String&amp; errorMessage);
 265 
 266 #if ENABLE(RESOURCE_USAGE)
 267     static void didHandleMemoryPressure(Page&amp;, Critical);
 268 #endif
 269 
 270     static void didChangeCSSCanvasClientNodes(CanvasBase&amp;);
 271     static void didCreateCanvasRenderingContext(CanvasRenderingContext&amp;);
 272     static void didChangeCanvasMemory(CanvasRenderingContext&amp;);
<span class="line-modified"> 273     static void recordCanvasAction(CanvasRenderingContext&amp;, const String&amp;, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });</span>
 274     static void didFinishRecordingCanvasFrame(CanvasRenderingContext&amp;, bool forceDispatch = false);
 275 #if ENABLE(WEBGL)
 276     static void didEnableExtension(WebGLRenderingContextBase&amp;, const String&amp;);
 277     static void didCreateProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 278     static void willDeleteProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 279     static bool isShaderProgramDisabled(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 280     static bool isShaderProgramHighlighted(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 281 #endif
 282 
 283     static void networkStateChanged(Page&amp;);
 284     static void updateApplicationCacheStatus(Frame*);
 285 
 286     static void layerTreeDidChange(Page*);
 287     static void renderLayerDestroyed(Page*, const RenderLayer&amp;);
 288 
 289     static void frontendCreated();
 290     static void frontendDeleted();
 291     static bool hasFrontends() { return s_frontendCounter; }
 292 
 293     static void firstFrontendCreated();
 294     static void lastFrontendDeleted();
 295 
 296     static bool consoleAgentEnabled(ScriptExecutionContext*);
<span class="line-modified"> 297     static bool timelineAgentTracking(ScriptExecutionContext*);</span>
 298 
 299     static InstrumentingAgents* instrumentingAgentsForPage(Page*);
 300 
 301     static void registerInstrumentingAgents(InstrumentingAgents&amp;);
 302     static void unregisterInstrumentingAgents(InstrumentingAgents&amp;);
 303 
 304 private:
 305     static void didClearWindowObjectInWorldImpl(InstrumentingAgents&amp;, Frame&amp;, DOMWrapperWorld&amp;);
 306     static bool isDebuggerPausedImpl(InstrumentingAgents&amp;);
 307 
 308     static int identifierForNodeImpl(InstrumentingAgents&amp;, Node&amp;);
 309     static void addEventListenersToNodeImpl(InstrumentingAgents&amp;, Node&amp;);
 310     static void willInsertDOMNodeImpl(InstrumentingAgents&amp;, Node&amp; parent);
 311     static void didInsertDOMNodeImpl(InstrumentingAgents&amp;, Node&amp;);
 312     static void willRemoveDOMNodeImpl(InstrumentingAgents&amp;, Node&amp;);
 313     static void didRemoveDOMNodeImpl(InstrumentingAgents&amp;, Node&amp;);
<span class="line-modified"> 314     static void willModifyDOMAttrImpl(InstrumentingAgents&amp;, Element&amp;, const AtomString&amp; oldValue, const AtomString&amp; newValue);</span>
<span class="line-modified"> 315     static void didModifyDOMAttrImpl(InstrumentingAgents&amp;, Element&amp;, const AtomString&amp; name, const AtomString&amp; value);</span>
<span class="line-modified"> 316     static void didRemoveDOMAttrImpl(InstrumentingAgents&amp;, Element&amp;, const AtomString&amp; name);</span>
 317     static void characterDataModifiedImpl(InstrumentingAgents&amp;, CharacterData&amp;);
<span class="line-modified"> 318     static void willInvalidateStyleAttrImpl(InstrumentingAgents&amp;, Element&amp;);</span>
<span class="line-added"> 319     static void didInvalidateStyleAttrImpl(InstrumentingAgents&amp;, Element&amp;);</span>
 320     static void documentDetachedImpl(InstrumentingAgents&amp;, Document&amp;);
 321     static void frameWindowDiscardedImpl(InstrumentingAgents&amp;, DOMWindow*);
 322     static void mediaQueryResultChangedImpl(InstrumentingAgents&amp;);
 323     static void activeStyleSheetsUpdatedImpl(InstrumentingAgents&amp;, Document&amp;);
 324     static void didPushShadowRootImpl(InstrumentingAgents&amp;, Element&amp; host, ShadowRoot&amp;);
 325     static void willPopShadowRootImpl(InstrumentingAgents&amp;, Element&amp; host, ShadowRoot&amp;);
 326     static void didChangeCustomElementStateImpl(InstrumentingAgents&amp;, Element&amp;);
 327     static void pseudoElementCreatedImpl(InstrumentingAgents&amp;, PseudoElement&amp;);
 328     static void pseudoElementDestroyedImpl(InstrumentingAgents&amp;, PseudoElement&amp;);
 329     static void didCreateNamedFlowImpl(InstrumentingAgents&amp;, Document*, WebKitNamedFlow&amp;);
 330     static void willRemoveNamedFlowImpl(InstrumentingAgents&amp;, Document*, WebKitNamedFlow&amp;);
 331     static void didChangeRegionOversetImpl(InstrumentingAgents&amp;, Document&amp;, WebKitNamedFlow&amp;);
 332     static void didRegisterNamedFlowContentElementImpl(InstrumentingAgents&amp;, Document&amp;, WebKitNamedFlow&amp;, Node&amp; contentElement, Node* nextContentElement = nullptr);
 333     static void didUnregisterNamedFlowContentElementImpl(InstrumentingAgents&amp;, Document&amp;, WebKitNamedFlow&amp;, Node&amp; contentElement);
 334 
 335     static void mouseDidMoveOverElementImpl(InstrumentingAgents&amp;, const HitTestResult&amp;, unsigned modifierFlags);
 336     static bool handleMousePressImpl(InstrumentingAgents&amp;);
 337     static bool handleTouchEventImpl(InstrumentingAgents&amp;, Node&amp;);
 338     static bool forcePseudoStateImpl(InstrumentingAgents&amp;, const Element&amp;, CSSSelector::PseudoClassType);
 339 
 340     static void willSendXMLHttpRequestImpl(InstrumentingAgents&amp;, const String&amp; url);
 341     static void willFetchImpl(InstrumentingAgents&amp;, const String&amp; url);
 342     static void didInstallTimerImpl(InstrumentingAgents&amp;, int timerId, Seconds timeout, bool singleShot, ScriptExecutionContext&amp;);
 343     static void didRemoveTimerImpl(InstrumentingAgents&amp;, int timerId, ScriptExecutionContext&amp;);
 344 
 345     static void didPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;, JSC::ExecState&amp;);
 346     static void didFailPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
 347     static void willDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
 348     static void didDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
 349 
 350     static InspectorInstrumentationCookie willCallFunctionImpl(InstrumentingAgents&amp;, const String&amp; scriptName, int scriptLine, int scriptColumn, ScriptExecutionContext*);
 351     static void didCallFunctionImpl(const InspectorInstrumentationCookie&amp;, ScriptExecutionContext*);
<span class="line-modified"> 352     static void didAddEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);</span>
<span class="line-modified"> 353     static void willRemoveEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);</span>
<span class="line-modified"> 354     static bool isEventListenerDisabledImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);</span>
 355     static InspectorInstrumentationCookie willDispatchEventImpl(InstrumentingAgents&amp;, Document&amp;, const Event&amp;, bool hasEventListeners);
<span class="line-modified"> 356     static void willHandleEventImpl(InstrumentingAgents&amp;, Event&amp;, const RegisteredEventListener&amp;);</span>
 357     static void didHandleEventImpl(InstrumentingAgents&amp;);
<span class="line-modified"> 358     static void didDispatchEventImpl(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
 359     static InspectorInstrumentationCookie willDispatchEventOnWindowImpl(InstrumentingAgents&amp;, const Event&amp;, DOMWindow&amp;);
<span class="line-modified"> 360     static void didDispatchEventOnWindowImpl(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
 361     static void eventDidResetAfterDispatchImpl(InstrumentingAgents&amp;, const Event&amp;);
 362     static InspectorInstrumentationCookie willEvaluateScriptImpl(InstrumentingAgents&amp;, Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);
 363     static void didEvaluateScriptImpl(const InspectorInstrumentationCookie&amp;, Frame&amp;);
 364     static InspectorInstrumentationCookie willFireTimerImpl(InstrumentingAgents&amp;, int timerId, bool oneShot, ScriptExecutionContext&amp;);
 365     static void didFireTimerImpl(const InspectorInstrumentationCookie&amp;);
 366     static void didInvalidateLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);
 367     static InspectorInstrumentationCookie willLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);
 368     static void didLayoutImpl(const InspectorInstrumentationCookie&amp;, RenderObject&amp;);
 369     static void didScrollImpl(InstrumentingAgents&amp;);
 370     static void willCompositeImpl(InstrumentingAgents&amp;, Frame&amp;);
 371     static void didCompositeImpl(InstrumentingAgents&amp;);
 372     static void willPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;);
 373     static void didPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;, const LayoutRect&amp;);
 374     static InspectorInstrumentationCookie willRecalculateStyleImpl(InstrumentingAgents&amp;, Document&amp;);
 375     static void didRecalculateStyleImpl(const InspectorInstrumentationCookie&amp;);
 376     static void didScheduleStyleRecalculationImpl(InstrumentingAgents&amp;, Document&amp;);
 377     static void applyUserAgentOverrideImpl(InstrumentingAgents&amp;, String&amp;);
 378     static void applyEmulatedMediaImpl(InstrumentingAgents&amp;, String&amp;);
 379 
 380     static void willSendRequestImpl(InstrumentingAgents&amp;, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
</pre>
<hr />
<pre>
 389     static void willLoadXHRSynchronouslyImpl(InstrumentingAgents&amp;);
 390     static void didLoadXHRSynchronouslyImpl(InstrumentingAgents&amp;);
 391     static void scriptImportedImpl(InstrumentingAgents&amp;, unsigned long identifier, const String&amp; sourceString);
 392     static void scriptExecutionBlockedByCSPImpl(InstrumentingAgents&amp;, const String&amp; directiveText);
 393     static void didReceiveScriptResponseImpl(InstrumentingAgents&amp;, unsigned long identifier);
 394     static void domContentLoadedEventFiredImpl(InstrumentingAgents&amp;, Frame&amp;);
 395     static void loadEventFiredImpl(InstrumentingAgents&amp;, Frame*);
 396     static void frameDetachedFromParentImpl(InstrumentingAgents&amp;, Frame&amp;);
 397     static void didCommitLoadImpl(InstrumentingAgents&amp;, Frame&amp;, DocumentLoader*);
 398     static void frameDocumentUpdatedImpl(InstrumentingAgents&amp;, Frame&amp;);
 399     static void loaderDetachedFromFrameImpl(InstrumentingAgents&amp;, DocumentLoader&amp;);
 400     static void frameStartedLoadingImpl(InstrumentingAgents&amp;, Frame&amp;);
 401     static void frameStoppedLoadingImpl(InstrumentingAgents&amp;, Frame&amp;);
 402     static void frameScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;, Seconds delay);
 403     static void frameClearedScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;);
 404     static void defaultAppearanceDidChangeImpl(InstrumentingAgents&amp;, bool useDarkAppearance);
 405     static void willDestroyCachedResourceImpl(CachedResource&amp;);
 406 
 407     static void addMessageToConsoleImpl(InstrumentingAgents&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
 408 
<span class="line-modified"> 409     static void consoleCountImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-added"> 410     static void consoleCountResetImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
 411     static void takeHeapSnapshotImpl(InstrumentingAgents&amp;, const String&amp; title);
<span class="line-modified"> 412     static void startConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified"> 413     static void startConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified"> 414     static void logConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified"> 415     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-added"> 416     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
 417     static void consoleTimeStampImpl(InstrumentingAgents&amp;, Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
 418     static void startProfilingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; title);
 419     static void stopProfilingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; title);
 420     static void consoleStartRecordingCanvasImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, JSC::ExecState&amp;, JSC::JSObject* options);
 421 
 422     static void didRequestAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
 423     static void didCancelAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
 424     static InspectorInstrumentationCookie willFireAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
 425     static void didFireAnimationFrameImpl(const InspectorInstrumentationCookie&amp;);
 426 
 427     static InspectorInstrumentationCookie willFireObserverCallbackImpl(InstrumentingAgents&amp;, const String&amp;, ScriptExecutionContext&amp;);
 428     static void didFireObserverCallbackImpl(const InspectorInstrumentationCookie&amp;);
 429 
<span class="line-modified"> 430     static void didOpenDatabaseImpl(InstrumentingAgents&amp;, Database&amp;);</span>
 431 
 432     static void didDispatchDOMStorageEventImpl(InstrumentingAgents&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
 433 
 434     static bool shouldWaitForDebuggerOnStartImpl(InstrumentingAgents&amp;);
 435     static void workerStartedImpl(InstrumentingAgents&amp;, WorkerInspectorProxy*, const URL&amp;);
 436     static void workerTerminatedImpl(InstrumentingAgents&amp;, WorkerInspectorProxy*);
 437 
 438     static void didCreateWebSocketImpl(InstrumentingAgents&amp;, unsigned long identifier, const URL&amp; requestURL);
 439     static void willSendWebSocketHandshakeRequestImpl(InstrumentingAgents&amp;, unsigned long identifier, const ResourceRequest&amp;);
 440     static void didReceiveWebSocketHandshakeResponseImpl(InstrumentingAgents&amp;, unsigned long identifier, const ResourceResponse&amp;);
 441     static void didCloseWebSocketImpl(InstrumentingAgents&amp;, unsigned long identifier);
 442     static void didReceiveWebSocketFrameImpl(InstrumentingAgents&amp;, unsigned long identifier, const WebSocketFrame&amp;);
 443     static void didSendWebSocketFrameImpl(InstrumentingAgents&amp;, unsigned long identifier, const WebSocketFrame&amp;);
 444     static void didReceiveWebSocketFrameErrorImpl(InstrumentingAgents&amp;, unsigned long identifier, const String&amp;);
 445 
 446 #if ENABLE(RESOURCE_USAGE)
 447     static void didHandleMemoryPressureImpl(InstrumentingAgents&amp;, Critical);
 448 #endif
 449 
 450     static void networkStateChangedImpl(InstrumentingAgents&amp;);
 451     static void updateApplicationCacheStatusImpl(InstrumentingAgents&amp;, Frame&amp;);
 452 
 453     static void didChangeCSSCanvasClientNodesImpl(InstrumentingAgents&amp;, CanvasBase&amp;);
 454     static void didCreateCanvasRenderingContextImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);
 455     static void didChangeCanvasMemoryImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);
<span class="line-modified"> 456     static void recordCanvasActionImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, const String&amp;, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });</span>
 457     static void didFinishRecordingCanvasFrameImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, bool forceDispatch = false);
 458 #if ENABLE(WEBGL)
 459     static void didEnableExtensionImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, const String&amp;);
 460     static void didCreateProgramImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, WebGLProgram&amp;);
 461     static void willDeleteProgramImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);
 462     static bool isShaderProgramDisabledImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);
 463     static bool isShaderProgramHighlightedImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);
 464 #endif
 465 
 466     static void layerTreeDidChangeImpl(InstrumentingAgents&amp;);
 467     static void renderLayerDestroyedImpl(InstrumentingAgents&amp;, const RenderLayer&amp;);
 468 
 469     static InstrumentingAgents&amp; instrumentingAgentsForPage(Page&amp;);
 470     static InstrumentingAgents&amp; instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope&amp;);
 471 
 472     static InstrumentingAgents* instrumentingAgentsForFrame(Frame&amp;);
 473     static InstrumentingAgents* instrumentingAgentsForFrame(Frame*);
 474     static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext*);
 475     static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext&amp;);
 476     static InstrumentingAgents* instrumentingAgentsForDocument(Document&amp;);
 477     static InstrumentingAgents* instrumentingAgentsForDocument(Document*);
 478     static InstrumentingAgents* instrumentingAgentsForRenderer(RenderObject&amp;);
 479     static InstrumentingAgents* instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope*);
 480 
 481     static InspectorTimelineAgent* retrieveTimelineAgent(const InspectorInstrumentationCookie&amp;);
 482 
 483     WEBCORE_EXPORT static int s_frontendCounter;
 484 };
 485 
 486 inline void InspectorInstrumentation::didClearWindowObjectInWorld(Frame&amp; frame, DOMWrapperWorld&amp; world)
 487 {
<span class="line-added"> 488     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
 489     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 490         didClearWindowObjectInWorldImpl(*instrumentingAgents, frame, world);
 491 }
 492 
 493 inline bool InspectorInstrumentation::isDebuggerPaused(Frame* frame)
 494 {
 495     FAST_RETURN_IF_NO_FRONTENDS(false);
 496     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 497         return isDebuggerPausedImpl(*instrumentingAgents);
 498     return false;
 499 }
 500 
 501 inline int InspectorInstrumentation::identifierForNode(Node&amp; node)
 502 {
 503     FAST_RETURN_IF_NO_FRONTENDS(0);
 504     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(node.document()))
 505         return identifierForNodeImpl(*instrumentingAgents, node);
 506     return 0;
 507 }
 508 
</pre>
<hr />
<pre>
 524 {
 525     FAST_RETURN_IF_NO_FRONTENDS(void());
 526     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 527         didInsertDOMNodeImpl(*instrumentingAgents, node);
 528 }
 529 
 530 inline void InspectorInstrumentation::willRemoveDOMNode(Document&amp; document, Node&amp; node)
 531 {
 532     FAST_RETURN_IF_NO_FRONTENDS(void());
 533     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 534         willRemoveDOMNodeImpl(*instrumentingAgents, node);
 535 }
 536 
 537 inline void InspectorInstrumentation::didRemoveDOMNode(Document&amp; document, Node&amp; node)
 538 {
 539     FAST_RETURN_IF_NO_FRONTENDS(void());
 540     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 541         didRemoveDOMNodeImpl(*instrumentingAgents, node);
 542 }
 543 
<span class="line-modified"> 544 inline void InspectorInstrumentation::willModifyDOMAttr(Document&amp; document, Element&amp; element, const AtomString&amp; oldValue, const AtomString&amp; newValue)</span>
 545 {
 546     FAST_RETURN_IF_NO_FRONTENDS(void());
 547     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 548         willModifyDOMAttrImpl(*instrumentingAgents, element, oldValue, newValue);
 549 }
 550 
<span class="line-modified"> 551 inline void InspectorInstrumentation::didModifyDOMAttr(Document&amp; document, Element&amp; element, const AtomString&amp; name, const AtomString&amp; value)</span>
 552 {
 553     FAST_RETURN_IF_NO_FRONTENDS(void());
 554     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 555         didModifyDOMAttrImpl(*instrumentingAgents, element, name, value);
 556 }
 557 
<span class="line-modified"> 558 inline void InspectorInstrumentation::didRemoveDOMAttr(Document&amp; document, Element&amp; element, const AtomString&amp; name)</span>
 559 {
 560     FAST_RETURN_IF_NO_FRONTENDS(void());
 561     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 562         didRemoveDOMAttrImpl(*instrumentingAgents, element, name);
 563 }
 564 
<span class="line-modified"> 565 inline void InspectorInstrumentation::willInvalidateStyleAttr(Element&amp; element)</span>
 566 {
 567     FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified"> 568     if (auto* instrumentingAgents = instrumentingAgentsForDocument(element.document()))</span>
<span class="line-modified"> 569         willInvalidateStyleAttrImpl(*instrumentingAgents, element);</span>
<span class="line-added"> 570 }</span>
<span class="line-added"> 571 </span>
<span class="line-added"> 572 inline void InspectorInstrumentation::didInvalidateStyleAttr(Element&amp; element)</span>
<span class="line-added"> 573 {</span>
<span class="line-added"> 574     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added"> 575     if (auto* instrumentingAgents = instrumentingAgentsForDocument(element.document()))</span>
<span class="line-added"> 576         didInvalidateStyleAttrImpl(*instrumentingAgents, element);</span>
 577 }
 578 
 579 inline void InspectorInstrumentation::documentDetached(Document&amp; document)
 580 {
 581     FAST_RETURN_IF_NO_FRONTENDS(void());
 582     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 583         documentDetachedImpl(*instrumentingAgents, document);
 584 }
 585 
 586 inline void InspectorInstrumentation::frameWindowDiscarded(Frame&amp; frame, DOMWindow* domWindow)
 587 {
 588     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 589         frameWindowDiscardedImpl(*instrumentingAgents, domWindow);
 590 }
 591 
 592 inline void InspectorInstrumentation::mediaQueryResultChanged(Document&amp; document)
 593 {
 594     FAST_RETURN_IF_NO_FRONTENDS(void());
 595     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 596         mediaQueryResultChangedImpl(*instrumentingAgents);
</pre>
<hr />
<pre>
 721 {
 722     FAST_RETURN_IF_NO_FRONTENDS(void());
 723     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 724         willFetchImpl(*instrumentingAgents, url);
 725 }
 726 
 727 inline void InspectorInstrumentation::didInstallTimer(ScriptExecutionContext&amp; context, int timerId, Seconds timeout, bool singleShot)
 728 {
 729     FAST_RETURN_IF_NO_FRONTENDS(void());
 730     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 731         didInstallTimerImpl(*instrumentingAgents, timerId, timeout, singleShot, context);
 732 }
 733 
 734 inline void InspectorInstrumentation::didRemoveTimer(ScriptExecutionContext&amp; context, int timerId)
 735 {
 736     FAST_RETURN_IF_NO_FRONTENDS(void());
 737     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 738         didRemoveTimerImpl(*instrumentingAgents, timerId, context);
 739 }
 740 
<span class="line-modified"> 741 inline void InspectorInstrumentation::didAddEventListener(EventTarget&amp; target, const AtomString&amp; eventType, EventListener&amp; listener, bool capture)</span>
 742 {
 743     FAST_RETURN_IF_NO_FRONTENDS(void());
 744     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
 745         didAddEventListenerImpl(*instrumentingAgents, target, eventType, listener, capture);
 746 }
 747 
<span class="line-modified"> 748 inline void InspectorInstrumentation::willRemoveEventListener(EventTarget&amp; target, const AtomString&amp; eventType, EventListener&amp; listener, bool capture)</span>
 749 {
 750     FAST_RETURN_IF_NO_FRONTENDS(void());
 751     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
 752         willRemoveEventListenerImpl(*instrumentingAgents, target, eventType, listener, capture);
 753 }
 754 
<span class="line-modified"> 755 inline bool InspectorInstrumentation::isEventListenerDisabled(EventTarget&amp; target, const AtomString&amp; eventType, EventListener&amp; listener, bool capture)</span>
 756 {
 757     FAST_RETURN_IF_NO_FRONTENDS(false);
 758     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
 759         return isEventListenerDisabledImpl(*instrumentingAgents, target, eventType, listener, capture);
 760     return false;
 761 }
 762 
 763 inline void InspectorInstrumentation::didPostMessage(Frame&amp; frame, TimerBase&amp; timer, JSC::ExecState&amp; state)
 764 {
 765     FAST_RETURN_IF_NO_FRONTENDS(void());
 766     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 767         didPostMessageImpl(*instrumentingAgents, timer, state);
 768 }
 769 
 770 inline void InspectorInstrumentation::didFailPostMessage(Frame&amp; frame, TimerBase&amp; timer)
 771 {
 772     FAST_RETURN_IF_NO_FRONTENDS(void());
 773     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 774         didFailPostMessageImpl(*instrumentingAgents, timer);
 775 }
</pre>
<hr />
<pre>
 794     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 795         return willCallFunctionImpl(*instrumentingAgents, scriptName, scriptLine, scriptColumn, context);
 796     return InspectorInstrumentationCookie();
 797 }
 798 
 799 inline void InspectorInstrumentation::didCallFunction(const InspectorInstrumentationCookie&amp; cookie, ScriptExecutionContext* context)
 800 {
 801     FAST_RETURN_IF_NO_FRONTENDS(void());
 802     if (cookie.isValid())
 803         didCallFunctionImpl(cookie, context);
 804 }
 805 
 806 inline InspectorInstrumentationCookie InspectorInstrumentation::willDispatchEvent(Document&amp; document, const Event&amp; event, bool hasEventListeners)
 807 {
 808     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());
 809     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
 810         return willDispatchEventImpl(*instrumentingAgents, document, event, hasEventListeners);
 811     return InspectorInstrumentationCookie();
 812 }
 813 
<span class="line-modified"> 814 inline void InspectorInstrumentation::didDispatchEvent(const InspectorInstrumentationCookie&amp; cookie, bool defaultPrevented)</span>
 815 {
 816     FAST_RETURN_IF_NO_FRONTENDS(void());
 817     if (cookie.isValid())
<span class="line-modified"> 818         didDispatchEventImpl(cookie, defaultPrevented);</span>
 819 }
 820 
<span class="line-modified"> 821 inline void InspectorInstrumentation::willHandleEvent(ScriptExecutionContext&amp; context, Event&amp; event, const RegisteredEventListener&amp; listener)</span>
 822 {
 823     FAST_RETURN_IF_NO_FRONTENDS(void());
 824     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 825         return willHandleEventImpl(*instrumentingAgents, event, listener);
 826 }
 827 
 828 inline void InspectorInstrumentation::didHandleEvent(ScriptExecutionContext&amp; context)
 829 {
 830     FAST_RETURN_IF_NO_FRONTENDS(void());
 831     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
 832         return didHandleEventImpl(*instrumentingAgents);
 833 }
 834 
 835 inline InspectorInstrumentationCookie InspectorInstrumentation::willDispatchEventOnWindow(Frame* frame, const Event&amp; event, DOMWindow&amp; window)
 836 {
 837     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());
 838     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 839         return willDispatchEventOnWindowImpl(*instrumentingAgents, event, window);
 840     return InspectorInstrumentationCookie();
 841 }
 842 
<span class="line-modified"> 843 inline void InspectorInstrumentation::didDispatchEventOnWindow(const InspectorInstrumentationCookie&amp; cookie, bool defaultPrevented)</span>
 844 {
 845     FAST_RETURN_IF_NO_FRONTENDS(void());
 846     if (cookie.isValid())
<span class="line-modified"> 847         didDispatchEventOnWindowImpl(cookie, defaultPrevented);</span>
 848 }
 849 
 850 inline void InspectorInstrumentation::eventDidResetAfterDispatch(const Event&amp; event)
 851 {
 852     FAST_RETURN_IF_NO_FRONTENDS(void());
 853 
 854     if (!is&lt;Node&gt;(event.target()))
 855         return;
 856 
 857     auto* node = downcast&lt;Node&gt;(event.target());
 858     if (auto* instrumentingAgents = instrumentingAgentsForContext(node-&gt;scriptExecutionContext()))
 859         return eventDidResetAfterDispatchImpl(*instrumentingAgents, event);
 860 }
 861 
 862 inline InspectorInstrumentationCookie InspectorInstrumentation::willEvaluateScript(Frame&amp; frame, const String&amp; url, int lineNumber, int columnNumber)
 863 {
 864     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());
 865     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
 866         return willEvaluateScriptImpl(*instrumentingAgents, frame, url, lineNumber, columnNumber);
 867     return InspectorInstrumentationCookie();
</pre>
<hr />
<pre>
1089     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1090         willLoadXHRSynchronouslyImpl(*instrumentingAgents);
1091 }
1092 
1093 inline void InspectorInstrumentation::didLoadXHRSynchronously(ScriptExecutionContext* context)
1094 {
1095     FAST_RETURN_IF_NO_FRONTENDS(void());
1096     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1097         didLoadXHRSynchronouslyImpl(*instrumentingAgents);
1098 }
1099 
1100 inline void InspectorInstrumentation::scriptImported(ScriptExecutionContext&amp; context, unsigned long identifier, const String&amp; sourceString)
1101 {
1102     FAST_RETURN_IF_NO_FRONTENDS(void());
1103     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1104         scriptImportedImpl(*instrumentingAgents, identifier, sourceString);
1105 }
1106 
1107 inline void InspectorInstrumentation::scriptExecutionBlockedByCSP(ScriptExecutionContext* context, const String&amp; directiveText)
1108 {
<span class="line-added">1109     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1110     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1111         scriptExecutionBlockedByCSPImpl(*instrumentingAgents, directiveText);
1112 }
1113 
1114 inline void InspectorInstrumentation::didReceiveScriptResponse(ScriptExecutionContext* context, unsigned long identifier)
1115 {
1116     FAST_RETURN_IF_NO_FRONTENDS(void());
1117     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1118         didReceiveScriptResponseImpl(*instrumentingAgents, identifier);
1119 }
1120 
1121 inline void InspectorInstrumentation::domContentLoadedEventFired(Frame&amp; frame)
1122 {
<span class="line-added">1123     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1124     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1125         domContentLoadedEventFiredImpl(*instrumentingAgents, frame);
1126 }
1127 
1128 inline void InspectorInstrumentation::loadEventFired(Frame* frame)
1129 {
<span class="line-added">1130     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1131     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1132         loadEventFiredImpl(*instrumentingAgents, frame);
1133 }
1134 
1135 inline void InspectorInstrumentation::frameDetachedFromParent(Frame&amp; frame)
1136 {
<span class="line-added">1137     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1138     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1139         frameDetachedFromParentImpl(*instrumentingAgents, frame);
1140 }
1141 
1142 inline void InspectorInstrumentation::didCommitLoad(Frame&amp; frame, DocumentLoader* loader)
1143 {
1144     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1145         didCommitLoadImpl(*instrumentingAgents, frame, loader);
1146 }
1147 
1148 inline void InspectorInstrumentation::frameDocumentUpdated(Frame&amp; frame)
1149 {
1150     FAST_RETURN_IF_NO_FRONTENDS(void());
1151     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1152         frameDocumentUpdatedImpl(*instrumentingAgents, frame);
1153 }
1154 
1155 inline void InspectorInstrumentation::loaderDetachedFromFrame(Frame&amp; frame, DocumentLoader&amp; loader)
1156 {
<span class="line-added">1157     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1158     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1159         loaderDetachedFromFrameImpl(*instrumentingAgents, loader);
1160 }
1161 
1162 inline void InspectorInstrumentation::frameStartedLoading(Frame&amp; frame)
1163 {
<span class="line-added">1164     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1165     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1166         frameStartedLoadingImpl(*instrumentingAgents, frame);
1167 }
1168 
1169 inline void InspectorInstrumentation::frameStoppedLoading(Frame&amp; frame)
1170 {
<span class="line-added">1171     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1172     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1173         frameStoppedLoadingImpl(*instrumentingAgents, frame);
1174 }
1175 
1176 inline void InspectorInstrumentation::frameScheduledNavigation(Frame&amp; frame, Seconds delay)
1177 {
<span class="line-added">1178     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1179     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1180         frameScheduledNavigationImpl(*instrumentingAgents, frame, delay);
1181 }
1182 
1183 inline void InspectorInstrumentation::frameClearedScheduledNavigation(Frame&amp; frame)
1184 {
<span class="line-added">1185     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1186     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1187         frameClearedScheduledNavigationImpl(*instrumentingAgents, frame);
1188 }
1189 
1190 inline void InspectorInstrumentation::defaultAppearanceDidChange(Page&amp; page, bool useDarkAppearance)
1191 {
1192     FAST_RETURN_IF_NO_FRONTENDS(void());
1193     defaultAppearanceDidChangeImpl(instrumentingAgentsForPage(page), useDarkAppearance);
1194 }
1195 
1196 inline void InspectorInstrumentation::willDestroyCachedResource(CachedResource&amp; cachedResource)
1197 {
1198     FAST_RETURN_IF_NO_FRONTENDS(void());
1199     willDestroyCachedResourceImpl(cachedResource);
1200 }
1201 
<span class="line-modified">1202 inline void InspectorInstrumentation::didOpenDatabase(Database&amp; database)</span>
1203 {
<span class="line-modified">1204     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">1205     if (auto* instrumentingAgents = instrumentingAgentsForContext(database.document()))</span>
<span class="line-added">1206         didOpenDatabaseImpl(*instrumentingAgents, database);</span>
1207 }
1208 
1209 inline void InspectorInstrumentation::didDispatchDOMStorageEvent(Page&amp; page, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType storageType, SecurityOrigin* securityOrigin)
1210 {
1211     FAST_RETURN_IF_NO_FRONTENDS(void());
1212     didDispatchDOMStorageEventImpl(instrumentingAgentsForPage(page), key, oldValue, newValue, storageType, securityOrigin);
1213 }
1214 
1215 inline bool InspectorInstrumentation::shouldWaitForDebuggerOnStart(ScriptExecutionContext&amp; context)
1216 {
1217     FAST_RETURN_IF_NO_FRONTENDS(false);
1218     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
1219         return shouldWaitForDebuggerOnStartImpl(*instrumentingAgents);
1220     return false;
1221 }
1222 
1223 inline void InspectorInstrumentation::workerStarted(ScriptExecutionContext&amp; context, WorkerInspectorProxy* proxy, const URL&amp; url)
1224 {
1225     FAST_RETURN_IF_NO_FRONTENDS(void());
1226     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
</pre>
<hr />
<pre>
1283         didSendWebSocketFrameImpl(*instrumentingAgents, identifier, frame);
1284 }
1285 
1286 #if ENABLE(RESOURCE_USAGE)
1287 inline void InspectorInstrumentation::didHandleMemoryPressure(Page&amp; page, Critical critical)
1288 {
1289     FAST_RETURN_IF_NO_FRONTENDS(void());
1290     didHandleMemoryPressureImpl(instrumentingAgentsForPage(page), critical);
1291 }
1292 #endif
1293 
1294 inline void InspectorInstrumentation::didChangeCSSCanvasClientNodes(CanvasBase&amp; canvasBase)
1295 {
1296     FAST_RETURN_IF_NO_FRONTENDS(void());
1297     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(canvasBase.scriptExecutionContext()))
1298         didChangeCSSCanvasClientNodesImpl(*instrumentingAgents, canvasBase);
1299 }
1300 
1301 inline void InspectorInstrumentation::didCreateCanvasRenderingContext(CanvasRenderingContext&amp; context)
1302 {
<span class="line-added">1303     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1304     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1305         didCreateCanvasRenderingContextImpl(*instrumentingAgents, context);
1306 }
1307 
1308 inline void InspectorInstrumentation::didChangeCanvasMemory(CanvasRenderingContext&amp; context)
1309 {
1310     FAST_RETURN_IF_NO_FRONTENDS(void());
1311     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1312         didChangeCanvasMemoryImpl(*instrumentingAgents, context);
1313 }
1314 
<span class="line-modified">1315 inline void InspectorInstrumentation::recordCanvasAction(CanvasRenderingContext&amp; context, const String&amp; name, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; parameters)</span>
1316 {
1317     FAST_RETURN_IF_NO_FRONTENDS(void());
1318     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1319         recordCanvasActionImpl(*instrumentingAgents, context, name, WTFMove(parameters));
1320 }
1321 
1322 inline void InspectorInstrumentation::didFinishRecordingCanvasFrame(CanvasRenderingContext&amp; context, bool forceDispatch)
1323 {
1324     FAST_RETURN_IF_NO_FRONTENDS(void());
1325     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1326         didFinishRecordingCanvasFrameImpl(*instrumentingAgents, context, forceDispatch);
1327 }
1328 
1329 #if ENABLE(WEBGL)
1330 inline void InspectorInstrumentation::didEnableExtension(WebGLRenderingContextBase&amp; contextWebGLBase, const String&amp; extension)
1331 {
1332     FAST_RETURN_IF_NO_FRONTENDS(void());
1333     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1334         didEnableExtensionImpl(*instrumentingAgents, contextWebGLBase, extension);
1335 }
1336 
1337 inline void InspectorInstrumentation::didCreateProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)
1338 {
<span class="line-added">1339     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1340     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1341         didCreateProgramImpl(*instrumentingAgents, contextWebGLBase, program);
1342 }
1343 
1344 inline void InspectorInstrumentation::willDeleteProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)
1345 {
<span class="line-added">1346     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1347     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1348         willDeleteProgramImpl(*instrumentingAgents, program);
1349 }
1350 
1351 inline bool InspectorInstrumentation::isShaderProgramDisabled(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)
1352 {
1353     FAST_RETURN_IF_NO_FRONTENDS(false);
1354     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1355         return isShaderProgramDisabledImpl(*instrumentingAgents, program);
1356     return false;
1357 }
1358 
1359 inline bool InspectorInstrumentation::isShaderProgramHighlighted(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)
1360 {
1361     FAST_RETURN_IF_NO_FRONTENDS(false);
1362     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
1363         return isShaderProgramHighlightedImpl(*instrumentingAgents, program);
1364     return false;
1365 }
1366 #endif
</pre>
<hr />
<pre>
1371     networkStateChangedImpl(instrumentingAgentsForPage(page));
1372 }
1373 
1374 inline void InspectorInstrumentation::updateApplicationCacheStatus(Frame* frame)
1375 {
1376     FAST_RETURN_IF_NO_FRONTENDS(void());
1377     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
1378         updateApplicationCacheStatusImpl(*instrumentingAgents, *frame);
1379 }
1380 
1381 inline void InspectorInstrumentation::addMessageToConsole(Page&amp; page, std::unique_ptr&lt;Inspector::ConsoleMessage&gt; message)
1382 {
1383     addMessageToConsoleImpl(instrumentingAgentsForPage(page), WTFMove(message));
1384 }
1385 
1386 inline void InspectorInstrumentation::addMessageToConsole(WorkerGlobalScope&amp; workerGlobalScope, std::unique_ptr&lt;Inspector::ConsoleMessage&gt; message)
1387 {
1388     addMessageToConsoleImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), WTFMove(message));
1389 }
1390 
<span class="line-modified">1391 inline void InspectorInstrumentation::consoleCount(Page&amp; page, JSC::ExecState* state, const String&amp; label)</span>
1392 {
<span class="line-modified">1393     consoleCountImpl(instrumentingAgentsForPage(page), state, label);</span>
1394 }
1395 
<span class="line-modified">1396 inline void InspectorInstrumentation::consoleCount(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* state, const String&amp; label)</span>
1397 {
<span class="line-modified">1398     consoleCountImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, label);</span>
<span class="line-added">1399 }</span>
<span class="line-added">1400 </span>
<span class="line-added">1401 inline void InspectorInstrumentation::consoleCountReset(Page&amp; page, JSC::ExecState* state, const String&amp; label)</span>
<span class="line-added">1402 {</span>
<span class="line-added">1403     consoleCountResetImpl(instrumentingAgentsForPage(page), state, label);</span>
<span class="line-added">1404 }</span>
<span class="line-added">1405 </span>
<span class="line-added">1406 inline void InspectorInstrumentation::consoleCountReset(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* state, const String&amp; label)</span>
<span class="line-added">1407 {</span>
<span class="line-added">1408     consoleCountResetImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, label);</span>
1409 }
1410 
1411 inline void InspectorInstrumentation::takeHeapSnapshot(Frame&amp; frame, const String&amp; title)
1412 {
1413     FAST_RETURN_IF_NO_FRONTENDS(void());
1414     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1415         takeHeapSnapshotImpl(*instrumentingAgents, title);
1416 }
1417 
<span class="line-modified">1418 inline void InspectorInstrumentation::startConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label)</span>
1419 {
<span class="line-modified">1420     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">1421         startConsoleTimingImpl(*instrumentingAgents, frame, exec, label);</span>
1422 }
1423 
<span class="line-modified">1424 inline void InspectorInstrumentation::startConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label)</span>
1425 {
<span class="line-modified">1426     startConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label);</span>
1427 }
1428 
<span class="line-modified">1429 inline void InspectorInstrumentation::logConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
1430 {
<span class="line-modified">1431     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">1432         logConsoleTimingImpl(*instrumentingAgents, exec, label, WTFMove(arguments));</span>
1433 }
1434 
<span class="line-modified">1435 inline void InspectorInstrumentation::logConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
1436 {
<span class="line-modified">1437     logConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label, WTFMove(arguments));</span>
<span class="line-added">1438 }</span>
<span class="line-added">1439 </span>
<span class="line-added">1440 inline void InspectorInstrumentation::stopConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label)</span>
<span class="line-added">1441 {</span>
<span class="line-added">1442     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-added">1443         stopConsoleTimingImpl(*instrumentingAgents, frame, exec, label);</span>
<span class="line-added">1444 }</span>
<span class="line-added">1445 </span>
<span class="line-added">1446 inline void InspectorInstrumentation::stopConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label)</span>
<span class="line-added">1447 {</span>
<span class="line-added">1448     stopConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label);</span>
1449 }
1450 
1451 inline void InspectorInstrumentation::consoleTimeStamp(Frame&amp; frame, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)
1452 {
1453     FAST_RETURN_IF_NO_FRONTENDS(void());
1454     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
1455         consoleTimeStampImpl(*instrumentingAgents, frame, WTFMove(arguments));
1456 }
1457 
1458 inline void InspectorInstrumentation::startProfiling(Page&amp; page, JSC::ExecState* exec, const String &amp;title)
1459 {
<span class="line-added">1460     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1461     startProfilingImpl(instrumentingAgentsForPage(page), exec, title);
1462 }
1463 
1464 inline void InspectorInstrumentation::stopProfiling(Page&amp; page, JSC::ExecState* exec, const String &amp;title)
1465 {
<span class="line-added">1466     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1467     stopProfilingImpl(instrumentingAgentsForPage(page), exec, title);
1468 }
1469 
1470 inline void InspectorInstrumentation::consoleStartRecordingCanvas(CanvasRenderingContext&amp; context, JSC::ExecState&amp; exec, JSC::JSObject* options)
1471 {
1472     FAST_RETURN_IF_NO_FRONTENDS(void());
1473     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
1474         consoleStartRecordingCanvasImpl(*instrumentingAgents, context, exec, options);
1475 }
1476 
1477 inline void InspectorInstrumentation::didRequestAnimationFrame(Document&amp; document, int callbackId)
1478 {
<span class="line-added">1479     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1480     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
1481         didRequestAnimationFrameImpl(*instrumentingAgents, callbackId, document);
1482 }
1483 
1484 inline void InspectorInstrumentation::didCancelAnimationFrame(Document&amp; document, int callbackId)
1485 {
<span class="line-added">1486     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
1487     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
1488         didCancelAnimationFrameImpl(*instrumentingAgents, callbackId, document);
1489 }
1490 
1491 inline InspectorInstrumentationCookie InspectorInstrumentation::willFireAnimationFrame(Document&amp; document, int callbackId)
1492 {
1493     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());
1494     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
1495         return willFireAnimationFrameImpl(*instrumentingAgents, callbackId, document);
1496     return InspectorInstrumentationCookie();
1497 }
1498 
1499 inline void InspectorInstrumentation::didFireAnimationFrame(const InspectorInstrumentationCookie&amp; cookie)
1500 {
1501     FAST_RETURN_IF_NO_FRONTENDS(void());
1502     if (cookie.isValid())
1503         didFireAnimationFrameImpl(cookie);
1504 }
1505 
1506 inline InspectorInstrumentationCookie InspectorInstrumentation::willFireObserverCallback(ScriptExecutionContext&amp; context, const String&amp; callbackType)
</pre>
</td>
</tr>
</table>
<center><a href="InspectorInstrumentation.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorNodeFinder.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>