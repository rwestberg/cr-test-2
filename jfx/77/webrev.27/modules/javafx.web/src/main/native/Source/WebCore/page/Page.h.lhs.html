<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/WebCore/page/Page.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (C) 2006-2017 Apple Inc. All rights reserved.
  3  * Copyright (C) 2008 Torch Mobile Inc. All rights reserved. (http://www.torchmobile.com/)
  4  *
  5  * This library is free software; you can redistribute it and/or
  6  * modify it under the terms of the GNU Library General Public
  7  * License as published by the Free Software Foundation; either
  8  * version 2 of the License, or (at your option) any later version.
  9  *
 10  * This library is distributed in the hope that it will be useful,
 11  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 12  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 13  * Library General Public License for more details.
 14  *
 15  * You should have received a copy of the GNU Library General Public License
 16  * along with this library; see the file COPYING.LIB.  If not, write to
 17  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 18  * Boston, MA 02110-1301, USA.
 19  */
 20 
 21 #pragma once
 22 
 23 #include &quot;ActivityState.h&quot;
 24 #include &quot;DisabledAdaptations.h&quot;
 25 #include &quot;Document.h&quot;
 26 #include &quot;FindOptions.h&quot;
 27 #include &quot;FrameLoaderTypes.h&quot;
 28 #include &quot;LayoutMilestone.h&quot;
 29 #include &quot;LayoutRect.h&quot;
 30 #include &quot;LengthBox.h&quot;
 31 #include &quot;MediaProducer.h&quot;
 32 #include &quot;Pagination.h&quot;
 33 #include &quot;RTCController.h&quot;
 34 #include &quot;Region.h&quot;
<a name="1" id="anc1"></a>

 35 #include &quot;ScrollTypes.h&quot;
 36 #include &quot;Supplementable.h&quot;
 37 #include &quot;Timer.h&quot;
 38 #include &quot;UserInterfaceLayoutDirection.h&quot;
 39 #include &quot;ViewportArguments.h&quot;
 40 #include &quot;VisibilityState.h&quot;
 41 #include &quot;WheelEventTestTrigger.h&quot;
 42 #include &lt;memory&gt;
 43 #include &lt;pal/SessionID.h&gt;
<a name="2" id="anc2"></a>
 44 #include &lt;wtf/Forward.h&gt;
 45 #include &lt;wtf/Function.h&gt;
 46 #include &lt;wtf/HashSet.h&gt;
 47 #include &lt;wtf/Noncopyable.h&gt;
 48 #include &lt;wtf/Ref.h&gt;
 49 #include &lt;wtf/UniqueRef.h&gt;
 50 #include &lt;wtf/WeakPtr.h&gt;
 51 #include &lt;wtf/text/WTFString.h&gt;
 52 
 53 #if PLATFORM(COCOA)
 54 #include &lt;wtf/SchedulePair.h&gt;
 55 #endif
 56 
 57 #if ENABLE(APPLICATION_MANIFEST)
 58 #include &quot;ApplicationManifest.h&quot;
 59 #endif
 60 
 61 #if ENABLE(MEDIA_SESSION)
 62 #include &quot;MediaSessionEvents.h&quot;
 63 #endif
 64 
 65 #if ENABLE(WIRELESS_PLAYBACK_TARGET)
 66 #include &quot;MediaPlaybackTargetContext.h&quot;
 67 #endif
 68 
 69 namespace JSC {
 70 class Debugger;
 71 }
 72 
 73 namespace WebCore {
 74 
 75 namespace IDBClient {
 76 class IDBConnectionToServer;
 77 }
 78 
 79 class AlternativeTextClient;
 80 class ApplicationCacheStorage;
 81 class AuthenticatorCoordinator;
 82 class BackForwardController;
 83 class BackForwardClient;
 84 class CacheStorageProvider;
 85 class Chrome;
 86 class ChromeClient;
 87 class Color;
 88 class ContextMenuClient;
 89 class ContextMenuController;
 90 class CookieJar;
 91 class DOMRect;
 92 class DOMRectList;
 93 class DatabaseProvider;
 94 class DiagnosticLoggingClient;
 95 class DragCaretController;
 96 class DragClient;
 97 class DragController;
 98 class EditorClient;
 99 class Element;
100 class FocusController;
101 class Frame;
102 class FrameLoaderClient;
103 class HistoryItem;
104 class HTMLMediaElement;
105 class UserInputBridge;
106 class InspectorClient;
107 class InspectorController;
108 class LibWebRTCProvider;
109 class LowPowerModeNotifier;
110 class MediaCanStartListener;
111 class MediaPlaybackTarget;
112 class PageConfiguration;
113 class PageConsoleClient;
114 class PageDebuggable;
115 class PageGroup;
116 class PageOverlayController;
117 class PaymentCoordinator;
118 class PerformanceLogging;
119 class PerformanceLoggingClient;
120 class PerformanceMonitor;
121 class PlugInClient;
122 class PluginData;
123 class PluginInfoProvider;
124 class PluginViewBase;
125 class PointerCaptureController;
126 class PointerLockController;
127 class ProgressTracker;
128 class ProgressTrackerClient;
129 class Range;
130 class RenderObject;
131 class RenderTheme;
132 class ResourceUsageOverlay;
133 class VisibleSelection;
134 class ScrollLatchingState;
135 class ScrollableArea;
136 class ScrollingCoordinator;
137 class ServicesOverlayController;
138 class Settings;
139 class SocketProvider;
140 class StorageNamespace;
141 class StorageNamespaceProvider;
142 class UserContentProvider;
143 class ValidationMessageClient;
144 class ActivityStateChangeObserver;
145 class VisitedLinkStore;
146 class WebGLStateTracker;
<a name="3" id="anc3"></a>
147 class WheelEventDeltaFilter;
148 
149 typedef uint64_t SharedStringHash;
150 
151 enum FindDirection {
152     FindDirectionForward,
153     FindDirectionBackward
154 };
155 
156 enum class EventThrottlingBehavior {
157     Responsive,
158     Unresponsive
159 };
160 
161 enum class CompositingPolicy : uint8_t {
162     Normal,
163     Conservative, // Used in low memory situations.
164 };
165 
166 enum class CanWrap : bool;
167 enum class DidWrap : bool;
168 enum class RouteSharingPolicy : uint8_t;
169 enum class ShouldTreatAsContinuingLoad : bool;
170 
171 class Page : public Supplementable&lt;Page&gt;, public CanMakeWeakPtr&lt;Page&gt; {
172     WTF_MAKE_NONCOPYABLE(Page);
173     WTF_MAKE_FAST_ALLOCATED;
174     friend class SettingsBase;
175 
176 public:
177     WEBCORE_EXPORT static void updateStyleForAllPagesAfterGlobalChangeInEnvironment();
178     WEBCORE_EXPORT static void clearPreviousItemFromAllPages(HistoryItem*);
179 
180     void updateStyleAfterChangeInEnvironment();
181 
182     WEBCORE_EXPORT explicit Page(PageConfiguration&amp;&amp;);
183     WEBCORE_EXPORT ~Page();
184 
185     WEBCORE_EXPORT uint64_t renderTreeSize() const;
186 
187     WEBCORE_EXPORT void setNeedsRecalcStyleInAllFrames();
188 
189     WEBCORE_EXPORT OptionSet&lt;DisabledAdaptations&gt; disabledAdaptations() const;
190     WEBCORE_EXPORT ViewportArguments viewportArguments() const;
191 
<a name="4" id="anc4"></a>


192     static void refreshPlugins(bool reload);
193     WEBCORE_EXPORT PluginData&amp; pluginData();
194     void clearPluginData();
195 
196     WEBCORE_EXPORT void setCanStartMedia(bool);
197     bool canStartMedia() const { return m_canStartMedia; }
198 
199     EditorClient&amp; editorClient() { return m_editorClient.get(); }
200     PlugInClient* plugInClient() const { return m_plugInClient; }
201 
202     Frame&amp; mainFrame() { return m_mainFrame.get(); }
203     const Frame&amp; mainFrame() const { return m_mainFrame.get(); }
204 
205     bool openedByDOM() const;
206     void setOpenedByDOM();
207 
208     bool openedByDOMWithOpener() const { return m_openedByDOMWithOpener; }
209     void setOpenedByDOMWithOpener() { m_openedByDOMWithOpener = true; }
210 
211     WEBCORE_EXPORT void goToItem(HistoryItem&amp;, FrameLoadType, ShouldTreatAsContinuingLoad);
212 
213     WEBCORE_EXPORT void setGroupName(const String&amp;);
214     WEBCORE_EXPORT const String&amp; groupName() const;
215 
216     PageGroup&amp; group();
217 
218     WEBCORE_EXPORT static void forEachPage(const WTF::Function&lt;void(Page&amp;)&gt;&amp;);
219 
220     void incrementSubframeCount() { ++m_subframeCount; }
221     void decrementSubframeCount() { ASSERT(m_subframeCount); --m_subframeCount; }
222     int subframeCount() const { checkSubframeCountConsistency(); return m_subframeCount; }
223 
224     void incrementNestedRunLoopCount();
225     void decrementNestedRunLoopCount();
226     bool insideNestedRunLoop() const { return m_nestedRunLoopCount &gt; 0; }
227     WEBCORE_EXPORT void whenUnnested(WTF::Function&lt;void()&gt;&amp;&amp;);
228 
229 #if ENABLE(REMOTE_INSPECTOR)
230     WEBCORE_EXPORT bool remoteInspectionAllowed() const;
231     WEBCORE_EXPORT void setRemoteInspectionAllowed(bool);
232     WEBCORE_EXPORT String remoteInspectionNameOverride() const;
233     WEBCORE_EXPORT void setRemoteInspectionNameOverride(const String&amp;);
234     void remoteInspectorInformationDidChange() const;
235 #endif
236 
237     Chrome&amp; chrome() const { return *m_chrome; }
238     DragCaretController&amp; dragCaretController() const { return *m_dragCaretController; }
239 #if ENABLE(DRAG_SUPPORT)
240     DragController&amp; dragController() const { return *m_dragController; }
241 #endif
242     FocusController&amp; focusController() const { return *m_focusController; }
243 #if ENABLE(CONTEXT_MENUS)
244     ContextMenuController&amp; contextMenuController() const { return *m_contextMenuController; }
245 #endif
246     UserInputBridge&amp; userInputBridge() const { return *m_userInputBridge; }
247     InspectorController&amp; inspectorController() const { return *m_inspectorController; }
248 #if ENABLE(POINTER_EVENTS)
249     PointerCaptureController&amp; pointerCaptureController() const { return *m_pointerCaptureController; }
250 #endif
251 #if ENABLE(POINTER_LOCK)
252     PointerLockController&amp; pointerLockController() const { return *m_pointerLockController; }
253 #endif
254     LibWebRTCProvider&amp; libWebRTCProvider() { return m_libWebRTCProvider.get(); }
255     RTCController&amp; rtcController() { return m_rtcController; }
256     WEBCORE_EXPORT void disableICECandidateFiltering();
257     WEBCORE_EXPORT void enableICECandidateFiltering();
258     bool shouldEnableICECandidateFilteringByDefault() const { return m_shouldEnableICECandidateFilteringByDefault; }
259 
260     void didChangeMainDocument();
261 
262     PerformanceMonitor* performanceMonitor() { return m_performanceMonitor.get(); }
263 
<a name="5" id="anc5"></a>

264     ValidationMessageClient* validationMessageClient() const { return m_validationMessageClient.get(); }
265     void updateValidationBubbleStateIfNeeded();
266 
267     WEBCORE_EXPORT ScrollingCoordinator* scrollingCoordinator();
268 
269     WEBCORE_EXPORT String scrollingStateTreeAsText();
270     WEBCORE_EXPORT String synchronousScrollingReasonsAsText();
271     WEBCORE_EXPORT Ref&lt;DOMRectList&gt; nonFastScrollableRects();
272 
273     WEBCORE_EXPORT Ref&lt;DOMRectList&gt; touchEventRectsForEvent(const String&amp; eventName);
274     WEBCORE_EXPORT Ref&lt;DOMRectList&gt; passiveTouchEventListenerRects();
275 
276     Settings&amp; settings() const { return *m_settings; }
277     ProgressTracker&amp; progress() const { return *m_progress; }
278     BackForwardController&amp; backForward() const { return *m_backForwardController; }
279 
280     Seconds domTimerAlignmentInterval() const { return m_domTimerAlignmentInterval; }
281 
282     void setTabKeyCyclesThroughElements(bool b) { m_tabKeyCyclesThroughElements = b; }
283     bool tabKeyCyclesThroughElements() const { return m_tabKeyCyclesThroughElements; }
284 
285     WEBCORE_EXPORT bool findString(const String&amp;, FindOptions, DidWrap* = nullptr);
286     WEBCORE_EXPORT uint32_t replaceRangesWithText(const Vector&lt;Ref&lt;Range&gt;&gt;&amp; rangesToReplace, const String&amp; replacementText, bool selectionOnly);
287     WEBCORE_EXPORT uint32_t replaceSelectionWithText(const String&amp; replacementText);
288 
289     WEBCORE_EXPORT RefPtr&lt;Range&gt; rangeOfString(const String&amp;, Range*, FindOptions);
290 
291     WEBCORE_EXPORT unsigned countFindMatches(const String&amp;, FindOptions, unsigned maxMatchCount);
292     WEBCORE_EXPORT unsigned markAllMatchesForText(const String&amp;, FindOptions, bool shouldHighlight, unsigned maxMatchCount);
293 
294     WEBCORE_EXPORT void unmarkAllTextMatches();
295 
<a name="6" id="anc6"></a>


296     // find all the Ranges for the matching text.
297     // Upon return, indexForSelection will be one of the following:
298     // 0 if there is no user selection
299     // the index of the first range after the user selection
300     // NoMatchAfterUserSelection if there is no matching text after the user selection.
301     enum { NoMatchAfterUserSelection = -1 };
302     WEBCORE_EXPORT void findStringMatchingRanges(const String&amp;, FindOptions, int maxCount, Vector&lt;RefPtr&lt;Range&gt;&gt;&amp;, int&amp; indexForSelection);
303 #if PLATFORM(COCOA)
304     void platformInitialize();
305     WEBCORE_EXPORT void addSchedulePair(Ref&lt;SchedulePair&gt;&amp;&amp;);
306     WEBCORE_EXPORT void removeSchedulePair(Ref&lt;SchedulePair&gt;&amp;&amp;);
307     SchedulePairHashSet* scheduledRunLoopPairs() { return m_scheduledRunLoopPairs.get(); }
308 
309     std::unique_ptr&lt;SchedulePairHashSet&gt; m_scheduledRunLoopPairs;
310 #endif
311 
312     WEBCORE_EXPORT const VisibleSelection&amp; selection() const;
313 
314     WEBCORE_EXPORT void setDefersLoading(bool);
315     bool defersLoading() const { return m_defersLoading; }
316 
317     WEBCORE_EXPORT void clearUndoRedoOperations();
318 
319     WEBCORE_EXPORT bool inLowQualityImageInterpolationMode() const;
320     WEBCORE_EXPORT void setInLowQualityImageInterpolationMode(bool = true);
321 
322     float mediaVolume() const { return m_mediaVolume; }
323     WEBCORE_EXPORT void setMediaVolume(float);
324 
325     WEBCORE_EXPORT void setPageScaleFactor(float scale, const IntPoint&amp; origin, bool inStableState = true);
326     float pageScaleFactor() const { return m_pageScaleFactor; }
327 
328     UserInterfaceLayoutDirection userInterfaceLayoutDirection() const { return m_userInterfaceLayoutDirection; }
329     WEBCORE_EXPORT void setUserInterfaceLayoutDirection(UserInterfaceLayoutDirection);
330 
331     WEBCORE_EXPORT void updateMediaElementRateChangeRestrictions();
332 
333     void didStartProvisionalLoad();
334     void didFinishLoad(); // Called when the load has been committed in the main frame.
335 
<a name="7" id="anc7"></a><span class="line-removed">336     WEBCORE_EXPORT void willDisplayPage();</span>
<span class="line-removed">337 </span>
338     // The view scale factor is multiplied into the page scale factor by all
339     // callers of setPageScaleFactor.
340     WEBCORE_EXPORT void setViewScaleFactor(float);
341     float viewScaleFactor() const { return m_viewScaleFactor; }
342 
343     WEBCORE_EXPORT void setZoomedOutPageScaleFactor(float);
344     float zoomedOutPageScaleFactor() const { return m_zoomedOutPageScaleFactor; }
345 
346     float deviceScaleFactor() const { return m_deviceScaleFactor; }
347     WEBCORE_EXPORT void setDeviceScaleFactor(float);
348 
<a name="8" id="anc8"></a>


349     float topContentInset() const { return m_topContentInset; }
350     WEBCORE_EXPORT void setTopContentInset(float);
351 
352     const FloatBoxExtent&amp; obscuredInsets() const { return m_obscuredInsets; }
353     void setObscuredInsets(const FloatBoxExtent&amp; obscuredInsets) { m_obscuredInsets = obscuredInsets; }
354 
355     const FloatBoxExtent&amp; contentInsets() const { return m_contentInsets; }
356     void setContentInsets(const FloatBoxExtent&amp; insets) { m_contentInsets = insets; }
357 
358     const FloatBoxExtent&amp; unobscuredSafeAreaInsets() const { return m_unobscuredSafeAreaInsets; }
359     WEBCORE_EXPORT void setUnobscuredSafeAreaInsets(const FloatBoxExtent&amp;);
360 
361 #if PLATFORM(IOS_FAMILY)
362     bool enclosedInScrollableAncestorView() const { return m_enclosedInScrollableAncestorView; }
363     void setEnclosedInScrollableAncestorView(bool f) { m_enclosedInScrollableAncestorView = f; }
364 #endif
365 
366     bool useSystemAppearance() const { return m_useSystemAppearance; }
367     WEBCORE_EXPORT void setUseSystemAppearance(bool);
368 
369     WEBCORE_EXPORT bool useDarkAppearance() const;
<a name="9" id="anc9"></a><span class="line-modified">370     WEBCORE_EXPORT void setUseDarkAppearance(bool);</span>

371     bool defaultUseDarkAppearance() const { return m_useDarkAppearance; }
372     void setUseDarkAppearanceOverride(Optional&lt;bool&gt;);
373 
374 #if ENABLE(TEXT_AUTOSIZING)
375     float textAutosizingWidth() const { return m_textAutosizingWidth; }
376     void setTextAutosizingWidth(float textAutosizingWidth) { m_textAutosizingWidth = textAutosizingWidth; }
<a name="10" id="anc10"></a>
377 #endif
378 
379     const FloatBoxExtent&amp; fullscreenInsets() const { return m_fullscreenInsets; }
380     WEBCORE_EXPORT void setFullscreenInsets(const FloatBoxExtent&amp;);
381 
382     const Seconds fullscreenAutoHideDuration() const { return m_fullscreenAutoHideDuration; }
383     WEBCORE_EXPORT void setFullscreenAutoHideDuration(Seconds);
384     WEBCORE_EXPORT void setFullscreenControlsHidden(bool);
385 
386     bool shouldSuppressScrollbarAnimations() const { return m_suppressScrollbarAnimations; }
387     WEBCORE_EXPORT void setShouldSuppressScrollbarAnimations(bool suppressAnimations);
388     void lockAllOverlayScrollbarsToHidden(bool lockOverlayScrollbars);
389 
390     WEBCORE_EXPORT void setVerticalScrollElasticity(ScrollElasticity);
391     ScrollElasticity verticalScrollElasticity() const { return static_cast&lt;ScrollElasticity&gt;(m_verticalScrollElasticity); }
392 
393     WEBCORE_EXPORT void setHorizontalScrollElasticity(ScrollElasticity);
394     ScrollElasticity horizontalScrollElasticity() const { return static_cast&lt;ScrollElasticity&gt;(m_horizontalScrollElasticity); }
395 
396     WEBCORE_EXPORT void accessibilitySettingsDidChange();
397     WEBCORE_EXPORT void appearanceDidChange();
398 
399     // Page and FrameView both store a Pagination value. Page::pagination() is set only by API,
400     // and FrameView::pagination() is set only by CSS. Page::pagination() will affect all
401     // FrameViews in the page cache, but FrameView::pagination() only affects the current
402     // FrameView.
403     const Pagination&amp; pagination() const { return m_pagination; }
404     WEBCORE_EXPORT void setPagination(const Pagination&amp;);
405     bool paginationLineGridEnabled() const { return m_paginationLineGridEnabled; }
406     WEBCORE_EXPORT void setPaginationLineGridEnabled(bool flag);
407 
408     WEBCORE_EXPORT unsigned pageCount() const;
409 
410     WEBCORE_EXPORT DiagnosticLoggingClient&amp; diagnosticLoggingClient() const;
411 
412     PerformanceLoggingClient* performanceLoggingClient() const { return m_performanceLoggingClient.get(); }
413 
414     WheelEventDeltaFilter* wheelEventDeltaFilter() { return m_recentWheelEventDeltaFilter.get(); }
415     PageOverlayController&amp; pageOverlayController() { return *m_pageOverlayController; }
416 
<a name="11" id="anc11"></a><span class="line-removed">417     void installedPageOverlaysChanged();</span>
<span class="line-removed">418 </span>
419 #if PLATFORM(MAC)
420 #if ENABLE(SERVICE_CONTROLS) || ENABLE(TELEPHONE_NUMBER_DETECTION)
421     ServicesOverlayController&amp; servicesOverlayController() { return *m_servicesOverlayController; }
422 #endif // ENABLE(SERVICE_CONTROLS) || ENABLE(TELEPHONE_NUMBER_DETECTION)
423 
424     ScrollLatchingState* latchingState();
425     void pushNewLatchingState();
426     void popLatchingState();
427     void resetLatchingState();
428     void removeLatchingStateForTarget(Element&amp;);
429 #endif // PLATFORM(MAC)
430 
431 #if ENABLE(APPLE_PAY)
432     PaymentCoordinator&amp; paymentCoordinator() const { return *m_paymentCoordinator; }
433     WEBCORE_EXPORT void setPaymentCoordinator(std::unique_ptr&lt;PaymentCoordinator&gt;&amp;&amp;);
434 #endif
435 
436 #if ENABLE(WEB_AUTHN)
437     AuthenticatorCoordinator&amp; authenticatorCoordinator() { return m_authenticatorCoordinator.get(); }
438 #endif
439 
440 #if ENABLE(APPLICATION_MANIFEST)
441     const Optional&lt;ApplicationManifest&gt;&amp; applicationManifest() const { return m_applicationManifest; }
442 #endif
443 
444     // Notifications when the Page starts and stops being presented via a native window.
445     WEBCORE_EXPORT void setActivityState(OptionSet&lt;ActivityState::Flag&gt;);
446     OptionSet&lt;ActivityState::Flag&gt; activityState() const { return m_activityState; }
447 
448     bool isWindowActive() const;
449     bool isVisibleAndActive() const;
450     WEBCORE_EXPORT void setIsVisible(bool);
451     WEBCORE_EXPORT void setIsPrerender();
452     bool isVisible() const { return m_activityState.contains(ActivityState::IsVisible); }
453 
454     // Notification that this Page was moved into or out of a native window.
455     WEBCORE_EXPORT void setIsInWindow(bool);
456     bool isInWindow() const { return m_activityState.contains(ActivityState::IsInWindow); }
457 
458     void setIsClosing() { m_isClosing = true; }
459     bool isClosing() const { return m_isClosing; }
460 
461     void setIsRestoringCachedPage(bool value) { m_isRestoringCachedPage = value; }
462     bool isRestoringCachedPage() const { return m_isRestoringCachedPage; }
463 
464     WEBCORE_EXPORT void addActivityStateChangeObserver(ActivityStateChangeObserver&amp;);
465     WEBCORE_EXPORT void removeActivityStateChangeObserver(ActivityStateChangeObserver&amp;);
466 
<a name="12" id="anc12"></a><span class="line-modified">467 #if ENABLE(INTERSECTION_OBSERVER)</span>
<span class="line-modified">468     void addDocumentNeedingIntersectionObservationUpdate(Document&amp;);</span>
<span class="line-removed">469     void scheduleForcedIntersectionObservationUpdate(Document&amp;);</span>
<span class="line-removed">470     void updateIntersectionObservations();</span>
<span class="line-removed">471 #endif</span>
472 
473     WEBCORE_EXPORT void suspendScriptedAnimations();
474     WEBCORE_EXPORT void resumeScriptedAnimations();
475     bool scriptedAnimationsSuspended() const { return m_scriptedAnimationsSuspended; }
476 
477     void userStyleSheetLocationChanged();
478     const String&amp; userStyleSheet() const;
479 
480     WEBCORE_EXPORT void userAgentChanged();
481 
482     void dnsPrefetchingStateChanged();
483     void storageBlockingStateChanged();
484 
485 #if ENABLE(RESOURCE_USAGE)
486     void setResourceUsageOverlayVisible(bool);
487 #endif
488 
489     void setDebugger(JSC::Debugger*);
490     JSC::Debugger* debugger() const { return m_debugger; }
491 
492     WEBCORE_EXPORT void invalidateStylesForAllLinks();
493     WEBCORE_EXPORT void invalidateStylesForLink(SharedStringHash);
494 
495     void invalidateInjectedStyleSheetCacheInAllFrames();
496 
497     StorageNamespace* sessionStorage(bool optionalCreate = true);
498     void setSessionStorage(RefPtr&lt;StorageNamespace&gt;&amp;&amp;);
499 
<a name="13" id="anc13"></a><span class="line-removed">500     StorageNamespace* ephemeralLocalStorage(bool optionalCreate = true);</span>
<span class="line-removed">501     void setEphemeralLocalStorage(RefPtr&lt;StorageNamespace&gt;&amp;&amp;);</span>
<span class="line-removed">502 </span>
503     bool hasCustomHTMLTokenizerTimeDelay() const;
504     double customHTMLTokenizerTimeDelay() const;
505 
506     WEBCORE_EXPORT void setMemoryCacheClientCallsEnabled(bool);
507     bool areMemoryCacheClientCallsEnabled() const { return m_areMemoryCacheClientCallsEnabled; }
508 
509     // Don&#39;t allow more than a certain number of frames in a page.
510     // This seems like a reasonable upper bound, and otherwise mutually
511     // recursive frameset pages can quickly bring the program to its knees
512     // with exponential growth in the number of frames.
513     static const int maxNumberOfFrames = 1000;
514 
515     void setEditable(bool isEditable) { m_isEditable = isEditable; }
516     bool isEditable() { return m_isEditable; }
517 
518     WEBCORE_EXPORT VisibilityState visibilityState() const;
519     WEBCORE_EXPORT void resumeAnimatingImages();
520 
<a name="14" id="anc14"></a>

521     WEBCORE_EXPORT void addLayoutMilestones(OptionSet&lt;LayoutMilestone&gt;);
522     WEBCORE_EXPORT void removeLayoutMilestones(OptionSet&lt;LayoutMilestone&gt;);
523     OptionSet&lt;LayoutMilestone&gt; requestedLayoutMilestones() const { return m_requestedLayoutMilestones; }
524 
525     WEBCORE_EXPORT void setHeaderHeight(int);
526     WEBCORE_EXPORT void setFooterHeight(int);
527 
528     int headerHeight() const { return m_headerHeight; }
529     int footerHeight() const { return m_footerHeight; }
530 
531     WEBCORE_EXPORT Color pageExtendedBackgroundColor() const;
532 
533     bool isCountingRelevantRepaintedObjects() const;
534     void setIsCountingRelevantRepaintedObjects(bool isCounting) { m_isCountingRelevantRepaintedObjects = isCounting; }
535     void startCountingRelevantRepaintedObjects();
536     void resetRelevantPaintedObjectCounter();
537     void addRelevantRepaintedObject(RenderObject*, const LayoutRect&amp; objectPaintRect);
538     void addRelevantUnpaintedObject(RenderObject*, const LayoutRect&amp; objectPaintRect);
539 
540     WEBCORE_EXPORT void suspendActiveDOMObjectsAndAnimations();
541     WEBCORE_EXPORT void resumeActiveDOMObjectsAndAnimations();
542     void suspendDeviceMotionAndOrientationUpdates();
543     void resumeDeviceMotionAndOrientationUpdates();
544 
545 #ifndef NDEBUG
546     void setIsPainting(bool painting) { m_isPainting = painting; }
547     bool isPainting() const { return m_isPainting; }
548 #endif
549 
550     AlternativeTextClient* alternativeTextClient() const { return m_alternativeTextClient; }
551 
552     bool hasSeenPlugin(const String&amp; serviceType) const;
553     WEBCORE_EXPORT bool hasSeenAnyPlugin() const;
554     void sawPlugin(const String&amp; serviceType);
555     void resetSeenPlugins();
556 
557     bool hasSeenMediaEngine(const String&amp; engineName) const;
558     bool hasSeenAnyMediaEngine() const;
559     void sawMediaEngine(const String&amp; engineName);
560     void resetSeenMediaEngines();
561 
562     PageConsoleClient&amp; console() { return *m_consoleClient; }
563 
564 #if ENABLE(REMOTE_INSPECTOR)
565     PageDebuggable&amp; inspectorDebuggable() const { return *m_inspectorDebuggable.get(); }
566 #endif
567 
568     void hiddenPageCSSAnimationSuspensionStateChanged();
569 
570 #if ENABLE(VIDEO_TRACK)
571     void captionPreferencesChanged();
572 #endif
573 
574     void forbidPrompts();
575     void allowPrompts();
576     bool arePromptsAllowed();
577 
578     void mainFrameLoadStarted(const URL&amp;, FrameLoadType);
579 
580     void setLastSpatialNavigationCandidateCount(unsigned count) { m_lastSpatialNavigationCandidatesCount = count; }
581     unsigned lastSpatialNavigationCandidateCount() const { return m_lastSpatialNavigationCandidatesCount; }
582 
583     ApplicationCacheStorage&amp; applicationCacheStorage() { return m_applicationCacheStorage; }
584     DatabaseProvider&amp; databaseProvider() { return m_databaseProvider; }
585     CacheStorageProvider&amp; cacheStorageProvider() { return m_cacheStorageProvider; }
586     SocketProvider&amp; socketProvider() { return m_socketProvider; }
587     CookieJar&amp; cookieJar() { return m_cookieJar.get(); }
588 
589     StorageNamespaceProvider&amp; storageNamespaceProvider() { return m_storageNamespaceProvider.get(); }
<a name="15" id="anc15"></a><span class="line-removed">590     void setStorageNamespaceProvider(Ref&lt;StorageNamespaceProvider&gt;&amp;&amp;);</span>
591 
592     PluginInfoProvider&amp; pluginInfoProvider();
593 
594     WEBCORE_EXPORT UserContentProvider&amp; userContentProvider();
595     WEBCORE_EXPORT void setUserContentProvider(Ref&lt;UserContentProvider&gt;&amp;&amp;);
596 
597     VisitedLinkStore&amp; visitedLinkStore();
598     WEBCORE_EXPORT void setVisitedLinkStore(Ref&lt;VisitedLinkStore&gt;&amp;&amp;);
599 
600     WEBCORE_EXPORT PAL::SessionID sessionID() const;
601     WEBCORE_EXPORT void setSessionID(PAL::SessionID);
602     WEBCORE_EXPORT void enableLegacyPrivateBrowsing(bool privateBrowsingEnabled);
603     bool usesEphemeralSession() const { return m_sessionID.isEphemeral(); }
604 
605     MediaProducer::MediaStateFlags mediaState() const { return m_mediaState; }
606     void updateIsPlayingMedia(uint64_t);
607     MediaProducer::MutedStateFlags mutedState() const { return m_mutedState; }
608     bool isAudioMuted() const { return m_mutedState &amp; MediaProducer::AudioIsMuted; }
<a name="16" id="anc16"></a><span class="line-modified">609     bool isMediaCaptureMuted() const { return m_mutedState &amp; MediaProducer::CaptureDevicesAreMuted; };</span>
610     void schedulePlaybackControlsManagerUpdate();
611     WEBCORE_EXPORT void setMuted(MediaProducer::MutedStateFlags);
612     WEBCORE_EXPORT void stopMediaCapture();
613 
614     WEBCORE_EXPORT void stopAllMediaPlayback();
615     WEBCORE_EXPORT void suspendAllMediaPlayback();
616     WEBCORE_EXPORT void resumeAllMediaPlayback();
<a name="17" id="anc17"></a><span class="line-modified">617     bool mediaPlaybackIsSuspended() { return m_mediaPlaybackIsSuspended; }</span>



618 
619 #if ENABLE(MEDIA_SESSION)
620     WEBCORE_EXPORT void handleMediaEvent(MediaEventType);
621     WEBCORE_EXPORT void setVolumeOfMediaElement(double, uint64_t);
622 #endif
623 
624 #if ENABLE(WIRELESS_PLAYBACK_TARGET)
625     void addPlaybackTargetPickerClient(uint64_t);
626     void removePlaybackTargetPickerClient(uint64_t);
627     void showPlaybackTargetPicker(uint64_t, const IntPoint&amp;, bool, RouteSharingPolicy, const String&amp;);
628     void playbackTargetPickerClientStateDidChange(uint64_t, MediaProducer::MediaStateFlags);
629     WEBCORE_EXPORT void setMockMediaPlaybackTargetPickerEnabled(bool);
630     WEBCORE_EXPORT void setMockMediaPlaybackTargetPickerState(const String&amp;, MediaPlaybackTargetContext::State);
631 
632     WEBCORE_EXPORT void setPlaybackTarget(uint64_t, Ref&lt;MediaPlaybackTarget&gt;&amp;&amp;);
633     WEBCORE_EXPORT void playbackTargetAvailabilityDidChange(uint64_t, bool);
634     WEBCORE_EXPORT void setShouldPlayToPlaybackTarget(uint64_t, bool);
635 #endif
636 
637     RefPtr&lt;WheelEventTestTrigger&gt; testTrigger() const { return m_testTrigger; }
638     WEBCORE_EXPORT WheelEventTestTrigger&amp; ensureTestTrigger();
639     void clearTrigger() { m_testTrigger = nullptr; }
640     bool expectsWheelEventTriggers() const { return !!m_testTrigger; }
641 
<a name="18" id="anc18"></a>


642 #if ENABLE(VIDEO)
643     bool allowsMediaDocumentInlinePlayback() const { return m_allowsMediaDocumentInlinePlayback; }
644     WEBCORE_EXPORT void setAllowsMediaDocumentInlinePlayback(bool);
645 #endif
646 
647     bool allowsPlaybackControlsForAutoplayingAudio() const { return m_allowsPlaybackControlsForAutoplayingAudio; }
648     void setAllowsPlaybackControlsForAutoplayingAudio(bool allowsPlaybackControlsForAutoplayingAudio) { m_allowsPlaybackControlsForAutoplayingAudio = allowsPlaybackControlsForAutoplayingAudio; }
649 
650 #if ENABLE(INDEXED_DATABASE)
651     IDBClient::IDBConnectionToServer&amp; idbConnection();
652     WEBCORE_EXPORT IDBClient::IDBConnectionToServer* optionalIDBConnection();
653     WEBCORE_EXPORT void clearIDBConnection();
654 #endif
655 
656     void setShowAllPlugins(bool showAll) { m_showAllPlugins = showAll; }
657     bool showAllPlugins() const;
658 
659     WEBCORE_EXPORT void setDOMTimerAlignmentIntervalIncreaseLimit(Seconds);
660 
661     bool isControlledByAutomation() const { return m_controlledByAutomation; }
662     void setControlledByAutomation(bool controlled) { m_controlledByAutomation = controlled; }
663 
664     WEBCORE_EXPORT bool isAlwaysOnLoggingAllowed() const;
665 
666     String captionUserPreferencesStyleSheet();
667     void setCaptionUserPreferencesStyleSheet(const String&amp;);
668 
669     bool isResourceCachingDisabled() const { return m_resourceCachingDisabled || m_resourceCachingDisabledOverride; }
670     void setResourceCachingDisabled(bool disabled) { m_resourceCachingDisabled = disabled; }
671 
672     // Web Inspector can override whatever value is set via WebKit SPI, but only while it is open.
673     void setResourceCachingDisabledOverride(bool disabled) { m_resourceCachingDisabledOverride = disabled; }
674 
675     Optional&lt;EventThrottlingBehavior&gt; eventThrottlingBehaviorOverride() const { return m_eventThrottlingBehaviorOverride; }
676     void setEventThrottlingBehaviorOverride(Optional&lt;EventThrottlingBehavior&gt; throttling) { m_eventThrottlingBehaviorOverride = throttling; }
677 
678     Optional&lt;CompositingPolicy&gt; compositingPolicyOverride() const { return m_compositingPolicyOverride; }
679     void setCompositingPolicyOverride(Optional&lt;CompositingPolicy&gt; policy) { m_compositingPolicyOverride = policy; }
680 
<a name="19" id="anc19"></a>
681     WebGLStateTracker* webGLStateTracker() const { return m_webGLStateTracker.get(); }
<a name="20" id="anc20"></a>




682 
683     bool isOnlyNonUtilityPage() const;
684     bool isUtilityPage() const { return m_isUtilityPage; }
685 
686 #if ENABLE(DATA_INTERACTION)
687     WEBCORE_EXPORT bool hasSelectionAtPosition(const FloatPoint&amp;) const;
688 #endif
689 
690     bool isLowPowerModeEnabled() const;
691     WEBCORE_EXPORT void setLowPowerModeEnabledOverrideForTesting(Optional&lt;bool&gt;);
692 
693     WEBCORE_EXPORT void applicationWillResignActive();
694     WEBCORE_EXPORT void applicationDidEnterBackground();
695     WEBCORE_EXPORT void applicationWillEnterForeground();
696     WEBCORE_EXPORT void applicationDidBecomeActive();
697 
698     PerformanceLogging&amp; performanceLogging() const { return *m_performanceLogging; }
699 
<a name="21" id="anc21"></a>

700 private:
701     struct Navigation {
<a name="22" id="anc22"></a><span class="line-modified">702         String domain;</span>
703         FrameLoadType type;
704     };
705     void logNavigation(const Navigation&amp;);
706 
707     WEBCORE_EXPORT void initGroup();
708 
709     void setIsInWindowInternal(bool);
710     void setIsVisibleInternal(bool);
711     void setIsVisuallyIdleInternal(bool);
712 
713 #if ASSERT_DISABLED
714     void checkSubframeCountConsistency() const { }
715 #else
716     void checkSubframeCountConsistency() const;
717 #endif
718 
719     enum ShouldHighlightMatches { DoNotHighlightMatches, HighlightMatches };
720     enum ShouldMarkMatches { DoNotMarkMatches, MarkMatches };
721 
722     unsigned findMatchesForText(const String&amp;, FindOptions, unsigned maxMatchCount, ShouldHighlightMatches, ShouldMarkMatches);
723 
724     Optional&lt;std::pair&lt;MediaCanStartListener&amp;, Document&amp;&gt;&gt; takeAnyMediaCanStartListener();
725 
726 #if ENABLE(VIDEO)
727     void playbackControlsManagerUpdateTimerFired();
728 #endif
729 
730     Vector&lt;Ref&lt;PluginViewBase&gt;&gt; pluginViews();
731 
732     void handleLowModePowerChange(bool);
733 
734     void forEachDocument(const WTF::Function&lt;void(Document&amp;)&gt;&amp;);
735 
736     enum class TimerThrottlingState { Disabled, Enabled, EnabledIncreasing };
737     void hiddenPageDOMTimerThrottlingStateChanged();
738     void setTimerThrottlingState(TimerThrottlingState);
739     void updateTimerThrottlingState();
740     void updateDOMTimerAlignmentInterval();
741     void domTimerAlignmentIntervalIncreaseTimerFired();
742 
743     const std::unique_ptr&lt;Chrome&gt; m_chrome;
744     const std::unique_ptr&lt;DragCaretController&gt; m_dragCaretController;
745 
746 #if ENABLE(DRAG_SUPPORT)
747     const std::unique_ptr&lt;DragController&gt; m_dragController;
748 #endif
749     const std::unique_ptr&lt;FocusController&gt; m_focusController;
750 #if ENABLE(CONTEXT_MENUS)
751     const std::unique_ptr&lt;ContextMenuController&gt; m_contextMenuController;
752 #endif
753     const std::unique_ptr&lt;UserInputBridge&gt; m_userInputBridge;
754     const std::unique_ptr&lt;InspectorController&gt; m_inspectorController;
755 #if ENABLE(POINTER_EVENTS)
756     const std::unique_ptr&lt;PointerCaptureController&gt; m_pointerCaptureController;
757 #endif
758 #if ENABLE(POINTER_LOCK)
759     const std::unique_ptr&lt;PointerLockController&gt; m_pointerLockController;
760 #endif
761     RefPtr&lt;ScrollingCoordinator&gt; m_scrollingCoordinator;
762 
763     const RefPtr&lt;Settings&gt; m_settings;
764     const std::unique_ptr&lt;ProgressTracker&gt; m_progress;
765 
766     const std::unique_ptr&lt;BackForwardController&gt; m_backForwardController;
767     Ref&lt;Frame&gt; m_mainFrame;
768 
769     RefPtr&lt;PluginData&gt; m_pluginData;
770 
771     UniqueRef&lt;EditorClient&gt; m_editorClient;
772     PlugInClient* m_plugInClient;
773     std::unique_ptr&lt;ValidationMessageClient&gt; m_validationMessageClient;
774     std::unique_ptr&lt;DiagnosticLoggingClient&gt; m_diagnosticLoggingClient;
775     std::unique_ptr&lt;PerformanceLoggingClient&gt; m_performanceLoggingClient;
776 
<a name="23" id="anc23"></a>
777     std::unique_ptr&lt;WebGLStateTracker&gt; m_webGLStateTracker;
<a name="24" id="anc24"></a>




778 
779     UniqueRef&lt;LibWebRTCProvider&gt; m_libWebRTCProvider;
780     RTCController m_rtcController;
781 
782     int m_nestedRunLoopCount { 0 };
783     WTF::Function&lt;void()&gt; m_unnestCallback;
784 
785     int m_subframeCount { 0 };
786     String m_groupName;
787     bool m_openedByDOM { false };
788     bool m_openedByDOMWithOpener { false };
789 
790     bool m_tabKeyCyclesThroughElements { true };
791     bool m_defersLoading { false };
792     unsigned m_defersLoadingCallCount { 0 };
793 
794     bool m_inLowQualityInterpolationMode { false };
795     bool m_areMemoryCacheClientCallsEnabled { true };
796     float m_mediaVolume { 1 };
797     MediaProducer::MutedStateFlags m_mutedState { MediaProducer::NoneMuted };
798 
799     float m_pageScaleFactor { 1 };
800     float m_zoomedOutPageScaleFactor { 0 };
801     float m_deviceScaleFactor { 1 };
802     float m_viewScaleFactor { 1 };
803 
804     float m_topContentInset { 0 };
805     FloatBoxExtent m_obscuredInsets;
806     FloatBoxExtent m_contentInsets;
807     FloatBoxExtent m_unobscuredSafeAreaInsets;
808     FloatBoxExtent m_fullscreenInsets;
809     Seconds m_fullscreenAutoHideDuration { 0_s };
810 
811 #if PLATFORM(IOS_FAMILY)
812     bool m_enclosedInScrollableAncestorView { false };
813 #endif
814 
815     bool m_useSystemAppearance { false };
<a name="25" id="anc25"></a>
816     bool m_useDarkAppearance { false };
817     Optional&lt;bool&gt; m_useDarkAppearanceOverride;
818 
819 #if ENABLE(TEXT_AUTOSIZING)
820     float m_textAutosizingWidth { 0 };
821 #endif
<a name="26" id="anc26"></a>
822 
823     bool m_suppressScrollbarAnimations { false };
824 
825     unsigned m_verticalScrollElasticity : 2; // ScrollElasticity
826     unsigned m_horizontalScrollElasticity : 2; // ScrollElasticity
827 
828     Pagination m_pagination;
829     bool m_paginationLineGridEnabled { false };
830 
831     String m_userStyleSheetPath;
832     mutable String m_userStyleSheet;
833     mutable bool m_didLoadUserStyleSheet { false };
834     mutable Optional&lt;WallTime&gt; m_userStyleSheetModificationTime;
835 
836     String m_captionUserPreferencesStyleSheet;
837 
838     std::unique_ptr&lt;PageGroup&gt; m_singlePageGroup;
839     PageGroup* m_group { nullptr };
840 
841     JSC::Debugger* m_debugger { nullptr };
842 
843     bool m_canStartMedia { true };
844 
845     RefPtr&lt;StorageNamespace&gt; m_sessionStorage;
<a name="27" id="anc27"></a><span class="line-removed">846     RefPtr&lt;StorageNamespace&gt; m_ephemeralLocalStorage;</span>
847 
848     TimerThrottlingState m_timerThrottlingState { TimerThrottlingState::Disabled };
849     MonotonicTime m_timerThrottlingStateLastChangedTime;
850     Seconds m_domTimerAlignmentInterval;
851     Timer m_domTimerAlignmentIntervalIncreaseTimer;
852     Seconds m_domTimerAlignmentIntervalIncreaseLimit;
853 
854     bool m_isEditable { false };
855     bool m_isPrerender { false };
856     OptionSet&lt;ActivityState::Flag&gt; m_activityState;
857 
858     OptionSet&lt;LayoutMilestone&gt; m_requestedLayoutMilestones;
859 
860     int m_headerHeight { 0 };
861     int m_footerHeight { 0 };
862 
<a name="28" id="anc28"></a>

863     HashSet&lt;RenderObject*&gt; m_relevantUnpaintedRenderObjects;
864     Region m_topRelevantPaintedRegion;
865     Region m_bottomRelevantPaintedRegion;
866     Region m_relevantUnpaintedRegion;
867     bool m_isCountingRelevantRepaintedObjects { false };
868 #ifndef NDEBUG
869     bool m_isPainting { false };
870 #endif
871     AlternativeTextClient* m_alternativeTextClient;
872 
873     bool m_scriptedAnimationsSuspended { false };
874     const std::unique_ptr&lt;PageConsoleClient&gt; m_consoleClient;
875 
876 #if ENABLE(REMOTE_INSPECTOR)
877     const std::unique_ptr&lt;PageDebuggable&gt; m_inspectorDebuggable;
878 #endif
879 
880 #if ENABLE(INDEXED_DATABASE)
881     RefPtr&lt;IDBClient::IDBConnectionToServer&gt; m_idbConnectionToServer;
882 #endif
883 
884     HashSet&lt;String&gt; m_seenPlugins;
885     HashSet&lt;String&gt; m_seenMediaEngines;
886 
887     unsigned m_lastSpatialNavigationCandidatesCount { 0 };
888     unsigned m_forbidPromptsDepth { 0 };
889 
890     Ref&lt;SocketProvider&gt; m_socketProvider;
891     Ref&lt;CookieJar&gt; m_cookieJar;
892     Ref&lt;ApplicationCacheStorage&gt; m_applicationCacheStorage;
893     Ref&lt;CacheStorageProvider&gt; m_cacheStorageProvider;
894     Ref&lt;DatabaseProvider&gt; m_databaseProvider;
895     Ref&lt;PluginInfoProvider&gt; m_pluginInfoProvider;
896     Ref&lt;StorageNamespaceProvider&gt; m_storageNamespaceProvider;
897     Ref&lt;UserContentProvider&gt; m_userContentProvider;
898     Ref&lt;VisitedLinkStore&gt; m_visitedLinkStore;
899     RefPtr&lt;WheelEventTestTrigger&gt; m_testTrigger;
900 
901     HashSet&lt;ActivityStateChangeObserver*&gt; m_activityStateChangeObservers;
902 
<a name="29" id="anc29"></a><span class="line-removed">903 #if ENABLE(INTERSECTION_OBSERVER)</span>
<span class="line-removed">904     Vector&lt;WeakPtr&lt;Document&gt;&gt; m_documentsNeedingIntersectionObservationUpdate;</span>
<span class="line-removed">905 </span>
<span class="line-removed">906     // FIXME: Schedule intersection observation updates in a way that fits into the HTML</span>
<span class="line-removed">907     // EventLoop. See https://bugs.webkit.org/show_bug.cgi?id=160711.</span>
<span class="line-removed">908     Timer m_intersectionObservationUpdateTimer;</span>
<span class="line-removed">909 #endif</span>
<span class="line-removed">910 </span>
911 #if ENABLE(RESOURCE_USAGE)
912     std::unique_ptr&lt;ResourceUsageOverlay&gt; m_resourceUsageOverlay;
913 #endif
914 
915     PAL::SessionID m_sessionID;
916 
917     bool m_isClosing { false };
918     bool m_isRestoringCachedPage { false };
919 
920     MediaProducer::MediaStateFlags m_mediaState { MediaProducer::IsNotPlaying };
921 
922 #if ENABLE(VIDEO)
923     Timer m_playbackControlsManagerUpdateTimer;
924 #endif
925 
926     bool m_allowsMediaDocumentInlinePlayback { false };
927     bool m_allowsPlaybackControlsForAutoplayingAudio { false };
928     bool m_showAllPlugins { false };
929     bool m_controlledByAutomation { false };
930     bool m_resourceCachingDisabled { false };
931     bool m_resourceCachingDisabledOverride { false };
932     bool m_isUtilityPage;
933     UserInterfaceLayoutDirection m_userInterfaceLayoutDirection { UserInterfaceLayoutDirection::LTR };
934 
935     // For testing.
936     Optional&lt;EventThrottlingBehavior&gt; m_eventThrottlingBehaviorOverride;
937     Optional&lt;CompositingPolicy&gt; m_compositingPolicyOverride;
938 
939     std::unique_ptr&lt;PerformanceMonitor&gt; m_performanceMonitor;
940     std::unique_ptr&lt;LowPowerModeNotifier&gt; m_lowPowerModeNotifier;
941     Optional&lt;bool&gt; m_lowPowerModeEnabledOverrideForTesting;
942 
943     Optional&lt;Navigation&gt; m_navigationToLogWhenVisible;
944 
945     std::unique_ptr&lt;PerformanceLogging&gt; m_performanceLogging;
946 #if PLATFORM(MAC)
947     Vector&lt;ScrollLatchingState&gt; m_latchingState;
948 #if ENABLE(SERVICE_CONTROLS) || ENABLE(TELEPHONE_NUMBER_DETECTION)
949     std::unique_ptr&lt;ServicesOverlayController&gt; m_servicesOverlayController;
950 #endif
951 #endif
952 
953     std::unique_ptr&lt;WheelEventDeltaFilter&gt; m_recentWheelEventDeltaFilter;
954     std::unique_ptr&lt;PageOverlayController&gt; m_pageOverlayController;
955 
956 #if ENABLE(APPLE_PAY)
957     std::unique_ptr&lt;PaymentCoordinator&gt; m_paymentCoordinator;
958 #endif
959 
960 #if ENABLE(WEB_AUTHN)
961     UniqueRef&lt;AuthenticatorCoordinator&gt; m_authenticatorCoordinator;
962 #endif
963 
964 #if ENABLE(APPLICATION_MANIFEST)
965     Optional&lt;ApplicationManifest&gt; m_applicationManifest;
966 #endif
967 
<a name="30" id="anc30"></a>

968     bool m_shouldEnableICECandidateFilteringByDefault { true };
969     bool m_mediaPlaybackIsSuspended { false };
<a name="31" id="anc31"></a>



970 };
971 
972 inline PageGroup&amp; Page::group()
973 {
974     if (!m_group)
975         initGroup();
976     return *m_group;
977 }
978 
979 } // namespace WebCore
<a name="32" id="anc32"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="32" type="hidden" />
</body>
</html>