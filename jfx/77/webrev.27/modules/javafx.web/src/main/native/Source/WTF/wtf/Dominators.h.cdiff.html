<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WTF/wtf/Dominators.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Deque.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DoublyLinkedList.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/Dominators.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 36,10 ***</span>
<span class="line-new-header">--- 36,11 ---</span>
  // that regard this code is kind of specialized for the various JSC compilers, but you could use it
  // for non-compiler things if you are OK with referring to your &quot;nodes&quot; as &quot;blocks&quot;.
  
  template&lt;typename Graph&gt;
  class Dominators {
<span class="line-added">+     WTF_MAKE_FAST_ALLOCATED;</span>
  public:
      using List = typename Graph::List;
  
      Dominators(Graph&amp; graph, bool selfCheck = false)
          : m_graph(graph)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 306,10 ***</span>
<span class="line-new-header">--- 307,11 ---</span>
      // walking the dominator tree and computing pre and post numbers. We then use the range inclusion
      // check trick that was first discovered by Paul F. Dietz in 1982 in &quot;Maintaining order in a linked
      // list&quot; (see http://dl.acm.org/citation.cfm?id=802184).
  
      class LengauerTarjan {
<span class="line-added">+         WTF_MAKE_FAST_ALLOCATED;</span>
      public:
          LengauerTarjan(Graph&amp; graph)
              : m_graph(graph)
              , m_data(graph.template newMap&lt;BlockData&gt;())
          {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 473,10 ***</span>
<span class="line-new-header">--- 475,12 ---</span>
                  ancestorOfBlock = m_data[ancestorOfBlock].ancestor;
              }
          }
  
          struct BlockData {
<span class="line-added">+             WTF_MAKE_STRUCT_FAST_ALLOCATED;</span>
<span class="line-added">+ </span>
              BlockData()
                  : parent(nullptr)
                  , preNumber(UINT_MAX)
                  , semiNumber(UINT_MAX)
                  , ancestor(nullptr)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 498,10 ***</span>
<span class="line-new-header">--- 502,11 ---</span>
          typename Graph::template Map&lt;BlockData&gt; m_data;
          Vector&lt;typename Graph::Node&gt; m_blockByPreNumber;
      };
  
      class NaiveDominators {
<span class="line-added">+         WTF_MAKE_FAST_ALLOCATED;</span>
      public:
          NaiveDominators(Graph&amp; graph)
              : m_graph(graph)
          {
              // This implements a naive dominator solver.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 603,10 ***</span>
<span class="line-new-header">--- 608,12 ---</span>
          Vector&lt;FastBitVector&gt; m_results; // For each block, the bitvector of blocks that dominate it.
          FastBitVector m_scratch; // A temporary bitvector with bit for each block. We recycle this to save new/deletes.
      };
  
      struct ValidationContext {
<span class="line-added">+         WTF_MAKE_STRUCT_FAST_ALLOCATED;</span>
<span class="line-added">+ </span>
          ValidationContext(Graph&amp; graph, Dominators&amp; dominators)
              : graph(graph)
              , dominators(dominators)
              , naiveDominators(graph)
          {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 667,10 ***</span>
<span class="line-new-header">--- 674,12 ---</span>
          Graph&amp; graph;
          Dominators&amp; dominators;
          NaiveDominators naiveDominators;
  
          struct Error {
<span class="line-added">+             WTF_MAKE_STRUCT_FAST_ALLOCATED;</span>
<span class="line-added">+ </span>
              typename Graph::Node from;
              typename Graph::Node to;
              const char* message;
          };
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 724,10 ***</span>
<span class="line-new-header">--- 733,12 ---</span>
                  });
          }
      }
  
      struct BlockData {
<span class="line-added">+         WTF_MAKE_STRUCT_FAST_ALLOCATED;</span>
<span class="line-added">+ </span>
          BlockData()
              : idomParent(nullptr)
              , preNumber(UINT_MAX)
              , postNumber(UINT_MAX)
          {
</pre>
<center><a href="Deque.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DoublyLinkedList.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>