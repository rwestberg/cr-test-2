<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/Platform.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ParkingLot.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PlatformJSCOnly.cmake.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/Platform.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  37 
  38 
  39 /* ==== Platform adaptation macros: these describe properties of the target environment. ==== */
  40 
  41 /* CPU() - the target CPU architecture */
  42 #define CPU(WTF_FEATURE) (defined WTF_CPU_##WTF_FEATURE  &amp;&amp; WTF_CPU_##WTF_FEATURE)
  43 /* HAVE() - specific system features (headers, functions or similar) that are present or not */
  44 #define HAVE(WTF_FEATURE) (defined HAVE_##WTF_FEATURE  &amp;&amp; HAVE_##WTF_FEATURE)
  45 /* OS() - underlying operating system; only to be used for mandated low-level services like
  46    virtual memory, not to choose a GUI toolkit */
  47 #define OS(WTF_FEATURE) (defined WTF_OS_##WTF_FEATURE  &amp;&amp; WTF_OS_##WTF_FEATURE)
  48 
  49 
  50 /* ==== Policy decision macros: these define policy choices for a particular port. ==== */
  51 
  52 /* USE() - use a particular third-party library or optional OS service */
  53 #define USE(WTF_FEATURE) (defined USE_##WTF_FEATURE  &amp;&amp; USE_##WTF_FEATURE)
  54 /* ENABLE() - turn on a specific feature of WebKit */
  55 #define ENABLE(WTF_FEATURE) (defined ENABLE_##WTF_FEATURE  &amp;&amp; ENABLE_##WTF_FEATURE)
  56 
<span class="line-removed">  57 /* COMPILER(SUNCC) */</span>
<span class="line-removed">  58 #if defined(__SUNPRO_CC) || defined(__SUNPRO_C)</span>
<span class="line-removed">  59 #define WTF_COMPILER_SUNCC 1</span>
<span class="line-removed">  60 #endif</span>
  61 
  62 /* ==== CPU() - the target CPU architecture ==== */
  63 /* CPU(KNOWN) becomes true if we explicitly support a target CPU. */
  64 
  65 /* CPU(MIPS) - MIPS 32-bit and 64-bit */
  66 #if (defined(mips) || defined(__mips__) || defined(MIPS) || defined(_MIPS_) || defined(__mips64))
  67 #if defined(_ABI64) &amp;&amp; (_MIPS_SIM == _ABI64)
  68 #define WTF_CPU_MIPS64 1
  69 #define WTF_MIPS_ARCH __mips64
  70 #else
  71 #define WTF_CPU_MIPS 1
  72 #define WTF_MIPS_ARCH __mips
  73 #endif
  74 #define WTF_CPU_KNOWN 1
  75 #define WTF_MIPS_PIC (defined __PIC__)
  76 #define WTF_MIPS_ISA(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH == v)
  77 #define WTF_MIPS_ISA_AT_LEAST(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH &gt;= v)
  78 #define WTF_MIPS_ARCH_REV __mips_isa_rev
  79 #define WTF_MIPS_ISA_REV(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV == v)
  80 #define WTF_MIPS_ISA_REV_AT_LEAST(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV &gt;= v)
</pre>
<hr />
<pre>
 356 #endif
 357 #endif
 358 
 359 /* ==== OS() - underlying operating system; only to be used for mandated low-level services like
 360    virtual memory, not to choose a GUI toolkit ==== */
 361 
 362 /* OS(AIX) - AIX */
 363 #ifdef _AIX
 364 #define WTF_OS_AIX 1
 365 #endif
 366 
 367 /* OS(DARWIN) - Any Darwin-based OS, including Mac OS X and iPhone OS */
 368 #ifdef __APPLE__
 369 #define WTF_OS_DARWIN 1
 370 
 371 #include &lt;Availability.h&gt;
 372 #include &lt;AvailabilityMacros.h&gt;
 373 #include &lt;TargetConditionals.h&gt;
 374 #endif
 375 
<span class="line-modified"> 376 /* OS(IOS_FAMILY) - iOS family, including iOS, iOSMac, tvOS, watchOS */</span>
<span class="line-modified"> 377 /* OS(IOS) - iOS only, not including iOSMac */</span>
 378 /* OS(MAC_OS_X) - macOS (not including iOS family) */
 379 #if OS(DARWIN)
 380 #if TARGET_OS_IOS &amp;&amp; !(defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC)
 381 #define WTF_OS_IOS 1
 382 #endif
 383 #if TARGET_OS_IPHONE
 384 #define WTF_OS_IOS_FAMILY 1
 385 #elif TARGET_OS_MAC
 386 #define WTF_OS_MAC_OS_X 1
 387 #endif
 388 #endif
 389 
 390 /* OS(FREEBSD) - FreeBSD */
 391 #if defined(__FreeBSD__) || defined(__DragonFly__) || defined(__FreeBSD_kernel__)
 392 #define WTF_OS_FREEBSD 1
 393 #endif
 394 
 395 /* OS(FUCHSIA) - Fuchsia */
 396 #ifdef __Fuchsia__
 397 #define WTF_OS_FUCHSIA 1
</pre>
<hr />
<pre>
 526 #elif defined(BUILDING_JAVA__)
 527 #define WTF_PLATFORM_JAVA 1
 528 #elif defined(BUILDING_WPE__)
 529 #define WTF_PLATFORM_WPE 1
 530 #elif defined(BUILDING_JSCONLY__)
 531 /* JSCOnly does not provide PLATFORM() macro */
 532 #elif OS(MAC_OS_X)
 533 #define WTF_PLATFORM_MAC 1
 534 #elif OS(IOS_FAMILY)
 535 #if OS(IOS)
 536 #define WTF_PLATFORM_IOS 1
 537 #endif
 538 #define WTF_PLATFORM_IOS_FAMILY 1
 539 #if TARGET_OS_SIMULATOR
 540 #if OS(IOS)
 541 #define WTF_PLATFORM_IOS_SIMULATOR 1
 542 #endif
 543 #define WTF_PLATFORM_IOS_FAMILY_SIMULATOR 1
 544 #endif
 545 #if defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC
<span class="line-modified"> 546 #define WTF_PLATFORM_IOSMAC 1</span>
 547 #endif
 548 #elif OS(WINDOWS)
 549 #define WTF_PLATFORM_WIN 1
 550 #endif
 551 
 552 /* PLATFORM(COCOA) */
 553 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
 554 #define WTF_PLATFORM_COCOA 1
 555 #endif
 556 
 557 #if PLATFORM(COCOA)
 558 #if defined __has_include &amp;&amp; __has_include(&lt;CoreFoundation/CFPriv.h&gt;)
 559 #define USE_APPLE_INTERNAL_SDK 1
 560 #endif
 561 #endif
 562 
 563 /* PLATFORM(APPLETV) */
 564 #if defined(TARGET_OS_TV) &amp;&amp; TARGET_OS_TV
 565 #define WTF_PLATFORM_APPLETV 1
 566 #endif
</pre>
<hr />
<pre>
 572 
 573 /* Graphics engines */
 574 
 575 /* USE(CG) and PLATFORM(CI) */
 576 #if PLATFORM(COCOA)
 577 #define USE_CG 1
 578 #define USE_CA 1
 579 #endif
 580 
 581 #if PLATFORM(GTK) || PLATFORM(WPE)
 582 #define USE_GLIB 1
 583 #define USE_FREETYPE 1
 584 #define USE_HARFBUZZ 1
 585 #define USE_SOUP 1
 586 #define USE_WEBP 1
 587 #define USE_FILE_LOCK 1
 588 #endif
 589 
 590 #if PLATFORM(GTK)
 591 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_36

 592 #endif
 593 
 594 #if PLATFORM(WPE)
 595 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_40
 596 #endif
 597 
<span class="line-removed"> 598 #if PLATFORM(GTK) &amp;&amp; !defined(GTK_API_VERSION_2)</span>
<span class="line-removed"> 599 #define GDK_VERSION_MIN_REQUIRED GDK_VERSION_3_6</span>
<span class="line-removed"> 600 #endif</span>
<span class="line-removed"> 601 </span>
 602 #if USE(SOUP)
 603 #define SOUP_VERSION_MIN_REQUIRED SOUP_VERSION_2_42
 604 #endif
 605 
 606 /* On Windows, use QueryPerformanceCounter by default */
 607 #if OS(WINDOWS)
 608 #define USE_QUERY_PERFORMANCE_COUNTER  1
 609 #endif
 610 
 611 #if PLATFORM(COCOA)
 612 
 613 #define HAVE_OUT_OF_PROCESS_LAYER_HOSTING 1
 614 #define USE_CF 1
 615 #define USE_FILE_LOCK 1
 616 #define USE_FOUNDATION 1
 617 #define USE_NETWORK_CFDATA_ARRAY_CALLBACK 1
 618 
 619 /* Cocoa defines a series of platform macros for debugging. */
 620 /* Some of them are really annoying because they use common names (e.g. check()). */
 621 /* Disable those macros so that we are not limited in how we name methods and functions. */
</pre>
<hr />
<pre>
 677 #define HAVE_TM_GMTOFF 1
 678 #define HAVE_TM_ZONE 1
 679 #define HAVE_TIMEGM 1
 680 #define HAVE_PTHREAD_MAIN_NP 1
 681 
 682 #if CPU(X86_64) || CPU(ARM64)
 683 #define HAVE_INT128_T 1
 684 #endif
 685 #endif /* OS(DARWIN) */
 686 
 687 #if OS(UNIX)
 688 #define USE_PTHREADS 1
 689 #endif /* OS(UNIX) */
 690 
 691 #if OS(UNIX) &amp;&amp; !OS(FUCHSIA)
 692 #define HAVE_RESOURCE_H 1
 693 #define HAVE_PTHREAD_SETSCHEDPARAM 1
 694 #endif
 695 
 696 #if OS(DARWIN)
<span class="line-modified"> 697 #define HAVE_DISPATCH_H 1 // todo tav enable when building w/ clang</span>
 698 #define HAVE_MADV_FREE 1
 699 #define HAVE_MADV_FREE_REUSE 1
 700 #define HAVE_MADV_DONTNEED 1
 701 #define HAVE_MERGESORT 1
 702 #define HAVE_PTHREAD_SETNAME_NP 1
 703 #define HAVE_READLINE 1
 704 #define HAVE_SYS_TIMEB_H 1
 705 
 706 #if __has_include(&lt;mach/mach_exc.defs&gt;) &amp;&amp; !PLATFORM(GTK)
 707 #define HAVE_MACH_EXCEPTIONS 1
 708 #endif
 709 
 710 #if !PLATFORM(GTK)
 711 #define USE_ACCELERATE 1
 712 #endif
 713 #if !PLATFORM(IOS_FAMILY)
 714 #define HAVE_HOSTED_CORE_ANIMATION 1
 715 #endif
 716 
 717 #endif /* OS(DARWIN) */
</pre>
<hr />
<pre>
 721 #endif
 722 
 723 #if OS(DARWIN) || (OS(LINUX) &amp;&amp; defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__))
 724 #define HAVE_BACKTRACE 1
 725 #endif
 726 
 727 #if OS(DARWIN) || OS(LINUX)
 728 #if PLATFORM(GTK)
 729 #if defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__)
 730 #define HAVE_BACKTRACE_SYMBOLS 1
 731 #endif
 732 #endif /* PLATFORM(GTK) */
 733 #define HAVE_DLADDR 1
 734 #endif /* OS(DARWIN) || OS(LINUX) */
 735 
 736 
 737 /* ENABLE macro defaults */
 738 
 739 /* FIXME: move out all ENABLE() defines from here to FeatureDefines.h */
 740 




 741 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;)
 742 #include &lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;
 743 #endif
 744 
 745 /* Include feature macros */
 746 #include &lt;wtf/FeatureDefines.h&gt;
 747 
 748 #if OS(WINDOWS)
 749 #define USE_SYSTEM_MALLOC 1
 750 #endif
 751 











 752 #if !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64)
 753 #if CPU(ADDRESS64) || CPU(ARM64)
 754 #define USE_JSVALUE64 1
 755 #else
 756 #define USE_JSVALUE32_64 1
 757 #endif
 758 #endif /* !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64) */
 759 
 760 /* The JIT is enabled by default on all x86-64 &amp; ARM64 platforms. */
 761 #if !defined(ENABLE_JIT) \
 762     &amp;&amp; (CPU(X86_64) || CPU(ARM64)) \
 763     &amp;&amp; !CPU(APPLE_ARMV7K)
 764 #define ENABLE_JIT 1
 765 #endif
 766 
 767 #if USE(JSVALUE32_64)
<span class="line-modified"> 768 #if CPU(ARM_THUMB2) &amp;&amp; OS(LINUX)</span>
<span class="line-modified"> 769 /* On ARMv7/Linux the JIT is enabled unless explicitly disabled. */</span>
<span class="line-removed"> 770 #if !defined(ENABLE_JIT)</span>
<span class="line-removed"> 771 #define ENABLE_JIT 1</span>
<span class="line-removed"> 772 #endif</span>
<span class="line-removed"> 773 #elif CPU(MIPS) &amp;&amp; OS(LINUX)</span>
<span class="line-removed"> 774 /* Same on MIPS/Linux, but DFG is disabled for now. */</span>
 775 #if !defined(ENABLE_JIT)
 776 #define ENABLE_JIT 1
 777 #endif
<span class="line-removed"> 778 #undef ENABLE_DFG_JIT</span>
<span class="line-removed"> 779 #define ENABLE_DFG_JIT 0</span>
 780 #else
 781 /* Disable JIT and force C_LOOP on all other 32bit architectures. */
 782 #undef ENABLE_JIT
 783 #define ENABLE_JIT 0
 784 #undef ENABLE_C_LOOP
 785 #define ENABLE_C_LOOP 1
 786 #endif
 787 #endif
 788 
 789 #if !defined(ENABLE_C_LOOP)
 790 #if ENABLE(JIT) \
 791     || CPU(X86_64) || (CPU(ARM64) &amp;&amp; !defined(__ILP32__))
 792 #define ENABLE_C_LOOP 0
 793 #else
 794 #define ENABLE_C_LOOP 1
 795 #endif
 796 #endif
 797 
<span class="line-removed"> 798 /* Cocoa ports should not use the jit on 32-bit ARM CPUs. */</span>
<span class="line-removed"> 799 #if PLATFORM(COCOA) &amp;&amp; (CPU(ARM) || CPU(APPLE_ARMV7K))</span>
<span class="line-removed"> 800 #undef ENABLE_JIT</span>
<span class="line-removed"> 801 #define ENABLE_JIT 0</span>
<span class="line-removed"> 802 #endif</span>
<span class="line-removed"> 803 </span>
<span class="line-removed"> 804 /* Disable the JIT for 32-bit Windows builds. */</span>
<span class="line-removed"> 805 #if USE(JSVALUE32_64) &amp;&amp; OS(WINDOWS)</span>
<span class="line-removed"> 806 #undef ENABLE_JIT</span>
<span class="line-removed"> 807 #define ENABLE_JIT 0</span>
<span class="line-removed"> 808 #endif</span>
<span class="line-removed"> 809 </span>
 810 /* The FTL *does not* work on 32-bit platforms. Disable it even if someone asked us to enable it. */
 811 #if USE(JSVALUE32_64)
 812 #undef ENABLE_FTL_JIT
 813 #define ENABLE_FTL_JIT 0
 814 #endif
 815 
 816 /* The FTL is disabled on the iOS simulator, mostly for simplicity. */
 817 #if PLATFORM(IOS_FAMILY_SIMULATOR)
 818 #undef ENABLE_FTL_JIT
 819 #define ENABLE_FTL_JIT 0
 820 #endif
 821 
 822 /* If possible, try to enable a disassembler. This is optional. We proceed in two
 823    steps: first we try to find some disassembler that we can use, and then we
 824    decide if the high-level disassembler API can be enabled. */
 825 #if !defined(USE_UDIS86) &amp;&amp; ENABLE(JIT) &amp;&amp; (CPU(X86) || CPU(X86_64)) &amp;&amp; !USE(CAPSTONE)
 826 #define USE_UDIS86 1
 827 #endif
 828 
 829 #if !defined(USE_ARM64_DISASSEMBLER) &amp;&amp; ENABLE(JIT) &amp;&amp; CPU(ARM64) &amp;&amp; !USE(CAPSTONE)
</pre>
<hr />
<pre>
 986 #else
 987 #define JIT_OPERATION
 988 #endif
 989 
 990 #if PLATFORM(IOS_FAMILY) &amp;&amp; CPU(ARM64) &amp;&amp; (!ENABLE(FAST_JIT_PERMISSIONS) || !CPU(ARM64E))
 991 #define ENABLE_SEPARATED_WX_HEAP 1
 992 #else
 993 #define ENABLE_SEPARATED_WX_HEAP 0
 994 #endif
 995 
 996 /* Configure the interpreter */
 997 #if COMPILER(GCC_COMPATIBLE)
 998 #define HAVE_COMPUTED_GOTO 1
 999 #endif
1000 
1001 /* Determine if we need to enable Computed Goto Opcodes or not: */
1002 #if HAVE(COMPUTED_GOTO) || !ENABLE(C_LOOP)
1003 #define ENABLE_COMPUTED_GOTO_OPCODES 1
1004 #endif
1005 
<span class="line-modified">1006 #if !ENABLE(C_LOOP) &amp;&amp; !COMPILER(MSVC) &amp;&amp; \</span>
1007     (CPU(X86) || CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; OS(DARWIN)))
1008 /* This feature works by embedding the OpcodeID in the 32 bit just before the generated LLint code
1009    that executes each opcode. It cannot be supported by the CLoop since there&#39;s no way to embed the
1010    OpcodeID word in the CLoop&#39;s switch statement cases. It is also currently not implemented for MSVC.
1011 */
1012 #define USE_LLINT_EMBEDDED_OPCODE_ID 1
1013 #endif
1014 
1015 /* Regular Expression Tracing - Set to 1 to trace RegExp&#39;s in jsc.  Results dumped at exit */
1016 #define ENABLE_REGEXP_TRACING 0
1017 
1018 /* Yet Another Regex Runtime - turned on by default for JIT enabled ports. */
1019 #if !defined(ENABLE_YARR_JIT) &amp;&amp; ENABLE(JIT)
1020 #define ENABLE_YARR_JIT 1
1021 
1022 /* Setting this flag compares JIT results with interpreter results. */
1023 #define ENABLE_YARR_JIT_DEBUG 0
1024 #endif
1025 
1026 #if ENABLE(YARR_JIT)
</pre>
<hr />
<pre>
1047 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER
1048 #error &quot;Cannot enable the Disassembler without enabling the Assembler&quot;
1049 #else
1050 #undef ENABLE_ASSEMBLER
1051 #define ENABLE_ASSEMBLER 1
1052 #endif
1053 #endif
1054 
1055 #ifndef ENABLE_EXCEPTION_SCOPE_VERIFICATION
1056 #ifdef NDEBUG
1057 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 0
1058 #else
1059 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 1
1060 #endif
1061 #endif
1062 
1063 #if ENABLE(DFG_JIT) &amp;&amp; HAVE(MACHINE_CONTEXT) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM64))
1064 #define ENABLE_SIGNAL_BASED_VM_TRAPS 1
1065 #endif
1066 
<span class="line-removed">1067 #if !defined(USE_POINTER_PROFILING) || USE(JSVALUE32_64) || !ENABLE(JIT)</span>
<span class="line-removed">1068 #undef USE_POINTER_PROFILING</span>
<span class="line-removed">1069 #define USE_POINTER_PROFILING 0</span>
<span class="line-removed">1070 #endif</span>
<span class="line-removed">1071 </span>
1072 /* CSS Selector JIT Compiler */
1073 #if !defined(ENABLE_CSS_SELECTOR_JIT)
1074 #if (CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; PLATFORM(IOS_FAMILY))) &amp;&amp; ENABLE(JIT) &amp;&amp; (OS(DARWIN) || PLATFORM(GTK) || PLATFORM(WPE))
1075 #define ENABLE_CSS_SELECTOR_JIT 1
1076 #else
1077 #define ENABLE_CSS_SELECTOR_JIT 0
1078 #endif
1079 #endif
1080 
1081 #if CPU(ARM64E) &amp;&amp; OS(DARWIN)
1082 #define HAVE_FJCVTZS_INSTRUCTION 1
1083 #endif
1084 
1085 #if PLATFORM(IOS)
1086 #define HAVE_APP_LINKS 1
1087 #define USE_PASSKIT 1
1088 #define USE_QUICK_LOOK 1
1089 #define USE_SYSTEM_PREVIEW 1
1090 #endif
1091 
<span class="line-modified">1092 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOSMAC)</span>
<span class="line-removed">1093 #define HAVE_AUDIO_TOOLBOX_AUDIO_SESSION 1</span>
1094 #define HAVE_CELESTIAL 1
1095 #define HAVE_CORE_ANIMATION_RENDER_SERVER 1
1096 #endif
1097 




1098 #if PLATFORM(COCOA)
1099 
1100 #define USE_AVFOUNDATION 1
1101 #define USE_PROTECTION_SPACE_AUTH_CALLBACK 1
1102 
<span class="line-modified">1103 #if !PLATFORM(WATCHOS) &amp;&amp; !PLATFORM(APPLETV) &amp;&amp; !PLATFORM(IOSMAC)</span>
1104 #define ENABLE_DATA_DETECTION 1
1105 #endif
1106 
<span class="line-modified">1107 #if !PLATFORM(APPLETV) &amp;&amp; !PLATFORM(IOSMAC)</span>

1108 #define HAVE_PARENTAL_CONTROLS 1
1109 #endif
1110 
<span class="line-modified">1111 #if !PLATFORM(APPLETV) &amp;&amp; (!PLATFORM(IOSMAC) || __IPHONE_OS_VERSION_MIN_REQUIRED &lt; 130000)</span>
1112 #define HAVE_AVKIT 1
1113 #endif
1114 
1115 #if ENABLE(WEBGL)


1116 #if PLATFORM(MAC)
1117 #define USE_OPENGL 1
1118 #define USE_OPENGL_ES 0
<span class="line-modified">1119 #elif PLATFORM(IOSMAC) &amp;&amp; __has_include(&lt;OpenGL/OpenGL.h&gt;)</span>

1120 #define USE_OPENGL 1
1121 #define USE_OPENGL_ES 0

1122 #else
1123 #define USE_OPENGL 0
1124 #define USE_OPENGL_ES 1

1125 #endif
1126 #if PLATFORM(COCOA)
1127 #ifndef GL_SILENCE_DEPRECATION
1128 #define GL_SILENCE_DEPRECATION 1
1129 #endif
1130 #endif
1131 #endif
1132 
1133 #define USE_METAL 1
1134 
<span class="line-modified">1135 #if HAVE(ACCESSIBILITY)</span>
1136 #define USE_ACCESSIBILITY_CONTEXT_MENUS 1
1137 #endif
1138 
1139 #endif
1140 
1141 #if ENABLE(WEBGL) &amp;&amp; PLATFORM(WIN)
1142 #define USE_OPENGL 1
1143 #define USE_OPENGL_ES 1
1144 #define USE_EGL 1
1145 #endif
1146 










1147 #if USE(TEXTURE_MAPPER) &amp;&amp; ENABLE(GRAPHICS_CONTEXT_3D) &amp;&amp; !defined(USE_TEXTURE_MAPPER_GL)
1148 #define USE_TEXTURE_MAPPER_GL 1
1149 #endif
1150 
1151 #if CPU(ARM_THUMB2) || CPU(ARM64)
1152 #define ENABLE_BRANCH_COMPACTION 1
1153 #endif
1154 
1155 #if !defined(ENABLE_THREADING_LIBDISPATCH) &amp;&amp; HAVE(DISPATCH_H)
1156 #define ENABLE_THREADING_LIBDISPATCH 1
1157 #elif !defined(ENABLE_THREADING_OPENMP) &amp;&amp; defined(_OPENMP)
1158 #define ENABLE_THREADING_OPENMP 1
1159 #elif !defined(THREADING_GENERIC)
1160 #define ENABLE_THREADING_GENERIC 1
1161 #endif
1162 
1163 #if USE(GLIB)
1164 #include &lt;wtf/glib/GTypedefs.h&gt;
1165 #endif
1166 
</pre>
<hr />
<pre>
1178 
1179 #if !defined(ENABLE_GC_VALIDATION) &amp;&amp; !defined(NDEBUG)
1180 #define ENABLE_GC_VALIDATION 1
1181 #endif
1182 
1183 #if !defined(ENABLE_BINDING_INTEGRITY) &amp;&amp; !OS(WINDOWS)
1184 #define ENABLE_BINDING_INTEGRITY 1
1185 #endif
1186 
1187 #if !defined(ENABLE_TREE_DEBUGGING)
1188 #if !defined(NDEBUG)
1189 #define ENABLE_TREE_DEBUGGING 1
1190 #else
1191 #define ENABLE_TREE_DEBUGGING 0
1192 #endif
1193 #endif
1194 
1195 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1196 #define USE_COREMEDIA 1
1197 #define USE_VIDEOTOOLBOX 1
<span class="line-removed">1198 </span>
<span class="line-removed">1199 #if !PLATFORM(IOSMAC)</span>
1200 #define HAVE_AVFOUNDATION_VIDEO_OUTPUT 1
1201 #define HAVE_CORE_VIDEO 1
1202 #define HAVE_MEDIA_PLAYER 1
1203 #endif
<span class="line-removed">1204 #endif</span>
1205 
1206 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1207 #define HAVE_AVFOUNDATION_MEDIA_SELECTION_GROUP 1
1208 #endif
1209 
1210 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1211 #define HAVE_AVFOUNDATION_LEGIBLE_OUTPUT_SUPPORT 1
1212 #define HAVE_MEDIA_ACCESSIBILITY_FRAMEWORK 1
1213 #endif
1214 
1215 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1216 #define HAVE_AVFOUNDATION_LOADER_DELEGATE 1
1217 #endif
1218 
1219 #if !PLATFORM(WIN) &amp;&amp; !PLATFORM(JAVA)
1220 #define USE_REQUEST_ANIMATION_FRAME_DISPLAY_MONITOR 1
1221 #endif
1222 
<span class="line-modified">1223 #if PLATFORM(MAC)</span>
1224 #define HAVE_APPLE_GRAPHICS_CONTROL 1



1225 #define USE_COREAUDIO 1
1226 #endif
1227 
1228 #if !defined(USE_ZLIB) &amp;&amp; !PLATFORM(JAVA)
1229 #define USE_ZLIB 1
1230 #endif
1231 
1232 #ifndef HAVE_QOS_CLASSES
1233 #if PLATFORM(COCOA)
1234 #define HAVE_QOS_CLASSES 1
1235 #endif
1236 #endif
1237 
1238 #ifndef HAVE_VOUCHERS
1239 #if PLATFORM(COCOA)
1240 #define HAVE_VOUCHERS 1
1241 #endif
1242 #endif
1243 
1244 #define USE_GRAMMAR_CHECKING 1
</pre>
<hr />
<pre>
1263 #if PLATFORM(MAC)
1264 #define USE_INSERTION_UNDO_GROUPING 1
1265 #endif
1266 
1267 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1268 #define HAVE_AVASSETREADER 1
1269 #endif
1270 
1271 #if PLATFORM(COCOA)
1272 #define HAVE_TIMINGDATAOPTIONS 1
1273 #endif
1274 
1275 #if PLATFORM(COCOA)
1276 #define USE_AUDIO_SESSION 1
1277 #endif
1278 
1279 #if PLATFORM(COCOA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)
1280 #define HAVE_IOSURFACE 1
1281 #endif
1282 
<span class="line-modified">1283 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; !PLATFORM(IOSMAC)</span>
1284 #define HAVE_IOSURFACE_ACCELERATOR 1
1285 #endif
1286 
1287 #if PLATFORM(COCOA)
1288 #define ENABLE_RESOURCE_USAGE 1
1289 #endif
1290 
1291 #if PLATFORM(GTK) || PLATFORM(WPE)
1292 #undef ENABLE_OPENTYPE_VERTICAL
1293 #define ENABLE_OPENTYPE_VERTICAL 1
1294 #endif
1295 
1296 #if COMPILER(MSVC)
1297 #undef __STDC_FORMAT_MACROS
1298 #define __STDC_FORMAT_MACROS
1299 #undef __STDC_LIMIT_MACROS
1300 #define __STDC_LIMIT_MACROS
1301 #endif
1302 
1303 #if PLATFORM(MAC)
</pre>
<hr />
<pre>
1362 #endif
1363 
1364 #if COMPILER(MSVC)
1365 /* Enable strict runtime stack buffer checks. */
1366 #pragma strict_gs_check(on)
1367 #endif
1368 
1369 #if PLATFORM(MAC)
1370 #define HAVE_TOUCH_BAR 1
1371 #define USE_DICTATION_ALTERNATIVES 1
1372 
1373 #if defined(__LP64__)
1374 #define ENABLE_WEB_PLAYBACK_CONTROLS_MANAGER 1
1375 #endif
1376 #endif /* PLATFORM(MAC) */
1377 
1378 #if PLATFORM(COCOA) &amp;&amp; ENABLE(WEB_RTC)
1379 #define USE_LIBWEBRTC 1
1380 #endif
1381 
<span class="line-modified">1382 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300) || PLATFORM(IOS) || PLATFORM(IOSMAC) || USE(GCRYPT)</span>
1383 #define HAVE_RSA_PSS 1
1384 #endif
1385 
1386 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || PLATFORM(IOS_FAMILY)
1387 #define USE_SOURCE_APPLICATION_AUDIT_DATA 1
1388 #endif
1389 
<span class="line-modified">1390 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(IOSMAC)</span>




1391 #define HAVE_URL_FORMATTING 1
1392 #endif
1393 
1394 #if !OS(WINDOWS)
1395 #define HAVE_STACK_BOUNDS_FOR_NEW_THREAD 1
1396 #endif
1397 
<span class="line-modified">1398 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300) || PLATFORM(IOS) || PLATFORM(IOSMAC)</span>
1399 #define HAVE_AVCONTENTKEYSESSION 1
1400 #endif
1401 
<span class="line-modified">1402 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(IOSMAC)</span>
<span class="line-removed">1403 #define ENABLE_ACCESSIBILITY_EVENTS 1</span>
1404 #define HAVE_SEC_KEY_PROXY 1
1405 #endif
1406 
1407 #if PLATFORM(COCOA) &amp;&amp; USE(CA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)
1408 #define USE_IOSURFACE_CANVAS_BACKING_STORE 1
1409 #endif
1410 
1411 /* FIXME: Should this be enabled or IOS_FAMILY, not just IOS? */
1412 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)
1413 #define HAVE_FOUNDATION_WITH_SAVE_COOKIES_WITH_COMPLETION_HANDLER 1
1414 #endif
1415 
1416 /* FIXME: Should this be enabled for IOS_FAMILY, not just IOS? */
1417 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)
1418 #define HAVE_FOUNDATION_WITH_SAME_SITE_COOKIE_SUPPORT 1
1419 #endif
1420 
1421 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101400
1422 #define HAVE_NSHTTPCOOKIESTORAGE__INITWITHIDENTIFIER_WITH_INACCURATE_NULLABILITY 1
1423 #endif
1424 
<span class="line-modified">1425 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101302 &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300) || PLATFORM(IOS_FAMILY)</span>
1426 #define HAVE_CFNETWORK_WITH_CONTENT_ENCODING_SNIFFING_OVERRIDE 1
1427 /* The override isn&#39;t needed on iOS family, as the default behavior is to not sniff. */
1428 /* FIXME: This should probably be enabled on 10.13.2 and newer, not just 10.14 and newer. */
1429 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1430 #define USE_CFNETWORK_CONTENT_ENCODING_SNIFFING_OVERRIDE 1
1431 #endif
1432 #endif
1433 
<span class="line-modified">1434 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101302 &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300) || PLATFORM(IOS_FAMILY)</span>
1435 #define HAVE_CFNETWORK_WITH_IGNORE_HSTS 1
1436 #endif
1437 
<span class="line-modified">1438 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300 &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101302) || PLATFORM(IOS_FAMILY)</span>
1439 #define HAVE_CFNETWORK_WITH_AUTO_ADDED_HTTP_HEADER_SUPPRESSION_SUPPORT 1
1440 /* FIXME: Does this work, and is this needed on other iOS family platforms? */
1441 #if PLATFORM(MAC) || PLATFORM(IOS)
1442 #define USE_CFNETWORK_AUTO_ADDED_HTTP_HEADER_SUPPRESSION 1
1443 #endif
1444 #endif
1445 
<span class="line-modified">1446 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400</span>
1447 #define HAVE_OS_DARK_MODE_SUPPORT 1
1448 #endif
1449 
1450 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1451 #define HAVE_CG_FONT_RENDERING_GET_FONT_SMOOTHING_DISABLED 1
1452 #endif
1453 




1454 #ifdef __APPLE__
1455 #define HAVE_FUNC_USLEEP 1
1456 #endif
1457 
1458 #if PLATFORM(MAC) || PLATFORM(WPE)
1459 /* FIXME: This really needs a descriptive name, this &quot;new theme&quot; was added in 2008. */
1460 #define USE_NEW_THEME 1
1461 #endif
1462 
1463 #if PLATFORM(MAC)
1464 #define HAVE_WINDOW_SERVER_OCCLUSION_NOTIFICATIONS 1
1465 #endif
1466 
1467 #if PLATFORM(COCOA)
1468 #define HAVE_SEC_ACCESS_CONTROL 1
1469 #endif
1470 
1471 #if PLATFORM(IOS)
1472 /* FIXME: SafariServices.framework exists on macOS. It is only used by WebKit on iOS, so the behavior is correct, but the name is misleading. */
1473 #define HAVE_SAFARI_SERVICES_FRAMEWORK 1
1474 #endif
1475 
<span class="line-modified">1476 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300 &amp;&amp; !defined(__i386__)) || PLATFORM(IOS) || PLATFORM(WATCHOS)</span>
1477 #define HAVE_SAFE_BROWSING 1
1478 #endif
1479 
1480 #if PLATFORM(IOS)
1481 #define HAVE_LINK_PREVIEW 1
1482 #endif
1483 
1484 #if PLATFORM(COCOA)
1485 /* FIXME: This is a USE style macro, as it triggers the use of CFURLConnection framework stubs. */
1486 /* FIXME: Is this still necessary? CFURLConnection isn&#39;t used on Cocoa platforms any more. */
1487 #define ENABLE_SEC_ITEM_SHIM 1
1488 #endif
1489 
1490 #if (PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400))
1491 #define HAVE_ACCESSIBILITY_SUPPORT 1
1492 #endif
1493 




1494 #if PLATFORM(MAC)
1495 #define ENABLE_FULL_KEYBOARD_ACCESS 1
1496 #endif
1497 




1498 #if PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400)
1499 #define HAVE_AUTHORIZATION_STATUS_FOR_MEDIA_TYPE 1
1500 #endif
1501 
<span class="line-modified">1502 #if (PLATFORM(MAC) &amp;&amp; (__MAC_OS_X_VERSION_MIN_REQUIRED == 101200 || (__MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400 &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101404))) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 120200) || (PLATFORM(WATCHOS) &amp;&amp; __WATCH_OS_VERSION_MIN_REQUIRED &gt;= 50000 &amp;&amp; __WATCH_OS_VERSION_MAX_ALLOWED &gt;= 50200) || (PLATFORM(APPLETV) &amp;&amp; __TV_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; __TV_OS_VERSION_MAX_ALLOWED &gt;= 120200)</span>
1503 #define HAVE_CFNETWORK_OVERRIDE_SESSION_COOKIE_ACCEPT_POLICY 1
1504 #endif
1505 
1506 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1507 #define HAVE_CFNETWORK_NSURLSESSION_STRICTRUSTEVALUATE 1
1508 #endif
1509 
1510 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1511 #define HAVE_CFNETWORK_NEGOTIATED_SSL_PROTOCOL_CIPHER 1
1512 #endif
1513 
1514 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500
1515 #define HAVE_CSCHECKFIXDISABLE 1
1516 #endif
1517 












1518 #if PLATFORM(MAC)
1519 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__MAC_OS_X_VERSION_MIN_REQUIRED &lt; 101500)
1520 #elif PLATFORM(IOS_FAMILY)
1521 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__IPHONE_OS_VERSION_MIN_REQUIRED &lt; 130000)
1522 #endif

































































































</pre>
</td>
<td>
<hr />
<pre>
  37 
  38 
  39 /* ==== Platform adaptation macros: these describe properties of the target environment. ==== */
  40 
  41 /* CPU() - the target CPU architecture */
  42 #define CPU(WTF_FEATURE) (defined WTF_CPU_##WTF_FEATURE  &amp;&amp; WTF_CPU_##WTF_FEATURE)
  43 /* HAVE() - specific system features (headers, functions or similar) that are present or not */
  44 #define HAVE(WTF_FEATURE) (defined HAVE_##WTF_FEATURE  &amp;&amp; HAVE_##WTF_FEATURE)
  45 /* OS() - underlying operating system; only to be used for mandated low-level services like
  46    virtual memory, not to choose a GUI toolkit */
  47 #define OS(WTF_FEATURE) (defined WTF_OS_##WTF_FEATURE  &amp;&amp; WTF_OS_##WTF_FEATURE)
  48 
  49 
  50 /* ==== Policy decision macros: these define policy choices for a particular port. ==== */
  51 
  52 /* USE() - use a particular third-party library or optional OS service */
  53 #define USE(WTF_FEATURE) (defined USE_##WTF_FEATURE  &amp;&amp; USE_##WTF_FEATURE)
  54 /* ENABLE() - turn on a specific feature of WebKit */
  55 #define ENABLE(WTF_FEATURE) (defined ENABLE_##WTF_FEATURE  &amp;&amp; ENABLE_##WTF_FEATURE)
  56 




  57 
  58 /* ==== CPU() - the target CPU architecture ==== */
  59 /* CPU(KNOWN) becomes true if we explicitly support a target CPU. */
  60 
  61 /* CPU(MIPS) - MIPS 32-bit and 64-bit */
  62 #if (defined(mips) || defined(__mips__) || defined(MIPS) || defined(_MIPS_) || defined(__mips64))
  63 #if defined(_ABI64) &amp;&amp; (_MIPS_SIM == _ABI64)
  64 #define WTF_CPU_MIPS64 1
  65 #define WTF_MIPS_ARCH __mips64
  66 #else
  67 #define WTF_CPU_MIPS 1
  68 #define WTF_MIPS_ARCH __mips
  69 #endif
  70 #define WTF_CPU_KNOWN 1
  71 #define WTF_MIPS_PIC (defined __PIC__)
  72 #define WTF_MIPS_ISA(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH == v)
  73 #define WTF_MIPS_ISA_AT_LEAST(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH &gt;= v)
  74 #define WTF_MIPS_ARCH_REV __mips_isa_rev
  75 #define WTF_MIPS_ISA_REV(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV == v)
  76 #define WTF_MIPS_ISA_REV_AT_LEAST(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV &gt;= v)
</pre>
<hr />
<pre>
 352 #endif
 353 #endif
 354 
 355 /* ==== OS() - underlying operating system; only to be used for mandated low-level services like
 356    virtual memory, not to choose a GUI toolkit ==== */
 357 
 358 /* OS(AIX) - AIX */
 359 #ifdef _AIX
 360 #define WTF_OS_AIX 1
 361 #endif
 362 
 363 /* OS(DARWIN) - Any Darwin-based OS, including Mac OS X and iPhone OS */
 364 #ifdef __APPLE__
 365 #define WTF_OS_DARWIN 1
 366 
 367 #include &lt;Availability.h&gt;
 368 #include &lt;AvailabilityMacros.h&gt;
 369 #include &lt;TargetConditionals.h&gt;
 370 #endif
 371 
<span class="line-modified"> 372 /* OS(IOS_FAMILY) - iOS family, including iOS, macCatalyst, tvOS, watchOS */</span>
<span class="line-modified"> 373 /* OS(IOS) - iOS only, not including macCatalyst */</span>
 374 /* OS(MAC_OS_X) - macOS (not including iOS family) */
 375 #if OS(DARWIN)
 376 #if TARGET_OS_IOS &amp;&amp; !(defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC)
 377 #define WTF_OS_IOS 1
 378 #endif
 379 #if TARGET_OS_IPHONE
 380 #define WTF_OS_IOS_FAMILY 1
 381 #elif TARGET_OS_MAC
 382 #define WTF_OS_MAC_OS_X 1
 383 #endif
 384 #endif
 385 
 386 /* OS(FREEBSD) - FreeBSD */
 387 #if defined(__FreeBSD__) || defined(__DragonFly__) || defined(__FreeBSD_kernel__)
 388 #define WTF_OS_FREEBSD 1
 389 #endif
 390 
 391 /* OS(FUCHSIA) - Fuchsia */
 392 #ifdef __Fuchsia__
 393 #define WTF_OS_FUCHSIA 1
</pre>
<hr />
<pre>
 522 #elif defined(BUILDING_JAVA__)
 523 #define WTF_PLATFORM_JAVA 1
 524 #elif defined(BUILDING_WPE__)
 525 #define WTF_PLATFORM_WPE 1
 526 #elif defined(BUILDING_JSCONLY__)
 527 /* JSCOnly does not provide PLATFORM() macro */
 528 #elif OS(MAC_OS_X)
 529 #define WTF_PLATFORM_MAC 1
 530 #elif OS(IOS_FAMILY)
 531 #if OS(IOS)
 532 #define WTF_PLATFORM_IOS 1
 533 #endif
 534 #define WTF_PLATFORM_IOS_FAMILY 1
 535 #if TARGET_OS_SIMULATOR
 536 #if OS(IOS)
 537 #define WTF_PLATFORM_IOS_SIMULATOR 1
 538 #endif
 539 #define WTF_PLATFORM_IOS_FAMILY_SIMULATOR 1
 540 #endif
 541 #if defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC
<span class="line-modified"> 542 #define WTF_PLATFORM_MACCATALYST 1</span>
 543 #endif
 544 #elif OS(WINDOWS)
 545 #define WTF_PLATFORM_WIN 1
 546 #endif
 547 
 548 /* PLATFORM(COCOA) */
 549 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
 550 #define WTF_PLATFORM_COCOA 1
 551 #endif
 552 
 553 #if PLATFORM(COCOA)
 554 #if defined __has_include &amp;&amp; __has_include(&lt;CoreFoundation/CFPriv.h&gt;)
 555 #define USE_APPLE_INTERNAL_SDK 1
 556 #endif
 557 #endif
 558 
 559 /* PLATFORM(APPLETV) */
 560 #if defined(TARGET_OS_TV) &amp;&amp; TARGET_OS_TV
 561 #define WTF_PLATFORM_APPLETV 1
 562 #endif
</pre>
<hr />
<pre>
 568 
 569 /* Graphics engines */
 570 
 571 /* USE(CG) and PLATFORM(CI) */
 572 #if PLATFORM(COCOA)
 573 #define USE_CG 1
 574 #define USE_CA 1
 575 #endif
 576 
 577 #if PLATFORM(GTK) || PLATFORM(WPE)
 578 #define USE_GLIB 1
 579 #define USE_FREETYPE 1
 580 #define USE_HARFBUZZ 1
 581 #define USE_SOUP 1
 582 #define USE_WEBP 1
 583 #define USE_FILE_LOCK 1
 584 #endif
 585 
 586 #if PLATFORM(GTK)
 587 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_36
<span class="line-added"> 588 #define GDK_VERSION_MIN_REQUIRED GDK_VERSION_3_6</span>
 589 #endif
 590 
 591 #if PLATFORM(WPE)
 592 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_40
 593 #endif
 594 




 595 #if USE(SOUP)
 596 #define SOUP_VERSION_MIN_REQUIRED SOUP_VERSION_2_42
 597 #endif
 598 
 599 /* On Windows, use QueryPerformanceCounter by default */
 600 #if OS(WINDOWS)
 601 #define USE_QUERY_PERFORMANCE_COUNTER  1
 602 #endif
 603 
 604 #if PLATFORM(COCOA)
 605 
 606 #define HAVE_OUT_OF_PROCESS_LAYER_HOSTING 1
 607 #define USE_CF 1
 608 #define USE_FILE_LOCK 1
 609 #define USE_FOUNDATION 1
 610 #define USE_NETWORK_CFDATA_ARRAY_CALLBACK 1
 611 
 612 /* Cocoa defines a series of platform macros for debugging. */
 613 /* Some of them are really annoying because they use common names (e.g. check()). */
 614 /* Disable those macros so that we are not limited in how we name methods and functions. */
</pre>
<hr />
<pre>
 670 #define HAVE_TM_GMTOFF 1
 671 #define HAVE_TM_ZONE 1
 672 #define HAVE_TIMEGM 1
 673 #define HAVE_PTHREAD_MAIN_NP 1
 674 
 675 #if CPU(X86_64) || CPU(ARM64)
 676 #define HAVE_INT128_T 1
 677 #endif
 678 #endif /* OS(DARWIN) */
 679 
 680 #if OS(UNIX)
 681 #define USE_PTHREADS 1
 682 #endif /* OS(UNIX) */
 683 
 684 #if OS(UNIX) &amp;&amp; !OS(FUCHSIA)
 685 #define HAVE_RESOURCE_H 1
 686 #define HAVE_PTHREAD_SETSCHEDPARAM 1
 687 #endif
 688 
 689 #if OS(DARWIN)
<span class="line-modified"> 690 #define HAVE_DISPATCH_H 1</span>
 691 #define HAVE_MADV_FREE 1
 692 #define HAVE_MADV_FREE_REUSE 1
 693 #define HAVE_MADV_DONTNEED 1
 694 #define HAVE_MERGESORT 1
 695 #define HAVE_PTHREAD_SETNAME_NP 1
 696 #define HAVE_READLINE 1
 697 #define HAVE_SYS_TIMEB_H 1
 698 
 699 #if __has_include(&lt;mach/mach_exc.defs&gt;) &amp;&amp; !PLATFORM(GTK)
 700 #define HAVE_MACH_EXCEPTIONS 1
 701 #endif
 702 
 703 #if !PLATFORM(GTK)
 704 #define USE_ACCELERATE 1
 705 #endif
 706 #if !PLATFORM(IOS_FAMILY)
 707 #define HAVE_HOSTED_CORE_ANIMATION 1
 708 #endif
 709 
 710 #endif /* OS(DARWIN) */
</pre>
<hr />
<pre>
 714 #endif
 715 
 716 #if OS(DARWIN) || (OS(LINUX) &amp;&amp; defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__))
 717 #define HAVE_BACKTRACE 1
 718 #endif
 719 
 720 #if OS(DARWIN) || OS(LINUX)
 721 #if PLATFORM(GTK)
 722 #if defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__)
 723 #define HAVE_BACKTRACE_SYMBOLS 1
 724 #endif
 725 #endif /* PLATFORM(GTK) */
 726 #define HAVE_DLADDR 1
 727 #endif /* OS(DARWIN) || OS(LINUX) */
 728 
 729 
 730 /* ENABLE macro defaults */
 731 
 732 /* FIXME: move out all ENABLE() defines from here to FeatureDefines.h */
 733 
<span class="line-added"> 734 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalPlatform.h&gt;)</span>
<span class="line-added"> 735 #include &lt;WebKitAdditions/AdditionalPlatform.h&gt;</span>
<span class="line-added"> 736 #endif</span>
<span class="line-added"> 737 </span>
 738 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;)
 739 #include &lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;
 740 #endif
 741 
 742 /* Include feature macros */
 743 #include &lt;wtf/FeatureDefines.h&gt;
 744 
 745 #if OS(WINDOWS)
 746 #define USE_SYSTEM_MALLOC 1
 747 #endif
 748 
<span class="line-added"> 749 #if CPU(ADDRESS64)</span>
<span class="line-added"> 750 #if OS(DARWIN) &amp;&amp; CPU(ARM64)</span>
<span class="line-added"> 751 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 36</span>
<span class="line-added"> 752 #else</span>
<span class="line-added"> 753 /* We strongly assume that effective address width is &lt;= 48 in 64bit architectures (e.g. NaN boxing). */</span>
<span class="line-added"> 754 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 48</span>
<span class="line-added"> 755 #endif</span>
<span class="line-added"> 756 #else</span>
<span class="line-added"> 757 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 32</span>
<span class="line-added"> 758 #endif</span>
<span class="line-added"> 759 </span>
 760 #if !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64)
 761 #if CPU(ADDRESS64) || CPU(ARM64)
 762 #define USE_JSVALUE64 1
 763 #else
 764 #define USE_JSVALUE32_64 1
 765 #endif
 766 #endif /* !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64) */
 767 
 768 /* The JIT is enabled by default on all x86-64 &amp; ARM64 platforms. */
 769 #if !defined(ENABLE_JIT) \
 770     &amp;&amp; (CPU(X86_64) || CPU(ARM64)) \
 771     &amp;&amp; !CPU(APPLE_ARMV7K)
 772 #define ENABLE_JIT 1
 773 #endif
 774 
 775 #if USE(JSVALUE32_64)
<span class="line-modified"> 776 #if (CPU(ARM_THUMB2) || CPU(MIPS)) &amp;&amp; OS(LINUX)</span>
<span class="line-modified"> 777 /* On ARMv7 and MIPS on Linux the JIT is enabled unless explicitly disabled. */</span>





 778 #if !defined(ENABLE_JIT)
 779 #define ENABLE_JIT 1
 780 #endif


 781 #else
 782 /* Disable JIT and force C_LOOP on all other 32bit architectures. */
 783 #undef ENABLE_JIT
 784 #define ENABLE_JIT 0
 785 #undef ENABLE_C_LOOP
 786 #define ENABLE_C_LOOP 1
 787 #endif
 788 #endif
 789 
 790 #if !defined(ENABLE_C_LOOP)
 791 #if ENABLE(JIT) \
 792     || CPU(X86_64) || (CPU(ARM64) &amp;&amp; !defined(__ILP32__))
 793 #define ENABLE_C_LOOP 0
 794 #else
 795 #define ENABLE_C_LOOP 1
 796 #endif
 797 #endif
 798 












 799 /* The FTL *does not* work on 32-bit platforms. Disable it even if someone asked us to enable it. */
 800 #if USE(JSVALUE32_64)
 801 #undef ENABLE_FTL_JIT
 802 #define ENABLE_FTL_JIT 0
 803 #endif
 804 
 805 /* The FTL is disabled on the iOS simulator, mostly for simplicity. */
 806 #if PLATFORM(IOS_FAMILY_SIMULATOR)
 807 #undef ENABLE_FTL_JIT
 808 #define ENABLE_FTL_JIT 0
 809 #endif
 810 
 811 /* If possible, try to enable a disassembler. This is optional. We proceed in two
 812    steps: first we try to find some disassembler that we can use, and then we
 813    decide if the high-level disassembler API can be enabled. */
 814 #if !defined(USE_UDIS86) &amp;&amp; ENABLE(JIT) &amp;&amp; (CPU(X86) || CPU(X86_64)) &amp;&amp; !USE(CAPSTONE)
 815 #define USE_UDIS86 1
 816 #endif
 817 
 818 #if !defined(USE_ARM64_DISASSEMBLER) &amp;&amp; ENABLE(JIT) &amp;&amp; CPU(ARM64) &amp;&amp; !USE(CAPSTONE)
</pre>
<hr />
<pre>
 975 #else
 976 #define JIT_OPERATION
 977 #endif
 978 
 979 #if PLATFORM(IOS_FAMILY) &amp;&amp; CPU(ARM64) &amp;&amp; (!ENABLE(FAST_JIT_PERMISSIONS) || !CPU(ARM64E))
 980 #define ENABLE_SEPARATED_WX_HEAP 1
 981 #else
 982 #define ENABLE_SEPARATED_WX_HEAP 0
 983 #endif
 984 
 985 /* Configure the interpreter */
 986 #if COMPILER(GCC_COMPATIBLE)
 987 #define HAVE_COMPUTED_GOTO 1
 988 #endif
 989 
 990 /* Determine if we need to enable Computed Goto Opcodes or not: */
 991 #if HAVE(COMPUTED_GOTO) || !ENABLE(C_LOOP)
 992 #define ENABLE_COMPUTED_GOTO_OPCODES 1
 993 #endif
 994 
<span class="line-modified"> 995 #if !defined(USE_LLINT_EMBEDDED_OPCODE_ID) &amp;&amp; !ENABLE(C_LOOP) &amp;&amp; !COMPILER(MSVC) &amp;&amp; \</span>
 996     (CPU(X86) || CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; OS(DARWIN)))
 997 /* This feature works by embedding the OpcodeID in the 32 bit just before the generated LLint code
 998    that executes each opcode. It cannot be supported by the CLoop since there&#39;s no way to embed the
 999    OpcodeID word in the CLoop&#39;s switch statement cases. It is also currently not implemented for MSVC.
1000 */
1001 #define USE_LLINT_EMBEDDED_OPCODE_ID 1
1002 #endif
1003 
1004 /* Regular Expression Tracing - Set to 1 to trace RegExp&#39;s in jsc.  Results dumped at exit */
1005 #define ENABLE_REGEXP_TRACING 0
1006 
1007 /* Yet Another Regex Runtime - turned on by default for JIT enabled ports. */
1008 #if !defined(ENABLE_YARR_JIT) &amp;&amp; ENABLE(JIT)
1009 #define ENABLE_YARR_JIT 1
1010 
1011 /* Setting this flag compares JIT results with interpreter results. */
1012 #define ENABLE_YARR_JIT_DEBUG 0
1013 #endif
1014 
1015 #if ENABLE(YARR_JIT)
</pre>
<hr />
<pre>
1036 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER
1037 #error &quot;Cannot enable the Disassembler without enabling the Assembler&quot;
1038 #else
1039 #undef ENABLE_ASSEMBLER
1040 #define ENABLE_ASSEMBLER 1
1041 #endif
1042 #endif
1043 
1044 #ifndef ENABLE_EXCEPTION_SCOPE_VERIFICATION
1045 #ifdef NDEBUG
1046 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 0
1047 #else
1048 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 1
1049 #endif
1050 #endif
1051 
1052 #if ENABLE(DFG_JIT) &amp;&amp; HAVE(MACHINE_CONTEXT) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM64))
1053 #define ENABLE_SIGNAL_BASED_VM_TRAPS 1
1054 #endif
1055 





1056 /* CSS Selector JIT Compiler */
1057 #if !defined(ENABLE_CSS_SELECTOR_JIT)
1058 #if (CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; PLATFORM(IOS_FAMILY))) &amp;&amp; ENABLE(JIT) &amp;&amp; (OS(DARWIN) || PLATFORM(GTK) || PLATFORM(WPE))
1059 #define ENABLE_CSS_SELECTOR_JIT 1
1060 #else
1061 #define ENABLE_CSS_SELECTOR_JIT 0
1062 #endif
1063 #endif
1064 
1065 #if CPU(ARM64E) &amp;&amp; OS(DARWIN)
1066 #define HAVE_FJCVTZS_INSTRUCTION 1
1067 #endif
1068 
1069 #if PLATFORM(IOS)
1070 #define HAVE_APP_LINKS 1
1071 #define USE_PASSKIT 1
1072 #define USE_QUICK_LOOK 1
1073 #define USE_SYSTEM_PREVIEW 1
1074 #endif
1075 
<span class="line-modified">1076 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(MACCATALYST)</span>

1077 #define HAVE_CELESTIAL 1
1078 #define HAVE_CORE_ANIMATION_RENDER_SERVER 1
1079 #endif
1080 
<span class="line-added">1081 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(MACCATALYST) &amp;&amp; !PLATFORM(APPLETV)</span>
<span class="line-added">1082 #define HAVE_PARENTAL_CONTROLS_WITH_UNBLOCK_HANDLER 1</span>
<span class="line-added">1083 #endif</span>
<span class="line-added">1084 </span>
1085 #if PLATFORM(COCOA)
1086 
1087 #define USE_AVFOUNDATION 1
1088 #define USE_PROTECTION_SPACE_AUTH_CALLBACK 1
1089 
<span class="line-modified">1090 #if !PLATFORM(WATCHOS) &amp;&amp; !PLATFORM(APPLETV) &amp;&amp; !PLATFORM(MACCATALYST)</span>
1091 #define ENABLE_DATA_DETECTION 1
1092 #endif
1093 
<span class="line-modified">1094 /* FIXME: Enable HAVE_PARENTAL_CONTROLS for watchOS Simulator once rdar://problem/54608386 is resolved */</span>
<span class="line-added">1095 #if !PLATFORM(APPLETV) &amp;&amp; (!PLATFORM(WATCHOS) || !PLATFORM(IOS_FAMILY_SIMULATOR))</span>
1096 #define HAVE_PARENTAL_CONTROLS 1
1097 #endif
1098 
<span class="line-modified">1099 #if !PLATFORM(APPLETV)</span>
1100 #define HAVE_AVKIT 1
1101 #endif
1102 
1103 #if ENABLE(WEBGL)
<span class="line-added">1104 /* USE_ANGLE=1 uses ANGLE for the WebGL backend.</span>
<span class="line-added">1105    It replaces USE_OPENGL, USE_OPENGL_ES and USE_EGL. */</span>
1106 #if PLATFORM(MAC)
1107 #define USE_OPENGL 1
1108 #define USE_OPENGL_ES 0
<span class="line-modified">1109 #define USE_ANGLE 0</span>
<span class="line-added">1110 #elif PLATFORM(MACCATALYST) &amp;&amp; __has_include(&lt;OpenGL/OpenGL.h&gt;)</span>
1111 #define USE_OPENGL 1
1112 #define USE_OPENGL_ES 0
<span class="line-added">1113 #define USE_ANGLE 0</span>
1114 #else
1115 #define USE_OPENGL 0
1116 #define USE_OPENGL_ES 1
<span class="line-added">1117 #define USE_ANGLE 0</span>
1118 #endif
1119 #if PLATFORM(COCOA)
1120 #ifndef GL_SILENCE_DEPRECATION
1121 #define GL_SILENCE_DEPRECATION 1
1122 #endif
1123 #endif
1124 #endif
1125 
1126 #define USE_METAL 1
1127 
<span class="line-modified">1128 #if ENABLE(ACCESSIBILITY)</span>
1129 #define USE_ACCESSIBILITY_CONTEXT_MENUS 1
1130 #endif
1131 
1132 #endif
1133 
1134 #if ENABLE(WEBGL) &amp;&amp; PLATFORM(WIN)
1135 #define USE_OPENGL 1
1136 #define USE_OPENGL_ES 1
1137 #define USE_EGL 1
1138 #endif
1139 
<span class="line-added">1140 #if ENABLE(WEBGL)</span>
<span class="line-added">1141 #if !defined(USE_ANGLE)</span>
<span class="line-added">1142 #define USE_ANGLE 0</span>
<span class="line-added">1143 #endif</span>
<span class="line-added">1144 </span>
<span class="line-added">1145 #if (USE_ANGLE &amp;&amp; (USE_OPENGL || USE_OPENGL_ES || (defined(USE_EGL) &amp;&amp; USE_EGL)))</span>
<span class="line-added">1146 #error USE_ANGLE is incompatible with USE_OPENGL, USE_OPENGL_ES and USE_EGL</span>
<span class="line-added">1147 #endif</span>
<span class="line-added">1148 #endif</span>
<span class="line-added">1149 </span>
1150 #if USE(TEXTURE_MAPPER) &amp;&amp; ENABLE(GRAPHICS_CONTEXT_3D) &amp;&amp; !defined(USE_TEXTURE_MAPPER_GL)
1151 #define USE_TEXTURE_MAPPER_GL 1
1152 #endif
1153 
1154 #if CPU(ARM_THUMB2) || CPU(ARM64)
1155 #define ENABLE_BRANCH_COMPACTION 1
1156 #endif
1157 
1158 #if !defined(ENABLE_THREADING_LIBDISPATCH) &amp;&amp; HAVE(DISPATCH_H)
1159 #define ENABLE_THREADING_LIBDISPATCH 1
1160 #elif !defined(ENABLE_THREADING_OPENMP) &amp;&amp; defined(_OPENMP)
1161 #define ENABLE_THREADING_OPENMP 1
1162 #elif !defined(THREADING_GENERIC)
1163 #define ENABLE_THREADING_GENERIC 1
1164 #endif
1165 
1166 #if USE(GLIB)
1167 #include &lt;wtf/glib/GTypedefs.h&gt;
1168 #endif
1169 
</pre>
<hr />
<pre>
1181 
1182 #if !defined(ENABLE_GC_VALIDATION) &amp;&amp; !defined(NDEBUG)
1183 #define ENABLE_GC_VALIDATION 1
1184 #endif
1185 
1186 #if !defined(ENABLE_BINDING_INTEGRITY) &amp;&amp; !OS(WINDOWS)
1187 #define ENABLE_BINDING_INTEGRITY 1
1188 #endif
1189 
1190 #if !defined(ENABLE_TREE_DEBUGGING)
1191 #if !defined(NDEBUG)
1192 #define ENABLE_TREE_DEBUGGING 1
1193 #else
1194 #define ENABLE_TREE_DEBUGGING 0
1195 #endif
1196 #endif
1197 
1198 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1199 #define USE_COREMEDIA 1
1200 #define USE_VIDEOTOOLBOX 1


1201 #define HAVE_AVFOUNDATION_VIDEO_OUTPUT 1
1202 #define HAVE_CORE_VIDEO 1
1203 #define HAVE_MEDIA_PLAYER 1
1204 #endif

1205 
1206 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1207 #define HAVE_AVFOUNDATION_MEDIA_SELECTION_GROUP 1
1208 #endif
1209 
1210 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1211 #define HAVE_AVFOUNDATION_LEGIBLE_OUTPUT_SUPPORT 1
1212 #define HAVE_MEDIA_ACCESSIBILITY_FRAMEWORK 1
1213 #endif
1214 
1215 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1216 #define HAVE_AVFOUNDATION_LOADER_DELEGATE 1
1217 #endif
1218 
1219 #if !PLATFORM(WIN) &amp;&amp; !PLATFORM(JAVA)
1220 #define USE_REQUEST_ANIMATION_FRAME_DISPLAY_MONITOR 1
1221 #endif
1222 
<span class="line-modified">1223 #if PLATFORM(MAC) || PLATFORM(MACCATALYST)</span>
1224 #define HAVE_APPLE_GRAPHICS_CONTROL 1
<span class="line-added">1225 #endif</span>
<span class="line-added">1226 </span>
<span class="line-added">1227 #if PLATFORM(MAC)</span>
1228 #define USE_COREAUDIO 1
1229 #endif
1230 
1231 #if !defined(USE_ZLIB) &amp;&amp; !PLATFORM(JAVA)
1232 #define USE_ZLIB 1
1233 #endif
1234 
1235 #ifndef HAVE_QOS_CLASSES
1236 #if PLATFORM(COCOA)
1237 #define HAVE_QOS_CLASSES 1
1238 #endif
1239 #endif
1240 
1241 #ifndef HAVE_VOUCHERS
1242 #if PLATFORM(COCOA)
1243 #define HAVE_VOUCHERS 1
1244 #endif
1245 #endif
1246 
1247 #define USE_GRAMMAR_CHECKING 1
</pre>
<hr />
<pre>
1266 #if PLATFORM(MAC)
1267 #define USE_INSERTION_UNDO_GROUPING 1
1268 #endif
1269 
1270 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1271 #define HAVE_AVASSETREADER 1
1272 #endif
1273 
1274 #if PLATFORM(COCOA)
1275 #define HAVE_TIMINGDATAOPTIONS 1
1276 #endif
1277 
1278 #if PLATFORM(COCOA)
1279 #define USE_AUDIO_SESSION 1
1280 #endif
1281 
1282 #if PLATFORM(COCOA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)
1283 #define HAVE_IOSURFACE 1
1284 #endif
1285 
<span class="line-modified">1286 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; !PLATFORM(MACCATALYST)</span>
1287 #define HAVE_IOSURFACE_ACCELERATOR 1
1288 #endif
1289 
1290 #if PLATFORM(COCOA)
1291 #define ENABLE_RESOURCE_USAGE 1
1292 #endif
1293 
1294 #if PLATFORM(GTK) || PLATFORM(WPE)
1295 #undef ENABLE_OPENTYPE_VERTICAL
1296 #define ENABLE_OPENTYPE_VERTICAL 1
1297 #endif
1298 
1299 #if COMPILER(MSVC)
1300 #undef __STDC_FORMAT_MACROS
1301 #define __STDC_FORMAT_MACROS
1302 #undef __STDC_LIMIT_MACROS
1303 #define __STDC_LIMIT_MACROS
1304 #endif
1305 
1306 #if PLATFORM(MAC)
</pre>
<hr />
<pre>
1365 #endif
1366 
1367 #if COMPILER(MSVC)
1368 /* Enable strict runtime stack buffer checks. */
1369 #pragma strict_gs_check(on)
1370 #endif
1371 
1372 #if PLATFORM(MAC)
1373 #define HAVE_TOUCH_BAR 1
1374 #define USE_DICTATION_ALTERNATIVES 1
1375 
1376 #if defined(__LP64__)
1377 #define ENABLE_WEB_PLAYBACK_CONTROLS_MANAGER 1
1378 #endif
1379 #endif /* PLATFORM(MAC) */
1380 
1381 #if PLATFORM(COCOA) &amp;&amp; ENABLE(WEB_RTC)
1382 #define USE_LIBWEBRTC 1
1383 #endif
1384 
<span class="line-modified">1385 #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST) || USE(GCRYPT)</span>
1386 #define HAVE_RSA_PSS 1
1387 #endif
1388 
1389 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || PLATFORM(IOS_FAMILY)
1390 #define USE_SOURCE_APPLICATION_AUDIT_DATA 1
1391 #endif
1392 
<span class="line-modified">1393 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-added">1394 #define HAVE_HSTS_STORAGE_PATH 1</span>
<span class="line-added">1395 #endif</span>
<span class="line-added">1396 </span>
<span class="line-added">1397 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>
1398 #define HAVE_URL_FORMATTING 1
1399 #endif
1400 
1401 #if !OS(WINDOWS)
1402 #define HAVE_STACK_BOUNDS_FOR_NEW_THREAD 1
1403 #endif
1404 
<span class="line-modified">1405 #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>
1406 #define HAVE_AVCONTENTKEYSESSION 1
1407 #endif
1408 
<span class="line-modified">1409 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>

1410 #define HAVE_SEC_KEY_PROXY 1
1411 #endif
1412 
1413 #if PLATFORM(COCOA) &amp;&amp; USE(CA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)
1414 #define USE_IOSURFACE_CANVAS_BACKING_STORE 1
1415 #endif
1416 
1417 /* FIXME: Should this be enabled or IOS_FAMILY, not just IOS? */
1418 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)
1419 #define HAVE_FOUNDATION_WITH_SAVE_COOKIES_WITH_COMPLETION_HANDLER 1
1420 #endif
1421 
1422 /* FIXME: Should this be enabled for IOS_FAMILY, not just IOS? */
1423 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)
1424 #define HAVE_FOUNDATION_WITH_SAME_SITE_COOKIE_SUPPORT 1
1425 #endif
1426 
1427 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101400
1428 #define HAVE_NSHTTPCOOKIESTORAGE__INITWITHIDENTIFIER_WITH_INACCURATE_NULLABILITY 1
1429 #endif
1430 
<span class="line-modified">1431 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
1432 #define HAVE_CFNETWORK_WITH_CONTENT_ENCODING_SNIFFING_OVERRIDE 1
1433 /* The override isn&#39;t needed on iOS family, as the default behavior is to not sniff. */
1434 /* FIXME: This should probably be enabled on 10.13.2 and newer, not just 10.14 and newer. */
1435 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1436 #define USE_CFNETWORK_CONTENT_ENCODING_SNIFFING_OVERRIDE 1
1437 #endif
1438 #endif
1439 
<span class="line-modified">1440 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
1441 #define HAVE_CFNETWORK_WITH_IGNORE_HSTS 1
1442 #endif
1443 
<span class="line-modified">1444 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
1445 #define HAVE_CFNETWORK_WITH_AUTO_ADDED_HTTP_HEADER_SUPPRESSION_SUPPORT 1
1446 /* FIXME: Does this work, and is this needed on other iOS family platforms? */
1447 #if PLATFORM(MAC) || PLATFORM(IOS)
1448 #define USE_CFNETWORK_AUTO_ADDED_HTTP_HEADER_SUPPRESSION 1
1449 #endif
1450 #endif
1451 
<span class="line-modified">1452 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
1453 #define HAVE_OS_DARK_MODE_SUPPORT 1
1454 #endif
1455 
1456 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1457 #define HAVE_CG_FONT_RENDERING_GET_FONT_SMOOTHING_DISABLED 1
1458 #endif
1459 
<span class="line-added">1460 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-added">1461 #define HAVE_CA_WHERE_ADDITIVE_TRANSFORMS_ARE_REVERSED 1</span>
<span class="line-added">1462 #endif</span>
<span class="line-added">1463 </span>
1464 #ifdef __APPLE__
1465 #define HAVE_FUNC_USLEEP 1
1466 #endif
1467 
1468 #if PLATFORM(MAC) || PLATFORM(WPE)
1469 /* FIXME: This really needs a descriptive name, this &quot;new theme&quot; was added in 2008. */
1470 #define USE_NEW_THEME 1
1471 #endif
1472 
1473 #if PLATFORM(MAC)
1474 #define HAVE_WINDOW_SERVER_OCCLUSION_NOTIFICATIONS 1
1475 #endif
1476 
1477 #if PLATFORM(COCOA)
1478 #define HAVE_SEC_ACCESS_CONTROL 1
1479 #endif
1480 
1481 #if PLATFORM(IOS)
1482 /* FIXME: SafariServices.framework exists on macOS. It is only used by WebKit on iOS, so the behavior is correct, but the name is misleading. */
1483 #define HAVE_SAFARI_SERVICES_FRAMEWORK 1
1484 #endif
1485 
<span class="line-modified">1486 #if (PLATFORM(MAC) &amp;&amp; !defined(__i386__)) || PLATFORM(IOS) || PLATFORM(WATCHOS)</span>
1487 #define HAVE_SAFE_BROWSING 1
1488 #endif
1489 
1490 #if PLATFORM(IOS)
1491 #define HAVE_LINK_PREVIEW 1
1492 #endif
1493 
1494 #if PLATFORM(COCOA)
1495 /* FIXME: This is a USE style macro, as it triggers the use of CFURLConnection framework stubs. */
1496 /* FIXME: Is this still necessary? CFURLConnection isn&#39;t used on Cocoa platforms any more. */
1497 #define ENABLE_SEC_ITEM_SHIM 1
1498 #endif
1499 
1500 #if (PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400))
1501 #define HAVE_ACCESSIBILITY_SUPPORT 1
1502 #endif
1503 
<span class="line-added">1504 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="line-added">1505 #define HAVE_ACCESSIBILITY_BUNDLES_PATH 1</span>
<span class="line-added">1506 #endif</span>
<span class="line-added">1507 </span>
1508 #if PLATFORM(MAC)
1509 #define ENABLE_FULL_KEYBOARD_ACCESS 1
1510 #endif
1511 
<span class="line-added">1512 #if (PLATFORM(COCOA) &amp;&amp; ENABLE(ASYNC_SCROLLING)) || PLATFORM(GTK)</span>
<span class="line-added">1513 #define ENABLE_KINETIC_SCROLLING 1</span>
<span class="line-added">1514 #endif</span>
<span class="line-added">1515 </span>
1516 #if PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400)
1517 #define HAVE_AUTHORIZATION_STATUS_FOR_MEDIA_TYPE 1
1518 #endif
1519 
<span class="line-modified">1520 #if (PLATFORM(MAC) &amp;&amp; (__MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400 &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101404)) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 120200) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
1521 #define HAVE_CFNETWORK_OVERRIDE_SESSION_COOKIE_ACCEPT_POLICY 1
1522 #endif
1523 
1524 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1525 #define HAVE_CFNETWORK_NSURLSESSION_STRICTRUSTEVALUATE 1
1526 #endif
1527 
1528 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1529 #define HAVE_CFNETWORK_NEGOTIATED_SSL_PROTOCOL_CIPHER 1
1530 #endif
1531 
1532 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500
1533 #define HAVE_CSCHECKFIXDISABLE 1
1534 #endif
1535 
<span class="line-added">1536 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-added">1537 #define HAVE_SANDBOX_ISSUE_MACH_EXTENSION_TO_PROCESS_BY_PID 1</span>
<span class="line-added">1538 #endif</span>
<span class="line-added">1539 </span>
<span class="line-added">1540 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="line-added">1541 #define HAVE_SANDBOX_ISSUE_READ_EXTENSION_TO_PROCESS_BY_PID 1</span>
<span class="line-added">1542 #endif</span>
<span class="line-added">1543 </span>
<span class="line-added">1544 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-added">1545 #define HAVE_MDNS_FAST_REGISTRATION 1</span>
<span class="line-added">1546 #endif</span>
<span class="line-added">1547 </span>
1548 #if PLATFORM(MAC)
1549 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__MAC_OS_X_VERSION_MIN_REQUIRED &lt; 101500)
1550 #elif PLATFORM(IOS_FAMILY)
1551 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__IPHONE_OS_VERSION_MIN_REQUIRED &lt; 130000)
1552 #endif
<span class="line-added">1553 </span>
<span class="line-added">1554 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS_FAMILY)</span>
<span class="line-added">1555 #define HAVE_DISALLOWABLE_USER_INSTALLED_FONTS 1</span>
<span class="line-added">1556 #endif</span>
<span class="line-added">1557 </span>
<span class="line-added">1558 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-added">1559 #define HAVE_CTFONTCREATEFORCHARACTERSWITHLANGUAGEANDOPTION 1</span>
<span class="line-added">1560 #endif</span>
<span class="line-added">1561 </span>
<span class="line-added">1562 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="line-added">1563 #define HAVE_ARKIT_QUICK_LOOK_PREVIEW_ITEM 1</span>
<span class="line-added">1564 #endif</span>
<span class="line-added">1565 </span>
<span class="line-added">1566 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="line-added">1567 #define HAVE_UI_WK_DOCUMENT_CONTEXT 1</span>
<span class="line-added">1568 #endif</span>
<span class="line-added">1569 </span>
<span class="line-added">1570 #if PLATFORM(MACCATALYST)</span>
<span class="line-added">1571 #define ENABLE_PLATFORM_DRIVEN_TEXT_CHECKING 1</span>
<span class="line-added">1572 #endif</span>
<span class="line-added">1573 </span>
<span class="line-added">1574 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1575 #define HAVE_ALLOWS_SENSITIVE_LOGGING 1</span>
<span class="line-added">1576 #define HAVE_FAIRPLAYSTREAMING_CENC_INITDATA 1</span>
<span class="line-added">1577 #endif</span>
<span class="line-added">1578 </span>
<span class="line-added">1579 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1580 #define HAVE_UI_SCROLL_VIEW_INDICATOR_FLASHING_SPI 1</span>
<span class="line-added">1581 #endif</span>
<span class="line-added">1582 </span>
<span class="line-added">1583 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1584 #define HAVE_APP_LINKS_WITH_ISENABLED 1</span>
<span class="line-added">1585 #endif</span>
<span class="line-added">1586 </span>
<span class="line-added">1587 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-added">1588 #define HAVE_ROUTE_SHARING_POLICY_LONG_FORM_VIDEO 1</span>
<span class="line-added">1589 #endif</span>
<span class="line-added">1590 </span>
<span class="line-added">1591 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; !PLATFORM(IOS_SIMULATOR))</span>
<span class="line-added">1592 #define HAVE_DEVICE_MANAGEMENT 1</span>
<span class="line-added">1593 #endif</span>
<span class="line-added">1594 </span>
<span class="line-added">1595 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101500</span>
<span class="line-added">1596 #define USE_REALPATH_FOR_DLOPEN_PREFLIGHT 1</span>
<span class="line-added">1597 #endif</span>
<span class="line-added">1598 </span>
<span class="line-added">1599 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1600 #define HAVE_NSURLSESSION_WEBSOCKET 1</span>
<span class="line-added">1601 #endif</span>
<span class="line-added">1602 </span>
<span class="line-added">1603 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1604 #define HAVE_AVPLAYER_RESOURCE_CONSERVATION_LEVEL 1</span>
<span class="line-added">1605 #endif</span>
<span class="line-added">1606 </span>
<span class="line-added">1607 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1608 #define HAVE_CORETEXT_AUTO_OPTICAL_SIZING 1</span>
<span class="line-added">1609 #endif</span>
<span class="line-added">1610 </span>
<span class="line-added">1611 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000 || PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="line-added">1612 #define HAVE_APP_SSO 1</span>
<span class="line-added">1613 #endif</span>
<span class="line-added">1614 </span>
<span class="line-added">1615 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000 || PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="line-added">1616 #define HAVE_TLS_PROTOCOL_VERSION_T 1</span>
<span class="line-added">1617 #endif</span>
<span class="line-added">1618 </span>
<span class="line-added">1619 #if PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="line-added">1620 #define USE_UICONTEXTMENU 1</span>
<span class="line-added">1621 #endif</span>
<span class="line-added">1622 </span>
<span class="line-added">1623 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500</span>
<span class="line-added">1624 #define HAVE_SUBVIEWS_IVAR_SPI 1</span>
<span class="line-added">1625 #endif</span>
<span class="line-added">1626 </span>
<span class="line-added">1627 #if PLATFORM(MAC) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 110000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1628 #define USE_PLATFORM_SYSTEM_FALLBACK_LIST 1</span>
<span class="line-added">1629 #endif</span>
<span class="line-added">1630 </span>
<span class="line-added">1631 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1632 #define HAVE_DESIGN_SYSTEM_UI_FONTS 1</span>
<span class="line-added">1633 #endif</span>
<span class="line-added">1634 </span>
<span class="line-added">1635 #if (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-added">1636 #define USE_HIRAGINO_SANS_WORKAROUND 1</span>
<span class="line-added">1637 #endif</span>
<span class="line-added">1638 </span>
<span class="line-added">1639 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS) &amp;&amp; !PLATFORM(IOS_SIMULATOR))</span>
<span class="line-added">1640 #define HAVE_DEVICE_IDENTITY 1</span>
<span class="line-added">1641 #endif</span>
<span class="line-added">1642 </span>
<span class="line-added">1643 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-added">1644 #define HAVE_DATA_PROTECTION_KEYCHAIN 1</span>
<span class="line-added">1645 #endif</span>
<span class="line-added">1646 </span>
<span class="line-added">1647 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-added">1648 #define HAVE_NEAR_FIELD 1</span>
<span class="line-added">1649 #endif</span>
</pre>
</td>
</tr>
</table>
<center><a href="ParkingLot.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PlatformJSCOnly.cmake.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>