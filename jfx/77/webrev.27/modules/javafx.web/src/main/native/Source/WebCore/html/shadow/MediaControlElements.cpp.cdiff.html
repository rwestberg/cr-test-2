<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/html/shadow/MediaControlElements.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MediaControlElementTypes.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="MediaControlElements.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/html/shadow/MediaControlElements.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 35,10 ***</span>
<span class="line-new-header">--- 35,11 ---</span>
  #include &quot;DOMTokenList.h&quot;
  #include &quot;ElementChildIterator.h&quot;
  #include &quot;EventHandler.h&quot;
  #include &quot;EventNames.h&quot;
  #include &quot;Frame.h&quot;
<span class="line-added">+ #include &quot;FullscreenManager.h&quot;</span>
  #include &quot;GraphicsContext.h&quot;
  #include &quot;HTMLHeadingElement.h&quot;
  #include &quot;HTMLLIElement.h&quot;
  #include &quot;HTMLUListElement.h&quot;
  #include &quot;HTMLVideoElement.h&quot;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 91,22 ***</span>
  WTF_MAKE_ISO_ALLOCATED_IMPL(MediaControlCurrentTimeDisplayElement);
  WTF_MAKE_ISO_ALLOCATED_IMPL(MediaControlTextTrackContainerElement);
  
  using namespace HTMLNames;
  
<span class="line-modified">! static const AtomicString&amp; getMediaControlCurrentTimeDisplayElementShadowPseudoId();</span>
<span class="line-modified">! static const AtomicString&amp; getMediaControlTimeRemainingDisplayElementShadowPseudoId();</span>
  
  MediaControlPanelElement::MediaControlPanelElement(Document&amp; document)
      : MediaControlDivElement(document, MediaControlsPanel)
      , m_canBeDragged(false)
      , m_isBeingDragged(false)
      , m_isDisplayed(false)
      , m_opaque(true)
      , m_transitionTimer(*this, &amp;MediaControlPanelElement::transitionTimerFired)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-panel&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPanelElement&gt; MediaControlPanelElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlPanelElement(document));
<span class="line-new-header">--- 92,22 ---</span>
  WTF_MAKE_ISO_ALLOCATED_IMPL(MediaControlCurrentTimeDisplayElement);
  WTF_MAKE_ISO_ALLOCATED_IMPL(MediaControlTextTrackContainerElement);
  
  using namespace HTMLNames;
  
<span class="line-modified">! static const AtomString&amp; getMediaControlCurrentTimeDisplayElementShadowPseudoId();</span>
<span class="line-modified">! static const AtomString&amp; getMediaControlTimeRemainingDisplayElementShadowPseudoId();</span>
  
  MediaControlPanelElement::MediaControlPanelElement(Document&amp; document)
      : MediaControlDivElement(document, MediaControlsPanel)
      , m_canBeDragged(false)
      , m_isBeingDragged(false)
      , m_isDisplayed(false)
      , m_opaque(true)
      , m_transitionTimer(*this, &amp;MediaControlPanelElement::transitionTimerFired)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-panel&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPanelElement&gt; MediaControlPanelElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlPanelElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 284,11 ***</span>
  
  MediaControlPanelEnclosureElement::MediaControlPanelEnclosureElement(Document&amp; document)
      // Mapping onto same MediaControlElementType as panel element, since it has similar properties.
      : MediaControlDivElement(document, MediaControlsPanel)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-enclosure&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPanelEnclosureElement&gt; MediaControlPanelEnclosureElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlPanelEnclosureElement(document));
<span class="line-new-header">--- 285,11 ---</span>
  
  MediaControlPanelEnclosureElement::MediaControlPanelEnclosureElement(Document&amp; document)
      // Mapping onto same MediaControlElementType as panel element, since it has similar properties.
      : MediaControlDivElement(document, MediaControlsPanel)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-enclosure&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPanelEnclosureElement&gt; MediaControlPanelEnclosureElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlPanelEnclosureElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 298,11 ***</span>
  
  MediaControlOverlayEnclosureElement::MediaControlOverlayEnclosureElement(Document&amp; document)
      // Mapping onto same MediaControlElementType as panel element, since it has similar properties.
      : MediaControlDivElement(document, MediaControlsPanel)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-overlay-enclosure&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlOverlayEnclosureElement&gt; MediaControlOverlayEnclosureElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlOverlayEnclosureElement(document));
<span class="line-new-header">--- 299,11 ---</span>
  
  MediaControlOverlayEnclosureElement::MediaControlOverlayEnclosureElement(Document&amp; document)
      // Mapping onto same MediaControlElementType as panel element, since it has similar properties.
      : MediaControlDivElement(document, MediaControlsPanel)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-overlay-enclosure&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlOverlayEnclosureElement&gt; MediaControlOverlayEnclosureElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlOverlayEnclosureElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 311,11 ***</span>
  // ----------------------------
  
  MediaControlTimelineContainerElement::MediaControlTimelineContainerElement(Document&amp; document)
      : MediaControlDivElement(document, MediaTimelineContainer)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-timeline-container&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlTimelineContainerElement&gt; MediaControlTimelineContainerElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlTimelineContainerElement&gt; element = adoptRef(*new MediaControlTimelineContainerElement(document));
<span class="line-new-header">--- 312,11 ---</span>
  // ----------------------------
  
  MediaControlTimelineContainerElement::MediaControlTimelineContainerElement(Document&amp; document)
      : MediaControlDivElement(document, MediaTimelineContainer)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-timeline-container&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlTimelineContainerElement&gt; MediaControlTimelineContainerElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlTimelineContainerElement&gt; element = adoptRef(*new MediaControlTimelineContainerElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 346,11 ***</span>
  // ----------------------------
  
  MediaControlVolumeSliderContainerElement::MediaControlVolumeSliderContainerElement(Document&amp; document)
      : MediaControlDivElement(document, MediaVolumeSliderContainer)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-volume-slider-container&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlVolumeSliderContainerElement&gt; MediaControlVolumeSliderContainerElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlVolumeSliderContainerElement&gt; element = adoptRef(*new MediaControlVolumeSliderContainerElement(document));
<span class="line-new-header">--- 347,11 ---</span>
  // ----------------------------
  
  MediaControlVolumeSliderContainerElement::MediaControlVolumeSliderContainerElement(Document&amp; document)
      : MediaControlDivElement(document, MediaVolumeSliderContainer)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-volume-slider-container&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlVolumeSliderContainerElement&gt; MediaControlVolumeSliderContainerElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlVolumeSliderContainerElement&gt; element = adoptRef(*new MediaControlVolumeSliderContainerElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 383,11 ***</span>
  
  MediaControlStatusDisplayElement::MediaControlStatusDisplayElement(Document&amp; document)
      : MediaControlDivElement(document, MediaStatusDisplay)
      , m_stateBeingDisplayed(Nothing)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-status-display&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlStatusDisplayElement&gt; MediaControlStatusDisplayElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlStatusDisplayElement&gt; element = adoptRef(*new MediaControlStatusDisplayElement(document));
<span class="line-new-header">--- 384,11 ---</span>
  
  MediaControlStatusDisplayElement::MediaControlStatusDisplayElement(Document&amp; document)
      : MediaControlDivElement(document, MediaStatusDisplay)
      , m_stateBeingDisplayed(Nothing)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-status-display&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlStatusDisplayElement&gt; MediaControlStatusDisplayElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlStatusDisplayElement&gt; element = adoptRef(*new MediaControlStatusDisplayElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 432,11 ***</span>
  
  MediaControlPanelMuteButtonElement::MediaControlPanelMuteButtonElement(Document&amp; document, MediaControls* controls)
      : MediaControlMuteButtonElement(document, MediaMuteButton)
      , m_controls(controls)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-mute-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPanelMuteButtonElement&gt; MediaControlPanelMuteButtonElement::create(Document&amp; document, MediaControls* controls)
  {
      ASSERT(controls);
<span class="line-new-header">--- 433,11 ---</span>
  
  MediaControlPanelMuteButtonElement::MediaControlPanelMuteButtonElement(Document&amp; document, MediaControls* controls)
      : MediaControlMuteButtonElement(document, MediaMuteButton)
      , m_controls(controls)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-mute-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPanelMuteButtonElement&gt; MediaControlPanelMuteButtonElement::create(Document&amp; document, MediaControls* controls)
  {
      ASSERT(controls);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 458,11 ***</span>
  // ----------------------------
  
  MediaControlVolumeSliderMuteButtonElement::MediaControlVolumeSliderMuteButtonElement(Document&amp; document)
      : MediaControlMuteButtonElement(document, MediaMuteButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-volume-slider-mute-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlVolumeSliderMuteButtonElement&gt; MediaControlVolumeSliderMuteButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlVolumeSliderMuteButtonElement&gt; button = adoptRef(*new MediaControlVolumeSliderMuteButtonElement(document));
<span class="line-new-header">--- 459,11 ---</span>
  // ----------------------------
  
  MediaControlVolumeSliderMuteButtonElement::MediaControlVolumeSliderMuteButtonElement(Document&amp; document)
      : MediaControlMuteButtonElement(document, MediaMuteButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-volume-slider-mute-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlVolumeSliderMuteButtonElement&gt; MediaControlVolumeSliderMuteButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlVolumeSliderMuteButtonElement&gt; button = adoptRef(*new MediaControlVolumeSliderMuteButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 474,11 ***</span>
  // ----------------------------
  
  MediaControlPlayButtonElement::MediaControlPlayButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaPlayButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-play-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPlayButtonElement&gt; MediaControlPlayButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlPlayButtonElement&gt; button = adoptRef(*new MediaControlPlayButtonElement(document));
<span class="line-new-header">--- 475,11 ---</span>
  // ----------------------------
  
  MediaControlPlayButtonElement::MediaControlPlayButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaPlayButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-play-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPlayButtonElement&gt; MediaControlPlayButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlPlayButtonElement&gt; button = adoptRef(*new MediaControlPlayButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 508,11 ***</span>
  // ----------------------------
  
  MediaControlOverlayPlayButtonElement::MediaControlOverlayPlayButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaOverlayPlayButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-overlay-play-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlOverlayPlayButtonElement&gt; MediaControlOverlayPlayButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlOverlayPlayButtonElement&gt; button = adoptRef(*new MediaControlOverlayPlayButtonElement(document));
<span class="line-new-header">--- 509,11 ---</span>
  // ----------------------------
  
  MediaControlOverlayPlayButtonElement::MediaControlOverlayPlayButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaOverlayPlayButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-overlay-play-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlOverlayPlayButtonElement&gt; MediaControlOverlayPlayButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlOverlayPlayButtonElement&gt; button = adoptRef(*new MediaControlOverlayPlayButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 542,11 ***</span>
  // ----------------------------
  
  MediaControlSeekForwardButtonElement::MediaControlSeekForwardButtonElement(Document&amp; document)
      : MediaControlSeekButtonElement(document, MediaSeekForwardButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-seek-forward-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlSeekForwardButtonElement&gt; MediaControlSeekForwardButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlSeekForwardButtonElement&gt; button = adoptRef(*new MediaControlSeekForwardButtonElement(document));
<span class="line-new-header">--- 543,11 ---</span>
  // ----------------------------
  
  MediaControlSeekForwardButtonElement::MediaControlSeekForwardButtonElement(Document&amp; document)
      : MediaControlSeekButtonElement(document, MediaSeekForwardButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-seek-forward-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlSeekForwardButtonElement&gt; MediaControlSeekForwardButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlSeekForwardButtonElement&gt; button = adoptRef(*new MediaControlSeekForwardButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 558,11 ***</span>
  // ----------------------------
  
  MediaControlSeekBackButtonElement::MediaControlSeekBackButtonElement(Document&amp; document)
      : MediaControlSeekButtonElement(document, MediaSeekBackButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-seek-back-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlSeekBackButtonElement&gt; MediaControlSeekBackButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlSeekBackButtonElement&gt; button = adoptRef(*new MediaControlSeekBackButtonElement(document));
<span class="line-new-header">--- 559,11 ---</span>
  // ----------------------------
  
  MediaControlSeekBackButtonElement::MediaControlSeekBackButtonElement(Document&amp; document)
      : MediaControlSeekButtonElement(document, MediaSeekBackButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-seek-back-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlSeekBackButtonElement&gt; MediaControlSeekBackButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlSeekBackButtonElement&gt; button = adoptRef(*new MediaControlSeekBackButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 574,11 ***</span>
  // ----------------------------
  
  MediaControlRewindButtonElement::MediaControlRewindButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaRewindButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-rewind-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlRewindButtonElement&gt; MediaControlRewindButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlRewindButtonElement&gt; button = adoptRef(*new MediaControlRewindButtonElement(document));
<span class="line-new-header">--- 575,11 ---</span>
  // ----------------------------
  
  MediaControlRewindButtonElement::MediaControlRewindButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaRewindButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-rewind-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlRewindButtonElement&gt; MediaControlRewindButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlRewindButtonElement&gt; button = adoptRef(*new MediaControlRewindButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 599,11 ***</span>
  // ----------------------------
  
  MediaControlReturnToRealtimeButtonElement::MediaControlReturnToRealtimeButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaReturnToRealtimeButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-return-to-realtime-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlReturnToRealtimeButtonElement&gt; MediaControlReturnToRealtimeButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlReturnToRealtimeButtonElement&gt; button = adoptRef(*new MediaControlReturnToRealtimeButtonElement(document));
<span class="line-new-header">--- 600,11 ---</span>
  // ----------------------------
  
  MediaControlReturnToRealtimeButtonElement::MediaControlReturnToRealtimeButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaReturnToRealtimeButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-return-to-realtime-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlReturnToRealtimeButtonElement&gt; MediaControlReturnToRealtimeButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlReturnToRealtimeButtonElement&gt; button = adoptRef(*new MediaControlReturnToRealtimeButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 631,11 ***</span>
  #endif
  {
  #if !PLATFORM(COCOA) &amp;&amp; !PLATFORM(WIN) || !PLATFORM(GTK)
      UNUSED_PARAM(controls);
  #endif
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-toggle-closed-captions-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlToggleClosedCaptionsButtonElement&gt; MediaControlToggleClosedCaptionsButtonElement::create(Document&amp; document, MediaControls* controls)
  {
      ASSERT(controls);
<span class="line-new-header">--- 632,11 ---</span>
  #endif
  {
  #if !PLATFORM(COCOA) &amp;&amp; !PLATFORM(WIN) || !PLATFORM(GTK)
      UNUSED_PARAM(controls);
  #endif
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-toggle-closed-captions-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlToggleClosedCaptionsButtonElement&gt; MediaControlToggleClosedCaptionsButtonElement::create(Document&amp; document, MediaControls* controls)
  {
      ASSERT(controls);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 677,17 ***</span>
  // ----------------------------
  
  MediaControlClosedCaptionsContainerElement::MediaControlClosedCaptionsContainerElement(Document&amp; document)
      : MediaControlDivElement(document, MediaClosedCaptionsContainer)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-closed-captions-container&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlClosedCaptionsContainerElement&gt; MediaControlClosedCaptionsContainerElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlClosedCaptionsContainerElement&gt; element = adoptRef(*new MediaControlClosedCaptionsContainerElement(document));
<span class="line-modified">!     element-&gt;setAttributeWithoutSynchronization(dirAttr, AtomicString(&quot;auto&quot;, AtomicString::ConstructFromLiteral));</span>
      element-&gt;hide();
      return element;
  }
  
  // ----------------------------
<span class="line-new-header">--- 678,17 ---</span>
  // ----------------------------
  
  MediaControlClosedCaptionsContainerElement::MediaControlClosedCaptionsContainerElement(Document&amp; document)
      : MediaControlDivElement(document, MediaClosedCaptionsContainer)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-closed-captions-container&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlClosedCaptionsContainerElement&gt; MediaControlClosedCaptionsContainerElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlClosedCaptionsContainerElement&gt; element = adoptRef(*new MediaControlClosedCaptionsContainerElement(document));
<span class="line-modified">!     element-&gt;setAttributeWithoutSynchronization(dirAttr, AtomString(&quot;auto&quot;, AtomString::ConstructFromLiteral));</span>
      element-&gt;hide();
      return element;
  }
  
  // ----------------------------
</pre>
<hr />
<pre>
<span class="line-old-header">*** 699,11 ***</span>
  #endif
  {
  #if !ENABLE(VIDEO_TRACK)
      UNUSED_PARAM(controls);
  #endif
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-closed-captions-track-list&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlClosedCaptionsTrackListElement&gt; MediaControlClosedCaptionsTrackListElement::create(Document&amp; document, MediaControls* controls)
  {
      ASSERT(controls);
<span class="line-new-header">--- 700,11 ---</span>
  #endif
  {
  #if !ENABLE(VIDEO_TRACK)
      UNUSED_PARAM(controls);
  #endif
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-closed-captions-track-list&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlClosedCaptionsTrackListElement&gt; MediaControlClosedCaptionsTrackListElement::create(Document&amp; document, MediaControls* controls)
  {
      ASSERT(controls);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 745,11 ***</span>
  }
  
  void MediaControlClosedCaptionsTrackListElement::updateDisplay()
  {
  #if ENABLE(VIDEO_TRACK)
<span class="line-modified">!     static NeverDestroyed&lt;AtomicString&gt; selectedClassValue(&quot;selected&quot;, AtomicString::ConstructFromLiteral);</span>
  
      if (!mediaController()-&gt;hasClosedCaptions())
          return;
  
      if (!document().page())
<span class="line-new-header">--- 746,11 ---</span>
  }
  
  void MediaControlClosedCaptionsTrackListElement::updateDisplay()
  {
  #if ENABLE(VIDEO_TRACK)
<span class="line-modified">!     static NeverDestroyed&lt;AtomString&gt; selectedClassValue(&quot;selected&quot;, AtomString::ConstructFromLiteral);</span>
  
      if (!mediaController()-&gt;hasClosedCaptions())
          return;
  
      if (!document().page())
</pre>
<hr />
<pre>
<span class="line-old-header">*** 851,21 ***</span>
  
  MediaControlTimelineElement::MediaControlTimelineElement(Document&amp; document, MediaControls* controls)
      : MediaControlInputElement(document, MediaSlider)
      , m_controls(controls)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-timeline&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlTimelineElement&gt; MediaControlTimelineElement::create(Document&amp; document, MediaControls* controls)
  {
      ASSERT(controls);
  
      Ref&lt;MediaControlTimelineElement&gt; timeline = adoptRef(*new MediaControlTimelineElement(document, controls));
      timeline-&gt;ensureUserAgentShadowRoot();
      timeline-&gt;setType(&quot;range&quot;);
<span class="line-modified">!     timeline-&gt;setAttributeWithoutSynchronization(precisionAttr, AtomicString(&quot;float&quot;, AtomicString::ConstructFromLiteral));</span>
      return timeline;
  }
  
  void MediaControlTimelineElement::defaultEventHandler(Event&amp; event)
  {
<span class="line-new-header">--- 852,21 ---</span>
  
  MediaControlTimelineElement::MediaControlTimelineElement(Document&amp; document, MediaControls* controls)
      : MediaControlInputElement(document, MediaSlider)
      , m_controls(controls)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-timeline&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlTimelineElement&gt; MediaControlTimelineElement::create(Document&amp; document, MediaControls* controls)
  {
      ASSERT(controls);
  
      Ref&lt;MediaControlTimelineElement&gt; timeline = adoptRef(*new MediaControlTimelineElement(document, controls));
      timeline-&gt;ensureUserAgentShadowRoot();
      timeline-&gt;setType(&quot;range&quot;);
<span class="line-modified">!     timeline-&gt;setAttributeWithoutSynchronization(precisionAttr, AtomString(&quot;float&quot;, AtomString::ConstructFromLiteral));</span>
      return timeline;
  }
  
  void MediaControlTimelineElement::defaultEventHandler(Event&amp; event)
  {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 906,60 ***</span>
  }
  #endif // !PLATFORM(IOS_FAMILY)
  
  void MediaControlTimelineElement::setPosition(double currentTime)
  {
<span class="line-modified">!     setValue(String::numberToStringECMAScript(currentTime));</span>
  }
  
  void MediaControlTimelineElement::setDuration(double duration)
  {
<span class="line-modified">!     setAttribute(maxAttr, AtomicString::number(duration));</span>
  }
  
  // ----------------------------
  
  MediaControlPanelVolumeSliderElement::MediaControlPanelVolumeSliderElement(Document&amp; document)
      : MediaControlVolumeSliderElement(document)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-volume-slider&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPanelVolumeSliderElement&gt; MediaControlPanelVolumeSliderElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlPanelVolumeSliderElement&gt; slider = adoptRef(*new MediaControlPanelVolumeSliderElement(document));
      slider-&gt;ensureUserAgentShadowRoot();
      slider-&gt;setType(&quot;range&quot;);
<span class="line-modified">!     slider-&gt;setAttributeWithoutSynchronization(precisionAttr, AtomicString(&quot;float&quot;, AtomicString::ConstructFromLiteral));</span>
<span class="line-modified">!     slider-&gt;setAttributeWithoutSynchronization(maxAttr, AtomicString(&quot;1&quot;, AtomicString::ConstructFromLiteral));</span>
      return slider;
  }
  
  // ----------------------------
  
  MediaControlFullscreenVolumeSliderElement::MediaControlFullscreenVolumeSliderElement(Document&amp; document)
      : MediaControlVolumeSliderElement(document)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-fullscreen-volume-slider&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlFullscreenVolumeSliderElement&gt; MediaControlFullscreenVolumeSliderElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlFullscreenVolumeSliderElement&gt; slider = adoptRef(*new MediaControlFullscreenVolumeSliderElement(document));
      slider-&gt;ensureUserAgentShadowRoot();
      slider-&gt;setType(&quot;range&quot;);
<span class="line-modified">!     slider-&gt;setAttributeWithoutSynchronization(precisionAttr, AtomicString(&quot;float&quot;, AtomicString::ConstructFromLiteral));</span>
<span class="line-modified">!     slider-&gt;setAttributeWithoutSynchronization(maxAttr, AtomicString(&quot;1&quot;, AtomicString::ConstructFromLiteral));</span>
      return slider;
  }
  
  // ----------------------------
  
  MediaControlFullscreenButtonElement::MediaControlFullscreenButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaEnterFullscreenButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-fullscreen-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlFullscreenButtonElement&gt; MediaControlFullscreenButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlFullscreenButtonElement&gt; button = adoptRef(*new MediaControlFullscreenButtonElement(document));
<span class="line-new-header">--- 907,60 ---</span>
  }
  #endif // !PLATFORM(IOS_FAMILY)
  
  void MediaControlTimelineElement::setPosition(double currentTime)
  {
<span class="line-modified">!     setValue(String::number(currentTime));</span>
  }
  
  void MediaControlTimelineElement::setDuration(double duration)
  {
<span class="line-modified">!     setAttribute(maxAttr, AtomString::number(duration));</span>
  }
  
  // ----------------------------
  
  MediaControlPanelVolumeSliderElement::MediaControlPanelVolumeSliderElement(Document&amp; document)
      : MediaControlVolumeSliderElement(document)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-volume-slider&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlPanelVolumeSliderElement&gt; MediaControlPanelVolumeSliderElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlPanelVolumeSliderElement&gt; slider = adoptRef(*new MediaControlPanelVolumeSliderElement(document));
      slider-&gt;ensureUserAgentShadowRoot();
      slider-&gt;setType(&quot;range&quot;);
<span class="line-modified">!     slider-&gt;setAttributeWithoutSynchronization(precisionAttr, AtomString(&quot;float&quot;, AtomString::ConstructFromLiteral));</span>
<span class="line-modified">!     slider-&gt;setAttributeWithoutSynchronization(maxAttr, AtomString(&quot;1&quot;, AtomString::ConstructFromLiteral));</span>
      return slider;
  }
  
  // ----------------------------
  
  MediaControlFullscreenVolumeSliderElement::MediaControlFullscreenVolumeSliderElement(Document&amp; document)
      : MediaControlVolumeSliderElement(document)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-fullscreen-volume-slider&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlFullscreenVolumeSliderElement&gt; MediaControlFullscreenVolumeSliderElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlFullscreenVolumeSliderElement&gt; slider = adoptRef(*new MediaControlFullscreenVolumeSliderElement(document));
      slider-&gt;ensureUserAgentShadowRoot();
      slider-&gt;setType(&quot;range&quot;);
<span class="line-modified">!     slider-&gt;setAttributeWithoutSynchronization(precisionAttr, AtomString(&quot;float&quot;, AtomString::ConstructFromLiteral));</span>
<span class="line-modified">!     slider-&gt;setAttributeWithoutSynchronization(maxAttr, AtomString(&quot;1&quot;, AtomString::ConstructFromLiteral));</span>
      return slider;
  }
  
  // ----------------------------
  
  MediaControlFullscreenButtonElement::MediaControlFullscreenButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaEnterFullscreenButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-fullscreen-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlFullscreenButtonElement&gt; MediaControlFullscreenButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlFullscreenButtonElement&gt; button = adoptRef(*new MediaControlFullscreenButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 977,14 ***</span>
          // been explicitly enabled. Otherwise, use the old fullscreen API. This
          // allows apps which embed a WebView to retain the existing full screen
          // video implementation without requiring them to implement their own full
          // screen behavior.
          if (document().settings().fullScreenEnabled()) {
<span class="line-modified">!             if (document().webkitIsFullScreen() &amp;&amp; document().webkitCurrentFullScreenElement() == parentMediaElement(this))</span>
<span class="line-modified">!                 document().webkitCancelFullScreen();</span>
              else
<span class="line-modified">!                 document().requestFullScreenForElement(parentMediaElement(this).get(), Document::ExemptIFrameAllowFullScreenRequirement);</span>
          } else
  #endif
              mediaController()-&gt;enterFullscreen();
          event.setDefaultHandled();
      }
<span class="line-new-header">--- 978,14 ---</span>
          // been explicitly enabled. Otherwise, use the old fullscreen API. This
          // allows apps which embed a WebView to retain the existing full screen
          // video implementation without requiring them to implement their own full
          // screen behavior.
          if (document().settings().fullScreenEnabled()) {
<span class="line-modified">!             if (document().fullscreenManager().isFullscreen() &amp;&amp; document().fullscreenManager().currentFullscreenElement() == parentMediaElement(this))</span>
<span class="line-modified">!                 document().fullscreenManager().cancelFullscreen();</span>
              else
<span class="line-modified">!                 document().fullscreenManager().requestFullscreenForElement(parentMediaElement(this).get(), FullscreenManager::ExemptIFrameAllowFullscreenRequirement);</span>
          } else
  #endif
              mediaController()-&gt;enterFullscreen();
          event.setDefaultHandled();
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 999,11 ***</span>
  // ----------------------------
  
  MediaControlFullscreenVolumeMinButtonElement::MediaControlFullscreenVolumeMinButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaUnMuteButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-fullscreen-volume-min-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlFullscreenVolumeMinButtonElement&gt; MediaControlFullscreenVolumeMinButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlFullscreenVolumeMinButtonElement&gt; button = adoptRef(*new MediaControlFullscreenVolumeMinButtonElement(document));
<span class="line-new-header">--- 1000,11 ---</span>
  // ----------------------------
  
  MediaControlFullscreenVolumeMinButtonElement::MediaControlFullscreenVolumeMinButtonElement(Document&amp; document)
      : MediaControlInputElement(document, MediaUnMuteButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-fullscreen-volume-min-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlFullscreenVolumeMinButtonElement&gt; MediaControlFullscreenVolumeMinButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlFullscreenVolumeMinButtonElement&gt; button = adoptRef(*new MediaControlFullscreenVolumeMinButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1024,11 ***</span>
  // ----------------------------
  
  MediaControlFullscreenVolumeMaxButtonElement::MediaControlFullscreenVolumeMaxButtonElement(Document&amp; document)
  : MediaControlInputElement(document, MediaMuteButton)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-controls-fullscreen-volume-max-button&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlFullscreenVolumeMaxButtonElement&gt; MediaControlFullscreenVolumeMaxButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlFullscreenVolumeMaxButtonElement&gt; button = adoptRef(*new MediaControlFullscreenVolumeMaxButtonElement(document));
<span class="line-new-header">--- 1025,11 ---</span>
  // ----------------------------
  
  MediaControlFullscreenVolumeMaxButtonElement::MediaControlFullscreenVolumeMaxButtonElement(Document&amp; document)
  : MediaControlInputElement(document, MediaMuteButton)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-controls-fullscreen-volume-max-button&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlFullscreenVolumeMaxButtonElement&gt; MediaControlFullscreenVolumeMaxButtonElement::create(Document&amp; document)
  {
      Ref&lt;MediaControlFullscreenVolumeMaxButtonElement&gt; button = adoptRef(*new MediaControlFullscreenVolumeMaxButtonElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1057,13 ***</span>
  Ref&lt;MediaControlTimeRemainingDisplayElement&gt; MediaControlTimeRemainingDisplayElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlTimeRemainingDisplayElement(document));
  }
  
<span class="line-modified">! static const AtomicString&amp; getMediaControlTimeRemainingDisplayElementShadowPseudoId()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomicString&gt; id(&quot;-webkit-media-controls-time-remaining-display&quot;, AtomicString::ConstructFromLiteral);</span>
      return id;
  }
  
  // ----------------------------
  
<span class="line-new-header">--- 1058,13 ---</span>
  Ref&lt;MediaControlTimeRemainingDisplayElement&gt; MediaControlTimeRemainingDisplayElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlTimeRemainingDisplayElement(document));
  }
  
<span class="line-modified">! static const AtomString&amp; getMediaControlTimeRemainingDisplayElementShadowPseudoId()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomString&gt; id(&quot;-webkit-media-controls-time-remaining-display&quot;, AtomString::ConstructFromLiteral);</span>
      return id;
  }
  
  // ----------------------------
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1076,13 ***</span>
  Ref&lt;MediaControlCurrentTimeDisplayElement&gt; MediaControlCurrentTimeDisplayElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlCurrentTimeDisplayElement(document));
  }
  
<span class="line-modified">! static const AtomicString&amp; getMediaControlCurrentTimeDisplayElementShadowPseudoId()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomicString&gt; id(&quot;-webkit-media-controls-current-time-display&quot;, AtomicString::ConstructFromLiteral);</span>
      return id;
  }
  
  // ----------------------------
  
<span class="line-new-header">--- 1077,13 ---</span>
  Ref&lt;MediaControlCurrentTimeDisplayElement&gt; MediaControlCurrentTimeDisplayElement::create(Document&amp; document)
  {
      return adoptRef(*new MediaControlCurrentTimeDisplayElement(document));
  }
  
<span class="line-modified">! static const AtomString&amp; getMediaControlCurrentTimeDisplayElementShadowPseudoId()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomString&gt; id(&quot;-webkit-media-controls-current-time-display&quot;, AtomString::ConstructFromLiteral);</span>
      return id;
  }
  
  // ----------------------------
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1093,11 ***</span>
      , m_updateTimer(*this, &amp;MediaControlTextTrackContainerElement::updateTimerFired)
      , m_fontSize(0)
      , m_fontSizeIsImportant(false)
      , m_updateTextTrackRepresentationStyle(false)
  {
<span class="line-modified">!     setPseudo(AtomicString(&quot;-webkit-media-text-track-container&quot;, AtomicString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlTextTrackContainerElement&gt; MediaControlTextTrackContainerElement::create(Document&amp; document)
  {
      auto element = adoptRef(*new MediaControlTextTrackContainerElement(document));
<span class="line-new-header">--- 1094,11 ---</span>
      , m_updateTimer(*this, &amp;MediaControlTextTrackContainerElement::updateTimerFired)
      , m_fontSize(0)
      , m_fontSizeIsImportant(false)
      , m_updateTextTrackRepresentationStyle(false)
  {
<span class="line-modified">!     setPseudo(AtomString(&quot;-webkit-media-text-track-container&quot;, AtomString::ConstructFromLiteral));</span>
  }
  
  Ref&lt;MediaControlTextTrackContainerElement&gt; MediaControlTextTrackContainerElement::create(Document&amp; document)
  {
      auto element = adoptRef(*new MediaControlTextTrackContainerElement(document));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1170,14 ***</span>
      // traverse all children just to check if there are less children than cues.
      if (countChildNodes() &lt; activeCues.size())
          removeChildren();
  
      activeCues.removeAllMatching([] (CueInterval&amp; cueInterval) {
<span class="line-modified">!         if (!cueInterval.data() || !cueInterval.data()-&gt;isRenderable())</span>
              return true;
  
<span class="line-modified">!         RefPtr&lt;VTTCue&gt; cue = toVTTCue(cueInterval.data());</span>
  
          return !cue-&gt;isRenderable()
              || !cue-&gt;track()
              || !cue-&gt;track()-&gt;isRendered()
              || cue-&gt;track()-&gt;mode() == TextTrack::Mode::Disabled
<span class="line-new-header">--- 1171,14 ---</span>
      // traverse all children just to check if there are less children than cues.
      if (countChildNodes() &lt; activeCues.size())
          removeChildren();
  
      activeCues.removeAllMatching([] (CueInterval&amp; cueInterval) {
<span class="line-modified">!         if (!is&lt;VTTCue&gt;(cueInterval.data()))</span>
              return true;
  
<span class="line-modified">!         Ref&lt;VTTCue&gt; cue = downcast&lt;VTTCue&gt;(*cueInterval.data());</span>
  
          return !cue-&gt;isRenderable()
              || !cue-&gt;track()
              || !cue-&gt;track()-&gt;isRendered()
              || cue-&gt;track()-&gt;mode() == TextTrack::Mode::Disabled
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1195,16 ***</span>
      // following substeps:
      for (size_t i = 0; i &lt; activeCues.size(); ++i) {
          if (!mediaController()-&gt;closedCaptionsVisible())
              continue;
  
<span class="line-modified">!         RefPtr&lt;VTTCue&gt; cue = toVTTCue(activeCues[i].data());</span>
<span class="line-removed">-         ASSERT(cue);</span>
<span class="line-removed">-         if (!cue)</span>
<span class="line-removed">-             continue;</span>
  
<span class="line-modified">!         LOG(Media, &quot;MediaControlTextTrackContainerElement::updateDisplay(%p) - adding and positioning cue #%zu: \&quot;%s\&quot;, start=%.2f, end=%.2f, line=%.2f&quot;, this, i, cue-&gt;text().utf8().data(), cue-&gt;startTime(), cue-&gt;endTime(), cue-&gt;line());</span>
          Ref&lt;VTTCueBox&gt; displayBox = cue-&gt;getDisplayTree(m_videoDisplaySize.size(), m_fontSize);
          RefPtr&lt;VTTRegion&gt; region = cue-&gt;track()-&gt;regions()-&gt;getRegionById(cue-&gt;regionId());
          if (!region) {
              // If cue has an empty text track cue region identifier or there is no
              // WebVTT region whose region identifier is identical to cue&#39;s text
<span class="line-new-header">--- 1196,13 ---</span>
      // following substeps:
      for (size_t i = 0; i &lt; activeCues.size(); ++i) {
          if (!mediaController()-&gt;closedCaptionsVisible())
              continue;
  
<span class="line-modified">!         RefPtr&lt;VTTCue&gt; cue = downcast&lt;VTTCue&gt;(activeCues[i].data());</span>
  
<span class="line-modified">!         DEBUG_LOG(LOGIDENTIFIER, &quot;adding and positioning cue &quot;, i, &quot;: \&quot;&quot;, cue-&gt;text(), &quot;\&quot;, start=&quot;, cue-&gt;startTime(), &quot;, end=&quot;, cue-&gt;endTime(), &quot;, line=&quot;, cue-&gt;line());</span>
          Ref&lt;VTTCueBox&gt; displayBox = cue-&gt;getDisplayTree(m_videoDisplaySize.size(), m_fontSize);
          RefPtr&lt;VTTRegion&gt; region = cue-&gt;track()-&gt;regions()-&gt;getRegionById(cue-&gt;regionId());
          if (!region) {
              // If cue has an empty text track cue region identifier or there is no
              // WebVTT region whose region identifier is identical to cue&#39;s text
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1452,10 ***</span>
<span class="line-new-header">--- 1450,29 ---</span>
      if (hasChildNodes())
          updateTextTrackRepresentation();
      updateSizes();
  }
  
<span class="line-added">+ #if !RELEASE_LOG_DISABLED</span>
<span class="line-added">+ const Logger&amp; MediaControlTextTrackContainerElement::logger() const</span>
<span class="line-added">+ {</span>
<span class="line-added">+     return document().logger();</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ const void* MediaControlTextTrackContainerElement::logIdentifier() const</span>
<span class="line-added">+ {</span>
<span class="line-added">+     if (auto mediaElement = parentMediaElement(this))</span>
<span class="line-added">+         return mediaElement-&gt;logIdentifier();</span>
<span class="line-added">+     return nullptr;</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ WTFLogChannel&amp; MediaControlTextTrackContainerElement::logChannel() const</span>
<span class="line-added">+ {</span>
<span class="line-added">+     return LogMedia;</span>
<span class="line-added">+ }</span>
<span class="line-added">+ #endif // !RELEASE_LOG_DISABLED</span>
<span class="line-added">+ </span>
  #endif // ENABLE(VIDEO_TRACK)
  
  // ----------------------------
  
  } // namespace WebCore
</pre>
<center><a href="MediaControlElementTypes.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="MediaControlElements.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>