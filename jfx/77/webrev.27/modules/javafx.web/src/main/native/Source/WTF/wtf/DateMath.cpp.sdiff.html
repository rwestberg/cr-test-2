<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/DateMath.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CryptographicallyRandomNumber.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DateMath.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/DateMath.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1153         return std::numeric_limits&lt;double&gt;::quiet_NaN();
1154 
1155     // fall back to local timezone
1156     if (!haveTZ)
1157         offset = calculateLocalTimeOffset(ms, LocalTime).offset / msPerMinute; // ms value is in local time milliseconds.
1158 
1159     return ms - (offset * msPerMinute);
1160 }
1161 
1162 double timeClip(double t)
1163 {
1164     if (std::abs(t) &gt; maxECMAScriptTime)
1165         return std::numeric_limits&lt;double&gt;::quiet_NaN();
1166     return std::trunc(t) + 0.0;
1167 }
1168 
1169 // See http://tools.ietf.org/html/rfc2822#section-3.3 for more information.
1170 String makeRFC2822DateString(unsigned dayOfWeek, unsigned day, unsigned month, unsigned year, unsigned hours, unsigned minutes, unsigned seconds, int utcOffset)
1171 {
1172     StringBuilder stringBuilder;
<span class="line-modified">1173     stringBuilder.append(weekdayName[dayOfWeek]);</span>
<span class="line-removed">1174     stringBuilder.appendLiteral(&quot;, &quot;);</span>
<span class="line-removed">1175     stringBuilder.appendNumber(day);</span>
<span class="line-removed">1176     stringBuilder.append(&#39; &#39;);</span>
<span class="line-removed">1177     stringBuilder.append(monthName[month]);</span>
<span class="line-removed">1178     stringBuilder.append(&#39; &#39;);</span>
<span class="line-removed">1179     stringBuilder.appendNumber(year);</span>
<span class="line-removed">1180     stringBuilder.append(&#39; &#39;);</span>
1181 
1182     appendTwoDigitNumber(stringBuilder, hours);
1183     stringBuilder.append(&#39;:&#39;);
1184     appendTwoDigitNumber(stringBuilder, minutes);
1185     stringBuilder.append(&#39;:&#39;);
1186     appendTwoDigitNumber(stringBuilder, seconds);
1187     stringBuilder.append(&#39; &#39;);
1188 
1189     stringBuilder.append(utcOffset &gt; 0 ? &#39;+&#39; : &#39;-&#39;);
1190     int absoluteUTCOffset = abs(utcOffset);
1191     appendTwoDigitNumber(stringBuilder, absoluteUTCOffset / 60);
1192     appendTwoDigitNumber(stringBuilder, absoluteUTCOffset % 60);
1193 
1194     return stringBuilder.toString();
1195 }
1196 
1197 } // namespace WTF
</pre>
</td>
<td>
<hr />
<pre>
1153         return std::numeric_limits&lt;double&gt;::quiet_NaN();
1154 
1155     // fall back to local timezone
1156     if (!haveTZ)
1157         offset = calculateLocalTimeOffset(ms, LocalTime).offset / msPerMinute; // ms value is in local time milliseconds.
1158 
1159     return ms - (offset * msPerMinute);
1160 }
1161 
1162 double timeClip(double t)
1163 {
1164     if (std::abs(t) &gt; maxECMAScriptTime)
1165         return std::numeric_limits&lt;double&gt;::quiet_NaN();
1166     return std::trunc(t) + 0.0;
1167 }
1168 
1169 // See http://tools.ietf.org/html/rfc2822#section-3.3 for more information.
1170 String makeRFC2822DateString(unsigned dayOfWeek, unsigned day, unsigned month, unsigned year, unsigned hours, unsigned minutes, unsigned seconds, int utcOffset)
1171 {
1172     StringBuilder stringBuilder;
<span class="line-modified">1173     stringBuilder.append(weekdayName[dayOfWeek], &quot;, &quot;, day, &#39; &#39;, monthName[month], &#39; &#39;, year, &#39; &#39;);</span>







1174 
1175     appendTwoDigitNumber(stringBuilder, hours);
1176     stringBuilder.append(&#39;:&#39;);
1177     appendTwoDigitNumber(stringBuilder, minutes);
1178     stringBuilder.append(&#39;:&#39;);
1179     appendTwoDigitNumber(stringBuilder, seconds);
1180     stringBuilder.append(&#39; &#39;);
1181 
1182     stringBuilder.append(utcOffset &gt; 0 ? &#39;+&#39; : &#39;-&#39;);
1183     int absoluteUTCOffset = abs(utcOffset);
1184     appendTwoDigitNumber(stringBuilder, absoluteUTCOffset / 60);
1185     appendTwoDigitNumber(stringBuilder, absoluteUTCOffset % 60);
1186 
1187     return stringBuilder.toString();
1188 }
1189 
1190 } // namespace WTF
</pre>
</td>
</tr>
</table>
<center><a href="CryptographicallyRandomNumber.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DateMath.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>