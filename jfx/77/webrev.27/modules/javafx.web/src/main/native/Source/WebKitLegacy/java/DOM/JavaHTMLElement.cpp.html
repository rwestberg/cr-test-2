<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/WebKitLegacy/java/DOM/JavaHTMLElement.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2013, 2019, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 #undef IMPL
 27 
 28 
 29 #include &lt;WebCore/DOMException.h&gt;
 30 #include &lt;WebCore/Element.h&gt;
 31 #include &lt;WebCore/HTMLCollection.h&gt;
 32 #include &lt;WebCore/HTMLElement.h&gt;
 33 #include &lt;WebCore/HTMLNames.h&gt;
 34 #include &lt;WebCore/JSExecState.h&gt;
 35 
 36 #include &lt;wtf/RefPtr.h&gt;
 37 #include &lt;wtf/GetPtr.h&gt;
 38 
 39 #include &lt;WebCore/JavaDOMUtils.h&gt;
 40 #include &lt;wtf/java/JavaEnv.h&gt;
 41 
 42 using namespace WebCore;
 43 
 44 extern &quot;C&quot; {
 45 
 46 #define IMPL (static_cast&lt;HTMLElement*&gt;(jlong_to_ptr(peer)))
 47 
 48 // Attributes
 49 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getIdImpl(JNIEnv* env, jclass, jlong peer)
 50 {
 51     WebCore::JSMainThreadNullState state;
 52     return JavaReturn&lt;String&gt;(env, IMPL-&gt;getIdAttribute());
 53 }
 54 
 55 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setIdImpl(JNIEnv* env, jclass, jlong peer, jstring value)
 56 {
 57     WebCore::JSMainThreadNullState state;
 58     IMPL-&gt;setAttributeWithoutSynchronization(WebCore::HTMLNames::idAttr, String(env, value));
 59 }
 60 
 61 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getTitleImpl(JNIEnv* env, jclass, jlong peer)
 62 {
 63     WebCore::JSMainThreadNullState state;
 64     return JavaReturn&lt;String&gt;(env, IMPL-&gt;getAttribute(WebCore::HTMLNames::titleAttr));
 65 }
 66 
 67 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setTitleImpl(JNIEnv* env, jclass, jlong peer, jstring value)
 68 {
 69     WebCore::JSMainThreadNullState state;
 70     IMPL-&gt;setAttributeWithoutSynchronization(WebCore::HTMLNames::titleAttr, String(env, value));
 71 }
 72 
 73 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getLangImpl(JNIEnv* env, jclass, jlong peer)
 74 {
 75     WebCore::JSMainThreadNullState state;
 76     return JavaReturn&lt;String&gt;(env, IMPL-&gt;getAttribute(WebCore::HTMLNames::langAttr));
 77 }
 78 
 79 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setLangImpl(JNIEnv* env, jclass, jlong peer, jstring value)
 80 {
 81     WebCore::JSMainThreadNullState state;
 82     IMPL-&gt;setAttributeWithoutSynchronization(WebCore::HTMLNames::langAttr, String(env, value));
 83 }
 84 
 85 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getTranslateImpl(JNIEnv*, jclass, jlong peer)
 86 {
 87     WebCore::JSMainThreadNullState state;
 88     return IMPL-&gt;translate();
 89 }
 90 
 91 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setTranslateImpl(JNIEnv*, jclass, jlong peer, jboolean value)
 92 {
 93     WebCore::JSMainThreadNullState state;
 94     IMPL-&gt;setTranslate(value);
 95 }
 96 
 97 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getDirImpl(JNIEnv* env, jclass, jlong peer)
 98 {
 99     WebCore::JSMainThreadNullState state;
100     return JavaReturn&lt;String&gt;(env, IMPL-&gt;dir());
101 }
102 
103 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setDirImpl(JNIEnv* env, jclass, jlong peer, jstring value)
104 {
105     WebCore::JSMainThreadNullState state;
106     IMPL-&gt;setDir(String(env, value));
107 }
108 
109 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getDraggableImpl(JNIEnv*, jclass, jlong peer)
110 {
111     WebCore::JSMainThreadNullState state;
112     return IMPL-&gt;draggable();
113 }
114 
115 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setDraggableImpl(JNIEnv*, jclass, jlong peer, jboolean value)
116 {
117     WebCore::JSMainThreadNullState state;
118     IMPL-&gt;setDraggable(value);
119 }
120 
121 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getWebkitdropzoneImpl(JNIEnv* env, jclass, jlong peer)
122 {
123     WebCore::JSMainThreadNullState state;
124     return JavaReturn&lt;String&gt;(env, IMPL-&gt;getAttribute(WebCore::HTMLNames::webkitdropzoneAttr));
125 }
126 
127 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setWebkitdropzoneImpl(JNIEnv* env, jclass, jlong peer, jstring value)
128 {
129     WebCore::JSMainThreadNullState state;
130     IMPL-&gt;setAttributeWithoutSynchronization(WebCore::HTMLNames::webkitdropzoneAttr, String(env, value));
131 }
132 
133 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getHiddenImpl(JNIEnv*, jclass, jlong peer)
134 {
135     WebCore::JSMainThreadNullState state;
136     return IMPL-&gt;hasAttribute(WebCore::HTMLNames::hiddenAttr);
137 }
138 
139 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setHiddenImpl(JNIEnv*, jclass, jlong peer, jboolean value)
140 {
141     WebCore::JSMainThreadNullState state;
142     IMPL-&gt;setBooleanAttribute(WebCore::HTMLNames::hiddenAttr, value);
143 }
144 
145 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getAccessKeyImpl(JNIEnv* env, jclass, jlong peer)
146 {
147     WebCore::JSMainThreadNullState state;
148     return JavaReturn&lt;String&gt;(env, IMPL-&gt;getAttribute(WebCore::HTMLNames::accesskeyAttr));
149 }
150 
151 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setAccessKeyImpl(JNIEnv* env, jclass, jlong peer, jstring value)
152 {
153     WebCore::JSMainThreadNullState state;
154     IMPL-&gt;setAttributeWithoutSynchronization(WebCore::HTMLNames::accesskeyAttr, String(env, value));
155 }
156 
157 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getInnerTextImpl(JNIEnv* env, jclass, jlong peer)
158 {
159     WebCore::JSMainThreadNullState state;
160     return JavaReturn&lt;String&gt;(env, IMPL-&gt;innerText());
161 }
162 
163 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setInnerTextImpl(JNIEnv* env, jclass, jlong peer, jstring value)
164 {
165     WebCore::JSMainThreadNullState state;
166     IMPL-&gt;setInnerText(String(env, value));
167 }
168 
169 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getOuterTextImpl(JNIEnv* env, jclass, jlong peer)
170 {
171     WebCore::JSMainThreadNullState state;
172     return JavaReturn&lt;String&gt;(env, IMPL-&gt;outerText());
173 }
174 
175 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setOuterTextImpl(JNIEnv* env, jclass, jlong peer, jstring value)
176 {
177     WebCore::JSMainThreadNullState state;
178     IMPL-&gt;setOuterText(String(env, value));
179 }
180 
181 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getChildrenImpl(JNIEnv* env, jclass, jlong peer)
182 {
183     WebCore::JSMainThreadNullState state;
184     return JavaReturn&lt;HTMLCollection&gt;(env, WTF::getPtr(IMPL-&gt;children()));
185 }
186 
187 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getContentEditableImpl(JNIEnv* env, jclass, jlong peer)
188 {
189     WebCore::JSMainThreadNullState state;
190     return JavaReturn&lt;String&gt;(env, IMPL-&gt;contentEditable());
191 }
192 
193 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setContentEditableImpl(JNIEnv* env, jclass, jlong peer, jstring value)
194 {
195     WebCore::JSMainThreadNullState state;
196     IMPL-&gt;setContentEditable(String(env, value));
197 }
198 
199 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getIsContentEditableImpl(JNIEnv*, jclass, jlong peer)
200 {
201     WebCore::JSMainThreadNullState state;
202     return IMPL-&gt;isContentEditable();
203 }
204 
205 JNIEXPORT jboolean JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getSpellcheckImpl(JNIEnv*, jclass, jlong peer)
206 {
207     WebCore::JSMainThreadNullState state;
208     return IMPL-&gt;spellcheck();
209 }
210 
211 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_setSpellcheckImpl(JNIEnv*, jclass, jlong peer, jboolean value)
212 {
213     WebCore::JSMainThreadNullState state;
214     IMPL-&gt;setSpellcheck(value);
215 }
216 
217 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_getTitleDisplayStringImpl(JNIEnv* env, jclass, jlong peer)
218 {
219     WebCore::JSMainThreadNullState state;
220     return JavaReturn&lt;String&gt;(env, IMPL-&gt;title());
221 }
222 
223 
224 // Functions
225 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_insertAdjacentElementImpl(JNIEnv* env, jclass, jlong peer
226     , jstring where
227     , jlong element)
228 {
229     WebCore::JSMainThreadNullState state;
230     if (!element) {
231         raiseTypeErrorException(env);
232         return 0;
233     }
234     return JavaReturn&lt;Element&gt;(env, WTF::getPtr(raiseOnDOMError(env, IMPL-&gt;insertAdjacentElement(String(env, where), *static_cast&lt;Element*&gt;(jlong_to_ptr(element))))));
235 }
236 
237 
238 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_insertAdjacentHTMLImpl(JNIEnv* env, jclass, jlong peer
239     , jstring where
240     , jstring html)
241 {
242     WebCore::JSMainThreadNullState state;
243     raiseOnDOMError(env, IMPL-&gt;insertAdjacentHTML(String(env, where)
244             , String(env, html)));
245 }
246 
247 
248 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_insertAdjacentTextImpl(JNIEnv* env, jclass, jlong peer
249     , jstring where
250     , jstring text)
251 {
252     WebCore::JSMainThreadNullState state;
253     raiseOnDOMError(env, IMPL-&gt;insertAdjacentText(String(env, where)
254             , String(env, text)));
255 }
256 
257 
258 JNIEXPORT void JNICALL Java_com_sun_webkit_dom_HTMLElementImpl_clickImpl(JNIEnv*, jclass, jlong peer)
259 {
260     WebCore::JSMainThreadNullState state;
261     IMPL-&gt;click();
262 }
263 
264 
265 }
    </pre>
  </body>
</html>