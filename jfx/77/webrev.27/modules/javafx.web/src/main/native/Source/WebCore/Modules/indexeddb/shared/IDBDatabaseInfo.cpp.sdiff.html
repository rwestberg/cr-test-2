<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/Modules/indexeddb/shared/IDBDatabaseInfo.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../server/UniqueIDBDatabaseTransaction.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="IDBDatabaseInfo.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/Modules/indexeddb/shared/IDBDatabaseInfo.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
139         names.uncheckedAppend(objectStore.name());
140 
141     return names;
142 }
143 
144 void IDBDatabaseInfo::deleteObjectStore(const String&amp; objectStoreName)
145 {
146     auto* info = infoForExistingObjectStore(objectStoreName);
147     if (!info)
148         return;
149 
150     m_objectStoreMap.remove(info-&gt;identifier());
151 }
152 
153 void IDBDatabaseInfo::deleteObjectStore(uint64_t objectStoreIdentifier)
154 {
155     m_objectStoreMap.remove(objectStoreIdentifier);
156 }
157 
158 #if !LOG_DISABLED

159 String IDBDatabaseInfo::loggingString() const
160 {
161     StringBuilder builder;
<span class="line-modified">162     builder.appendLiteral(&quot;Database:&quot;);</span>
<span class="line-modified">163     builder.append(m_name);</span>
<span class="line-modified">164     builder.appendLiteral(&quot; version &quot;);</span>
<span class="line-removed">165     builder.appendNumber(m_version);</span>
<span class="line-removed">166     builder.append(&#39;\n&#39;);</span>
<span class="line-removed">167     for (const auto&amp; objectStore : m_objectStoreMap.values()) {</span>
<span class="line-removed">168         builder.append(objectStore.loggingString(1));</span>
<span class="line-removed">169         builder.append(&#39;\n&#39;);</span>
<span class="line-removed">170     }</span>
<span class="line-removed">171 </span>
172     return builder.toString();
173 }

174 #endif
175 
176 } // namespace WebCore
177 
178 #endif // ENABLE(INDEXED_DATABASE)
</pre>
</td>
<td>
<hr />
<pre>
139         names.uncheckedAppend(objectStore.name());
140 
141     return names;
142 }
143 
144 void IDBDatabaseInfo::deleteObjectStore(const String&amp; objectStoreName)
145 {
146     auto* info = infoForExistingObjectStore(objectStoreName);
147     if (!info)
148         return;
149 
150     m_objectStoreMap.remove(info-&gt;identifier());
151 }
152 
153 void IDBDatabaseInfo::deleteObjectStore(uint64_t objectStoreIdentifier)
154 {
155     m_objectStoreMap.remove(objectStoreIdentifier);
156 }
157 
158 #if !LOG_DISABLED
<span class="line-added">159 </span>
160 String IDBDatabaseInfo::loggingString() const
161 {
162     StringBuilder builder;
<span class="line-modified">163     builder.append(&quot;Database:&quot;, m_name, &quot; version &quot;, m_version, &#39;\n&#39;);</span>
<span class="line-modified">164     for (auto&amp; objectStore : m_objectStoreMap.values())</span>
<span class="line-modified">165         builder.append(objectStore.loggingString(1), &#39;\n&#39;);</span>







166     return builder.toString();
167 }
<span class="line-added">168 </span>
169 #endif
170 
171 } // namespace WebCore
172 
173 #endif // ENABLE(INDEXED_DATABASE)
</pre>
</td>
</tr>
</table>
<center><a href="../server/UniqueIDBDatabaseTransaction.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="IDBDatabaseInfo.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>