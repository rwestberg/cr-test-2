<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/RedBlackTree.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="RecursableLambda.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="RefCounted.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/RedBlackTree.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 24  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 25  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 26  * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 27  */
 28 
 29 #pragma once
 30 
 31 #include &lt;wtf/Assertions.h&gt;
 32 #include &lt;wtf/Noncopyable.h&gt;
 33 
 34 namespace WTF {
 35 
 36 // This implements a red-black tree with the following properties:
 37 // - The allocation of nodes in the tree is entirely up to the user.
 38 // - If you are in possession of a pointer to a node, you can delete
 39 //   it from the tree. The tree will subsequently no longer have a
 40 //   reference to this node.
 41 // - The key type must implement operator&lt; and ==.
 42 
 43 template&lt;class NodeType, typename KeyType&gt;
<span class="line-modified"> 44 class RedBlackTree {</span>
 45     WTF_MAKE_NONCOPYABLE(RedBlackTree);

 46 private:
 47     enum Color {
 48         Red = 1,
 49         Black
 50     };
 51 
 52 public:
 53     class Node {
 54         friend class RedBlackTree;
 55 
 56     public:
 57         const NodeType* successor() const
 58         {
 59             const Node* x = this;
 60             if (x-&gt;right())
 61                 return treeMinimum(x-&gt;right());
 62             const NodeType* y = x-&gt;parent();
 63             while (y &amp;&amp; x == y-&gt;right()) {
 64                 x = y;
 65                 y = y-&gt;parent();
</pre>
</td>
<td>
<hr />
<pre>
 24  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 25  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 26  * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 27  */
 28 
 29 #pragma once
 30 
 31 #include &lt;wtf/Assertions.h&gt;
 32 #include &lt;wtf/Noncopyable.h&gt;
 33 
 34 namespace WTF {
 35 
 36 // This implements a red-black tree with the following properties:
 37 // - The allocation of nodes in the tree is entirely up to the user.
 38 // - If you are in possession of a pointer to a node, you can delete
 39 //   it from the tree. The tree will subsequently no longer have a
 40 //   reference to this node.
 41 // - The key type must implement operator&lt; and ==.
 42 
 43 template&lt;class NodeType, typename KeyType&gt;
<span class="line-modified"> 44 class RedBlackTree final {</span>
 45     WTF_MAKE_NONCOPYABLE(RedBlackTree);
<span class="line-added"> 46     WTF_MAKE_FAST_ALLOCATED;</span>
 47 private:
 48     enum Color {
 49         Red = 1,
 50         Black
 51     };
 52 
 53 public:
 54     class Node {
 55         friend class RedBlackTree;
 56 
 57     public:
 58         const NodeType* successor() const
 59         {
 60             const Node* x = this;
 61             if (x-&gt;right())
 62                 return treeMinimum(x-&gt;right());
 63             const NodeType* y = x-&gt;parent();
 64             while (y &amp;&amp; x == y-&gt;right()) {
 65                 x = y;
 66                 y = y-&gt;parent();
</pre>
</td>
</tr>
</table>
<center><a href="RecursableLambda.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="RefCounted.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>