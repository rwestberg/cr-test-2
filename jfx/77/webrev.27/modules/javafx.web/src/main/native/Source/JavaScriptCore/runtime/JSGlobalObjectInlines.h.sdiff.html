<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/JSGlobalObjectInlines.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JSGlobalObjectFunctions.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="JSImmutableButterfly.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/JSGlobalObjectInlines.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
45         &amp;&amp; objectPrototypeIsSane();
46 }
47 
48 ALWAYS_INLINE bool JSGlobalObject::stringPrototypeChainIsSane()
49 {
50     return !hasIndexedProperties(m_stringPrototype-&gt;indexingType())
51         &amp;&amp; m_stringPrototype-&gt;getPrototypeDirect(vm()) == m_objectPrototype.get()
52         &amp;&amp; objectPrototypeIsSane();
53 }
54 
55 ALWAYS_INLINE bool JSGlobalObject::isArrayPrototypeIteratorProtocolFastAndNonObservable()
56 {
57     // We&#39;re fast if we don&#39;t have any indexed properties on the prototype.
58     // We&#39;re non-observable if the iteration protocol hasn&#39;t changed.
59     //
60     // Note: it only makes sense to call this from the main thread. If you&#39;re
61     // trying to prove this behavior on the compiler thread, you&#39;ll want to
62     // carefully set up watchpoints to have correct ordering while JS code is
63     // executing concurrently.
64 
<span class="line-modified">65     return arrayIteratorProtocolWatchpoint().isStillValid() &amp;&amp; !isHavingABadTime() &amp;&amp; arrayPrototypeChainIsSane();</span>
66 }
67 
68 // We&#39;re non-observable if the iteration protocol hasn&#39;t changed.
69 //
70 // Note: it only makes sense to call this from the main thread. If you&#39;re
71 // trying to prove this behavior on the compiler thread, you&#39;ll want to
72 // carefully set up watchpoints to have correct ordering while JS code is
73 // executing concurrently.
74 ALWAYS_INLINE bool JSGlobalObject::isMapPrototypeIteratorProtocolFastAndNonObservable()
75 {
<span class="line-modified">76     return mapIteratorProtocolWatchpoint().isStillValid();</span>
77 }
78 
79 ALWAYS_INLINE bool JSGlobalObject::isSetPrototypeIteratorProtocolFastAndNonObservable()
80 {
<span class="line-modified">81     return setIteratorProtocolWatchpoint().isStillValid();</span>
82 }
83 
84 ALWAYS_INLINE bool JSGlobalObject::isStringPrototypeIteratorProtocolFastAndNonObservable()
85 {
<span class="line-modified">86     return stringIteratorProtocolWatchpoint().isStillValid();</span>
87 }
88 
89 ALWAYS_INLINE bool JSGlobalObject::isMapPrototypeSetFastAndNonObservable()
90 {
<span class="line-modified">91     return mapSetWatchpoint().isStillValid();</span>
92 }
93 
94 ALWAYS_INLINE bool JSGlobalObject::isSetPrototypeAddFastAndNonObservable()
95 {
<span class="line-modified">96     return setAddWatchpoint().isStillValid();</span>
97 }
98 
99 } // namespace JSC
</pre>
</td>
<td>
<hr />
<pre>
45         &amp;&amp; objectPrototypeIsSane();
46 }
47 
48 ALWAYS_INLINE bool JSGlobalObject::stringPrototypeChainIsSane()
49 {
50     return !hasIndexedProperties(m_stringPrototype-&gt;indexingType())
51         &amp;&amp; m_stringPrototype-&gt;getPrototypeDirect(vm()) == m_objectPrototype.get()
52         &amp;&amp; objectPrototypeIsSane();
53 }
54 
55 ALWAYS_INLINE bool JSGlobalObject::isArrayPrototypeIteratorProtocolFastAndNonObservable()
56 {
57     // We&#39;re fast if we don&#39;t have any indexed properties on the prototype.
58     // We&#39;re non-observable if the iteration protocol hasn&#39;t changed.
59     //
60     // Note: it only makes sense to call this from the main thread. If you&#39;re
61     // trying to prove this behavior on the compiler thread, you&#39;ll want to
62     // carefully set up watchpoints to have correct ordering while JS code is
63     // executing concurrently.
64 
<span class="line-modified">65     return arrayIteratorProtocolWatchpointSet().isStillValid() &amp;&amp; !isHavingABadTime() &amp;&amp; arrayPrototypeChainIsSane();</span>
66 }
67 
68 // We&#39;re non-observable if the iteration protocol hasn&#39;t changed.
69 //
70 // Note: it only makes sense to call this from the main thread. If you&#39;re
71 // trying to prove this behavior on the compiler thread, you&#39;ll want to
72 // carefully set up watchpoints to have correct ordering while JS code is
73 // executing concurrently.
74 ALWAYS_INLINE bool JSGlobalObject::isMapPrototypeIteratorProtocolFastAndNonObservable()
75 {
<span class="line-modified">76     return mapIteratorProtocolWatchpointSet().isStillValid();</span>
77 }
78 
79 ALWAYS_INLINE bool JSGlobalObject::isSetPrototypeIteratorProtocolFastAndNonObservable()
80 {
<span class="line-modified">81     return setIteratorProtocolWatchpointSet().isStillValid();</span>
82 }
83 
84 ALWAYS_INLINE bool JSGlobalObject::isStringPrototypeIteratorProtocolFastAndNonObservable()
85 {
<span class="line-modified">86     return stringIteratorProtocolWatchpointSet().isStillValid();</span>
87 }
88 
89 ALWAYS_INLINE bool JSGlobalObject::isMapPrototypeSetFastAndNonObservable()
90 {
<span class="line-modified">91     return mapSetWatchpointSet().isStillValid();</span>
92 }
93 
94 ALWAYS_INLINE bool JSGlobalObject::isSetPrototypeAddFastAndNonObservable()
95 {
<span class="line-modified">96     return setAddWatchpointSet().isStillValid();</span>
97 }
98 
99 } // namespace JSC
</pre>
</td>
</tr>
</table>
<center><a href="JSGlobalObjectFunctions.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="JSImmutableButterfly.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>