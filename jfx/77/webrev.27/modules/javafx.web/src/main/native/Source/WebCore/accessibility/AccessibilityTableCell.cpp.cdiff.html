<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/accessibility/AccessibilityTableCell.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AccessibilityTable.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="AccessibilityTableColumn.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/accessibility/AccessibilityTableCell.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 146,11 ***</span>
      return node() &amp;&amp; node()-&gt;hasTagName(thTag);
  }
  
  bool AccessibilityTableCell::isColumnHeaderCell() const
  {
<span class="line-modified">!     const AtomicString&amp; scope = getAttribute(scopeAttr);</span>
      if (scope == &quot;col&quot; || scope == &quot;colgroup&quot;)
          return true;
      if (scope == &quot;row&quot; || scope == &quot;rowgroup&quot;)
          return false;
      if (!isTableHeaderCell())
<span class="line-new-header">--- 146,11 ---</span>
      return node() &amp;&amp; node()-&gt;hasTagName(thTag);
  }
  
  bool AccessibilityTableCell::isColumnHeaderCell() const
  {
<span class="line-modified">!     const AtomString&amp; scope = getAttribute(scopeAttr);</span>
      if (scope == &quot;col&quot; || scope == &quot;colgroup&quot;)
          return true;
      if (scope == &quot;row&quot; || scope == &quot;rowgroup&quot;)
          return false;
      if (!isTableHeaderCell())
</pre>
<hr />
<pre>
<span class="line-old-header">*** 175,11 ***</span>
      return false;
  }
  
  bool AccessibilityTableCell::isRowHeaderCell() const
  {
<span class="line-modified">!     const AtomicString&amp; scope = getAttribute(scopeAttr);</span>
      if (scope == &quot;row&quot; || scope == &quot;rowgroup&quot;)
          return true;
      if (scope == &quot;col&quot; || scope == &quot;colgroup&quot;)
          return false;
      if (!isTableHeaderCell())
<span class="line-new-header">--- 175,11 ---</span>
      return false;
  }
  
  bool AccessibilityTableCell::isRowHeaderCell() const
  {
<span class="line-modified">!     const AtomString&amp; scope = getAttribute(scopeAttr);</span>
      if (scope == &quot;row&quot; || scope == &quot;rowgroup&quot;)
          return true;
      if (scope == &quot;col&quot; || scope == &quot;colgroup&quot;)
          return false;
      if (!isTableHeaderCell())
</pre>
<hr />
<pre>
<span class="line-old-header">*** 267,11 ***</span>
              continue;
  
          std::pair&lt;unsigned, unsigned&gt; childRowRange;
          tableCell-&gt;rowIndexRange(childRowRange);
  
<span class="line-modified">!         const AtomicString&amp; scope = tableCell-&gt;getAttribute(scopeAttr);</span>
          if (scope == &quot;colgroup&quot; &amp;&amp; isTableCellInSameColGroup(tableCell))
              headers.append(tableCell);
          else if (tableCell-&gt;isColumnHeaderCell())
              headers.append(tableCell);
      }
<span class="line-new-header">--- 267,11 ---</span>
              continue;
  
          std::pair&lt;unsigned, unsigned&gt; childRowRange;
          tableCell-&gt;rowIndexRange(childRowRange);
  
<span class="line-modified">!         const AtomString&amp; scope = tableCell-&gt;getAttribute(scopeAttr);</span>
          if (scope == &quot;colgroup&quot; &amp;&amp; isTableCellInSameColGroup(tableCell))
              headers.append(tableCell);
          else if (tableCell-&gt;isColumnHeaderCell())
              headers.append(tableCell);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 292,11 ***</span>
      for (unsigned column = 0; column &lt; colRange.first; column++) {
          AccessibilityTableCell* tableCell = parent-&gt;cellForColumnAndRow(column, rowRange.first);
          if (!tableCell || tableCell == this || headers.contains(tableCell))
              continue;
  
<span class="line-modified">!         const AtomicString&amp; scope = tableCell-&gt;getAttribute(scopeAttr);</span>
          if (scope == &quot;rowgroup&quot; &amp;&amp; isTableCellInSameRowGroup(tableCell))
              headers.append(tableCell);
          else if (tableCell-&gt;isRowHeaderCell())
              headers.append(tableCell);
      }
<span class="line-new-header">--- 292,11 ---</span>
      for (unsigned column = 0; column &lt; colRange.first; column++) {
          AccessibilityTableCell* tableCell = parent-&gt;cellForColumnAndRow(column, rowRange.first);
          if (!tableCell || tableCell == this || headers.contains(tableCell))
              continue;
  
<span class="line-modified">!         const AtomString&amp; scope = tableCell-&gt;getAttribute(scopeAttr);</span>
          if (scope == &quot;rowgroup&quot; &amp;&amp; isTableCellInSameRowGroup(tableCell))
              headers.append(tableCell);
          else if (tableCell-&gt;isRowHeaderCell())
              headers.append(tableCell);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 383,11 ***</span>
      return axObjectCache()-&gt;getOrCreate(headerCell);
  }
  
  int AccessibilityTableCell::axColumnIndex() const
  {
<span class="line-modified">!     const AtomicString&amp; colIndexValue = getAttribute(aria_colindexAttr);</span>
      if (colIndexValue.toInt() &gt;= 1)
          return colIndexValue.toInt();
  
      // &quot;ARIA 1.1: If the set of columns which is present in the DOM is contiguous, and if there are no cells which span more than one row
      // or column in that set, then authors may place aria-colindex on each row, setting the value to the index of the first column of the set.&quot;
<span class="line-new-header">--- 383,11 ---</span>
      return axObjectCache()-&gt;getOrCreate(headerCell);
  }
  
  int AccessibilityTableCell::axColumnIndex() const
  {
<span class="line-modified">!     const AtomString&amp; colIndexValue = getAttribute(aria_colindexAttr);</span>
      if (colIndexValue.toInt() &gt;= 1)
          return colIndexValue.toInt();
  
      // &quot;ARIA 1.1: If the set of columns which is present in the DOM is contiguous, and if there are no cells which span more than one row
      // or column in that set, then authors may place aria-colindex on each row, setting the value to the index of the first column of the set.&quot;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 401,11 ***</span>
  
  int AccessibilityTableCell::axRowIndex() const
  {
      // ARIA 1.1: Authors should place aria-rowindex on each row. Authors may also place
      // aria-rowindex on all of the children or owned elements of each row.
<span class="line-modified">!     const AtomicString&amp; rowIndexValue = getAttribute(aria_rowindexAttr);</span>
      if (rowIndexValue.toInt() &gt;= 1)
          return rowIndexValue.toInt();
  
      if (AccessibilityTableRow* parentRow = this-&gt;parentRow())
          return parentRow-&gt;axRowIndex();
<span class="line-new-header">--- 401,11 ---</span>
  
  int AccessibilityTableCell::axRowIndex() const
  {
      // ARIA 1.1: Authors should place aria-rowindex on each row. Authors may also place
      // aria-rowindex on all of the children or owned elements of each row.
<span class="line-modified">!     const AtomString&amp; rowIndexValue = getAttribute(aria_rowindexAttr);</span>
      if (rowIndexValue.toInt() &gt;= 1)
          return rowIndexValue.toInt();
  
      if (AccessibilityTableRow* parentRow = this-&gt;parentRow())
          return parentRow-&gt;axRowIndex();
</pre>
<hr />
<pre>
<span class="line-old-header">*** 418,11 ***</span>
      // According to the ARIA spec, &quot;If aria-colpan is used on an element for which the host language
      // provides an equivalent attribute, user agents must ignore the value of aria-colspan.&quot;
      if (hasAttribute(colspanAttr))
          return -1;
  
<span class="line-modified">!     const AtomicString&amp; colSpanValue = getAttribute(aria_colspanAttr);</span>
      // ARIA 1.1: Authors must set the value of aria-colspan to an integer greater than or equal to 1.
      if (colSpanValue.toInt() &gt;= 1)
          return colSpanValue.toInt();
  
      return -1;
<span class="line-new-header">--- 418,11 ---</span>
      // According to the ARIA spec, &quot;If aria-colpan is used on an element for which the host language
      // provides an equivalent attribute, user agents must ignore the value of aria-colspan.&quot;
      if (hasAttribute(colspanAttr))
          return -1;
  
<span class="line-modified">!     const AtomString&amp; colSpanValue = getAttribute(aria_colspanAttr);</span>
      // ARIA 1.1: Authors must set the value of aria-colspan to an integer greater than or equal to 1.
      if (colSpanValue.toInt() &gt;= 1)
          return colSpanValue.toInt();
  
      return -1;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 433,11 ***</span>
      // According to the ARIA spec, &quot;If aria-rowspan is used on an element for which the host language
      // provides an equivalent attribute, user agents must ignore the value of aria-rowspan.&quot;
      if (hasAttribute(rowspanAttr))
          return -1;
  
<span class="line-modified">!     const AtomicString&amp; rowSpanValue = getAttribute(aria_rowspanAttr);</span>
  
      // ARIA 1.1: Authors must set the value of aria-rowspan to an integer greater than or equal to 0.
      // Setting the value to 0 indicates that the cell or gridcell is to span all the remaining rows in the row group.
      if (rowSpanValue == &quot;0&quot;)
          return 0;
<span class="line-new-header">--- 433,11 ---</span>
      // According to the ARIA spec, &quot;If aria-rowspan is used on an element for which the host language
      // provides an equivalent attribute, user agents must ignore the value of aria-rowspan.&quot;
      if (hasAttribute(rowspanAttr))
          return -1;
  
<span class="line-modified">!     const AtomString&amp; rowSpanValue = getAttribute(aria_rowspanAttr);</span>
  
      // ARIA 1.1: Authors must set the value of aria-rowspan to an integer greater than or equal to 0.
      // Setting the value to 0 indicates that the cell or gridcell is to span all the remaining rows in the row group.
      if (rowSpanValue == &quot;0&quot;)
          return 0;
</pre>
<center><a href="AccessibilityTable.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="AccessibilityTableColumn.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>