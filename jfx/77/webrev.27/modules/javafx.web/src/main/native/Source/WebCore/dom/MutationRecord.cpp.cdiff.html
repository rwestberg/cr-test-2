<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/dom/MutationRecord.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MutationObserverRegistration.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MutationRecord.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/dom/MutationRecord.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 59,11 ***</span>
          , m_nextSibling(WTFMove(nextSibling))
      {
      }
  
  private:
<span class="line-modified">!     const AtomicString&amp; type() override;</span>
      Node* target() override { return m_target.ptr(); }
      NodeList* addedNodes() override { return m_addedNodes.get(); }
      NodeList* removedNodes() override { return m_removedNodes.get(); }
      Node* previousSibling() override { return m_previousSibling.get(); }
      Node* nextSibling() override { return m_nextSibling.get(); }
<span class="line-new-header">--- 59,11 ---</span>
          , m_nextSibling(WTFMove(nextSibling))
      {
      }
  
  private:
<span class="line-modified">!     const AtomString&amp; type() override;</span>
      Node* target() override { return m_target.ptr(); }
      NodeList* addedNodes() override { return m_addedNodes.get(); }
      NodeList* removedNodes() override { return m_removedNodes.get(); }
      Node* previousSibling() override { return m_previousSibling.get(); }
      Node* nextSibling() override { return m_nextSibling.get(); }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 116,53 ***</span>
      RefPtr&lt;NodeList&gt; m_removedNodes;
  };
  
  class AttributesRecord final : public RecordWithEmptyNodeLists {
  public:
<span class="line-modified">!     AttributesRecord(Element&amp; target, const QualifiedName&amp; name, const AtomicString&amp; oldValue)</span>
          : RecordWithEmptyNodeLists(target, oldValue)
          , m_attributeName(name.localName())
          , m_attributeNamespace(name.namespaceURI())
      {
      }
  
  private:
<span class="line-modified">!     const AtomicString&amp; type() override;</span>
<span class="line-modified">!     const AtomicString&amp; attributeName() override { return m_attributeName; }</span>
<span class="line-modified">!     const AtomicString&amp; attributeNamespace() override { return m_attributeNamespace; }</span>
  
<span class="line-modified">!     AtomicString m_attributeName;</span>
<span class="line-modified">!     AtomicString m_attributeNamespace;</span>
  };
  
  class CharacterDataRecord : public RecordWithEmptyNodeLists {
  public:
      CharacterDataRecord(CharacterData&amp; target, const String&amp; oldValue)
          : RecordWithEmptyNodeLists(target, oldValue)
      {
      }
  
  private:
<span class="line-modified">!     const AtomicString&amp; type() override;</span>
  };
  
  class MutationRecordWithNullOldValue final : public MutationRecord {
  public:
      MutationRecordWithNullOldValue(MutationRecord&amp; record)
          : m_record(record)
      {
      }
  
  private:
<span class="line-modified">!     const AtomicString&amp; type() override { return m_record-&gt;type(); }</span>
      Node* target() override { return m_record-&gt;target(); }
      NodeList* addedNodes() override { return m_record-&gt;addedNodes(); }
      NodeList* removedNodes() override { return m_record-&gt;removedNodes(); }
      Node* previousSibling() override { return m_record-&gt;previousSibling(); }
      Node* nextSibling() override { return m_record-&gt;nextSibling(); }
<span class="line-modified">!     const AtomicString&amp; attributeName() override { return m_record-&gt;attributeName(); }</span>
<span class="line-modified">!     const AtomicString&amp; attributeNamespace() override { return m_record-&gt;attributeNamespace(); }</span>
  
      String oldValue() override { return String(); }
  
      void visitNodesConcurrently(JSC::SlotVisitor&amp; visitor) const final
      {
<span class="line-new-header">--- 116,53 ---</span>
      RefPtr&lt;NodeList&gt; m_removedNodes;
  };
  
  class AttributesRecord final : public RecordWithEmptyNodeLists {
  public:
<span class="line-modified">!     AttributesRecord(Element&amp; target, const QualifiedName&amp; name, const AtomString&amp; oldValue)</span>
          : RecordWithEmptyNodeLists(target, oldValue)
          , m_attributeName(name.localName())
          , m_attributeNamespace(name.namespaceURI())
      {
      }
  
  private:
<span class="line-modified">!     const AtomString&amp; type() override;</span>
<span class="line-modified">!     const AtomString&amp; attributeName() override { return m_attributeName; }</span>
<span class="line-modified">!     const AtomString&amp; attributeNamespace() override { return m_attributeNamespace; }</span>
  
<span class="line-modified">!     AtomString m_attributeName;</span>
<span class="line-modified">!     AtomString m_attributeNamespace;</span>
  };
  
  class CharacterDataRecord : public RecordWithEmptyNodeLists {
  public:
      CharacterDataRecord(CharacterData&amp; target, const String&amp; oldValue)
          : RecordWithEmptyNodeLists(target, oldValue)
      {
      }
  
  private:
<span class="line-modified">!     const AtomString&amp; type() override;</span>
  };
  
  class MutationRecordWithNullOldValue final : public MutationRecord {
  public:
      MutationRecordWithNullOldValue(MutationRecord&amp; record)
          : m_record(record)
      {
      }
  
  private:
<span class="line-modified">!     const AtomString&amp; type() override { return m_record-&gt;type(); }</span>
      Node* target() override { return m_record-&gt;target(); }
      NodeList* addedNodes() override { return m_record-&gt;addedNodes(); }
      NodeList* removedNodes() override { return m_record-&gt;removedNodes(); }
      Node* previousSibling() override { return m_record-&gt;previousSibling(); }
      Node* nextSibling() override { return m_record-&gt;nextSibling(); }
<span class="line-modified">!     const AtomString&amp; attributeName() override { return m_record-&gt;attributeName(); }</span>
<span class="line-modified">!     const AtomString&amp; attributeNamespace() override { return m_record-&gt;attributeNamespace(); }</span>
  
      String oldValue() override { return String(); }
  
      void visitNodesConcurrently(JSC::SlotVisitor&amp; visitor) const final
      {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 170,36 ***</span>
      }
  
      Ref&lt;MutationRecord&gt; m_record;
  };
  
<span class="line-modified">! const AtomicString&amp; ChildListRecord::type()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomicString&gt; childList(&quot;childList&quot;, AtomicString::ConstructFromLiteral);</span>
      return childList;
  }
  
<span class="line-modified">! const AtomicString&amp; AttributesRecord::type()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomicString&gt; attributes(&quot;attributes&quot;, AtomicString::ConstructFromLiteral);</span>
      return attributes;
  }
  
<span class="line-modified">! const AtomicString&amp; CharacterDataRecord::type()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomicString&gt; characterData(&quot;characterData&quot;, AtomicString::ConstructFromLiteral);</span>
      return characterData;
  }
  
  } // namespace
  
  Ref&lt;MutationRecord&gt; MutationRecord::createChildList(ContainerNode&amp; target, Ref&lt;NodeList&gt;&amp;&amp; added, Ref&lt;NodeList&gt;&amp;&amp; removed, RefPtr&lt;Node&gt;&amp;&amp; previousSibling, RefPtr&lt;Node&gt;&amp;&amp; nextSibling)
  {
      return adoptRef(static_cast&lt;MutationRecord&amp;&gt;(*new ChildListRecord(target, WTFMove(added), WTFMove(removed), WTFMove(previousSibling), WTFMove(nextSibling))));
  }
  
<span class="line-modified">! Ref&lt;MutationRecord&gt; MutationRecord::createAttributes(Element&amp; target, const QualifiedName&amp; name, const AtomicString&amp; oldValue)</span>
  {
      return adoptRef(static_cast&lt;MutationRecord&amp;&gt;(*new AttributesRecord(target, name, oldValue)));
  }
  
  Ref&lt;MutationRecord&gt; MutationRecord::createCharacterData(CharacterData&amp; target, const String&amp; oldValue)
<span class="line-new-header">--- 170,36 ---</span>
      }
  
      Ref&lt;MutationRecord&gt; m_record;
  };
  
<span class="line-modified">! const AtomString&amp; ChildListRecord::type()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomString&gt; childList(&quot;childList&quot;, AtomString::ConstructFromLiteral);</span>
      return childList;
  }
  
<span class="line-modified">! const AtomString&amp; AttributesRecord::type()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomString&gt; attributes(&quot;attributes&quot;, AtomString::ConstructFromLiteral);</span>
      return attributes;
  }
  
<span class="line-modified">! const AtomString&amp; CharacterDataRecord::type()</span>
  {
<span class="line-modified">!     static NeverDestroyed&lt;AtomString&gt; characterData(&quot;characterData&quot;, AtomString::ConstructFromLiteral);</span>
      return characterData;
  }
  
  } // namespace
  
  Ref&lt;MutationRecord&gt; MutationRecord::createChildList(ContainerNode&amp; target, Ref&lt;NodeList&gt;&amp;&amp; added, Ref&lt;NodeList&gt;&amp;&amp; removed, RefPtr&lt;Node&gt;&amp;&amp; previousSibling, RefPtr&lt;Node&gt;&amp;&amp; nextSibling)
  {
      return adoptRef(static_cast&lt;MutationRecord&amp;&gt;(*new ChildListRecord(target, WTFMove(added), WTFMove(removed), WTFMove(previousSibling), WTFMove(nextSibling))));
  }
  
<span class="line-modified">! Ref&lt;MutationRecord&gt; MutationRecord::createAttributes(Element&amp; target, const QualifiedName&amp; name, const AtomString&amp; oldValue)</span>
  {
      return adoptRef(static_cast&lt;MutationRecord&amp;&gt;(*new AttributesRecord(target, name, oldValue)));
  }
  
  Ref&lt;MutationRecord&gt; MutationRecord::createCharacterData(CharacterData&amp; target, const String&amp; oldValue)
</pre>
<center><a href="MutationObserverRegistration.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MutationRecord.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>