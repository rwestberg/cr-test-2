<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/image-decoders/ico/ICOImageDecoder.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ICOImageDecoder.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../jpeg/JPEGImageDecoder.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/image-decoders/ico/ICOImageDecoder.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 69         ICON = 1,
 70         CURSOR = 2,
 71     };
 72 
 73     struct IconDirectoryEntry {
 74         IntSize m_size;
 75         uint16_t m_bitCount;
 76         IntPoint m_hotSpot;
 77         uint32_t m_imageOffset;
 78     };
 79 
 80     ICOImageDecoder(AlphaOption, GammaAndColorProfileOption);
 81     void tryDecodeSize(bool allDataReceived) final { decode(0, true, allDataReceived); }
 82 
 83     // Returns true if |a| is a preferable icon entry to |b|.
 84     // Larger sizes, or greater bitdepths at the same size, are preferable.
 85     static bool compareEntries(const IconDirectoryEntry&amp; a, const IconDirectoryEntry&amp; b);
 86 
 87     inline uint16_t readUint16(int offset) const
 88     {
<span class="line-modified"> 89         return BMPImageReader::readUint16(m_data.get(), m_decodedOffset + offset);</span>
 90     }
 91 
 92     inline uint32_t readUint32(int offset) const
 93     {
<span class="line-modified"> 94         return BMPImageReader::readUint32(m_data.get(), m_decodedOffset + offset);</span>
 95     }
 96 
 97     // If the desired PNGImageDecoder exists, gives it the appropriate data.
 98     void setDataForPNGDecoderAtIndex(size_t);
 99 
100     // Decodes the entry at |index|. If |onlySize| is true, stops decoding
101     // after calculating the image size. If decoding fails but there is no
102     // more data coming, sets the &quot;decode failure&quot; flag.
103     void decode(size_t index, bool onlySize, bool allDataReceived);
104 
105     // Decodes the directory and directory entries at the beginning of the
106     // data, and initializes members. Returns true if all decoding
107     // succeeded. Once this returns true, all entries&#39; sizes are known.
108     bool decodeDirectory();
109 
110     // Decodes the specified entry.
111     bool decodeAtIndex(size_t);
112 
113     // Processes the ICONDIR at the beginning of the data. Returns true if
114     // the directory could be decoded.
</pre>
</td>
<td>
<hr />
<pre>
 69         ICON = 1,
 70         CURSOR = 2,
 71     };
 72 
 73     struct IconDirectoryEntry {
 74         IntSize m_size;
 75         uint16_t m_bitCount;
 76         IntPoint m_hotSpot;
 77         uint32_t m_imageOffset;
 78     };
 79 
 80     ICOImageDecoder(AlphaOption, GammaAndColorProfileOption);
 81     void tryDecodeSize(bool allDataReceived) final { decode(0, true, allDataReceived); }
 82 
 83     // Returns true if |a| is a preferable icon entry to |b|.
 84     // Larger sizes, or greater bitdepths at the same size, are preferable.
 85     static bool compareEntries(const IconDirectoryEntry&amp; a, const IconDirectoryEntry&amp; b);
 86 
 87     inline uint16_t readUint16(int offset) const
 88     {
<span class="line-modified"> 89         return BMPImageReader::readUint16(*m_data, m_decodedOffset + offset);</span>
 90     }
 91 
 92     inline uint32_t readUint32(int offset) const
 93     {
<span class="line-modified"> 94         return BMPImageReader::readUint32(*m_data, m_decodedOffset + offset);</span>
 95     }
 96 
 97     // If the desired PNGImageDecoder exists, gives it the appropriate data.
 98     void setDataForPNGDecoderAtIndex(size_t);
 99 
100     // Decodes the entry at |index|. If |onlySize| is true, stops decoding
101     // after calculating the image size. If decoding fails but there is no
102     // more data coming, sets the &quot;decode failure&quot; flag.
103     void decode(size_t index, bool onlySize, bool allDataReceived);
104 
105     // Decodes the directory and directory entries at the beginning of the
106     // data, and initializes members. Returns true if all decoding
107     // succeeded. Once this returns true, all entries&#39; sizes are known.
108     bool decodeDirectory();
109 
110     // Decodes the specified entry.
111     bool decodeAtIndex(size_t);
112 
113     // Processes the ICONDIR at the beginning of the data. Returns true if
114     // the directory could be decoded.
</pre>
</td>
</tr>
</table>
<center><a href="ICOImageDecoder.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../jpeg/JPEGImageDecoder.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>