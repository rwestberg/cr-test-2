<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGDisassembler.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DFGDesiredWatchpoints.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGDoesGC.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGDisassembler.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 57 {
 58     dump(WTF::dataFile(), linkBuffer);
 59 }
 60 
 61 void Disassembler::reportToProfiler(Profiler::Compilation* compilation, LinkBuffer&amp; linkBuffer)
 62 {
 63     Vector&lt;DumpedOp&gt; ops = createDumpList(linkBuffer);
 64 
 65     for (unsigned i = 0; i &lt; ops.size(); ++i) {
 66         Profiler::OriginStack stack;
 67 
 68         if (ops[i].codeOrigin.isSet())
 69             stack = Profiler::OriginStack(*m_graph.m_vm.m_perBytecodeProfiler, m_graph.m_codeBlock, ops[i].codeOrigin);
 70 
 71         compilation-&gt;addDescription(Profiler::CompiledBytecode(stack, ops[i].text));
 72     }
 73 }
 74 
 75 void Disassembler::dumpHeader(PrintStream&amp; out, LinkBuffer&amp; linkBuffer)
 76 {
<span class="line-modified"> 77     out.print(&quot;Generated DFG JIT code for &quot;, CodeBlockWithJITType(m_graph.m_codeBlock, JITCode::DFGJIT), &quot;, instruction count = &quot;, m_graph.m_codeBlock-&gt;instructionCount(), &quot;:\n&quot;);</span>
 78     out.print(&quot;    Optimized with execution counter = &quot;, m_graph.m_profiledBlock-&gt;jitExecuteCounter(), &quot;\n&quot;);
 79     out.print(&quot;    Code at [&quot;, RawPointer(linkBuffer.debugAddress()), &quot;, &quot;, RawPointer(static_cast&lt;char*&gt;(linkBuffer.debugAddress()) + linkBuffer.size()), &quot;):\n&quot;);
 80 }
 81 
 82 void Disassembler::append(Vector&lt;Disassembler::DumpedOp&gt;&amp; result, StringPrintStream&amp; out, CodeOrigin&amp; previousOrigin)
 83 {
 84     result.append(DumpedOp(previousOrigin, out.toCString()));
 85     previousOrigin = CodeOrigin();
 86     out.reset();
 87 }
 88 
 89 Vector&lt;Disassembler::DumpedOp&gt; Disassembler::createDumpList(LinkBuffer&amp; linkBuffer)
 90 {
 91     StringPrintStream out;
 92     Vector&lt;DumpedOp&gt; result;
 93 
 94     CodeOrigin previousOrigin = CodeOrigin();
 95     dumpHeader(out, linkBuffer);
 96     append(result, out, previousOrigin);
 97 
</pre>
</td>
<td>
<hr />
<pre>
 57 {
 58     dump(WTF::dataFile(), linkBuffer);
 59 }
 60 
 61 void Disassembler::reportToProfiler(Profiler::Compilation* compilation, LinkBuffer&amp; linkBuffer)
 62 {
 63     Vector&lt;DumpedOp&gt; ops = createDumpList(linkBuffer);
 64 
 65     for (unsigned i = 0; i &lt; ops.size(); ++i) {
 66         Profiler::OriginStack stack;
 67 
 68         if (ops[i].codeOrigin.isSet())
 69             stack = Profiler::OriginStack(*m_graph.m_vm.m_perBytecodeProfiler, m_graph.m_codeBlock, ops[i].codeOrigin);
 70 
 71         compilation-&gt;addDescription(Profiler::CompiledBytecode(stack, ops[i].text));
 72     }
 73 }
 74 
 75 void Disassembler::dumpHeader(PrintStream&amp; out, LinkBuffer&amp; linkBuffer)
 76 {
<span class="line-modified"> 77     out.print(&quot;Generated DFG JIT code for &quot;, CodeBlockWithJITType(m_graph.m_codeBlock, JITType::DFGJIT), &quot;, instructions size = &quot;, m_graph.m_codeBlock-&gt;instructionsSize(), &quot;:\n&quot;);</span>
 78     out.print(&quot;    Optimized with execution counter = &quot;, m_graph.m_profiledBlock-&gt;jitExecuteCounter(), &quot;\n&quot;);
 79     out.print(&quot;    Code at [&quot;, RawPointer(linkBuffer.debugAddress()), &quot;, &quot;, RawPointer(static_cast&lt;char*&gt;(linkBuffer.debugAddress()) + linkBuffer.size()), &quot;):\n&quot;);
 80 }
 81 
 82 void Disassembler::append(Vector&lt;Disassembler::DumpedOp&gt;&amp; result, StringPrintStream&amp; out, CodeOrigin&amp; previousOrigin)
 83 {
 84     result.append(DumpedOp(previousOrigin, out.toCString()));
 85     previousOrigin = CodeOrigin();
 86     out.reset();
 87 }
 88 
 89 Vector&lt;Disassembler::DumpedOp&gt; Disassembler::createDumpList(LinkBuffer&amp; linkBuffer)
 90 {
 91     StringPrintStream out;
 92     Vector&lt;DumpedOp&gt; result;
 93 
 94     CodeOrigin previousOrigin = CodeOrigin();
 95     dumpHeader(out, linkBuffer);
 96     append(result, out, previousOrigin);
 97 
</pre>
</td>
</tr>
</table>
<center><a href="DFGDesiredWatchpoints.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGDoesGC.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>