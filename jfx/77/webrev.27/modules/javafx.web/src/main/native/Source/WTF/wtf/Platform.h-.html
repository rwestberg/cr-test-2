<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.web/src/main/native/Source/WTF/wtf/Platform.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
   1 /*
   2  * Copyright (C) 2006-2019 Apple Inc. All rights reserved.
   3  * Copyright (C) 2007-2009 Torch Mobile, Inc.
   4  * Copyright (C) 2010, 2011 Research In Motion Limited. All rights reserved.
   5  *
   6  * Redistribution and use in source and binary forms, with or without
   7  * modification, are permitted provided that the following conditions
   8  * are met:
   9  * 1. Redistributions of source code must retain the above copyright
  10  *    notice, this list of conditions and the following disclaimer.
  11  * 2. Redistributions in binary form must reproduce the above copyright
  12  *    notice, this list of conditions and the following disclaimer in the
  13  *    documentation and/or other materials provided with the distribution.
  14  *
  15  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
  16  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  17  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  18  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
  19  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  20  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  21  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  22  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
  23  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  24  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  25  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  26  */
  27 
  28 #pragma once
  29 
  30 /* Include compiler specific macros */
  31 #include &lt;wtf/Compiler.h&gt;
  32 
  33 /* ==== PLATFORM handles OS, operating environment, graphics API, and
  34    CPU. This macro will be phased out in favor of platform adaptation
  35    macros, policy decision macros, and top-level port definitions. ==== */
  36 #define PLATFORM(WTF_FEATURE) (defined WTF_PLATFORM_##WTF_FEATURE  &amp;&amp; WTF_PLATFORM_##WTF_FEATURE)
  37 
  38 
  39 /* ==== Platform adaptation macros: these describe properties of the target environment. ==== */
  40 
  41 /* CPU() - the target CPU architecture */
  42 #define CPU(WTF_FEATURE) (defined WTF_CPU_##WTF_FEATURE  &amp;&amp; WTF_CPU_##WTF_FEATURE)
  43 /* HAVE() - specific system features (headers, functions or similar) that are present or not */
  44 #define HAVE(WTF_FEATURE) (defined HAVE_##WTF_FEATURE  &amp;&amp; HAVE_##WTF_FEATURE)
  45 /* OS() - underlying operating system; only to be used for mandated low-level services like
  46    virtual memory, not to choose a GUI toolkit */
  47 #define OS(WTF_FEATURE) (defined WTF_OS_##WTF_FEATURE  &amp;&amp; WTF_OS_##WTF_FEATURE)
  48 
  49 
  50 /* ==== Policy decision macros: these define policy choices for a particular port. ==== */
  51 
  52 /* USE() - use a particular third-party library or optional OS service */
  53 #define USE(WTF_FEATURE) (defined USE_##WTF_FEATURE  &amp;&amp; USE_##WTF_FEATURE)
  54 /* ENABLE() - turn on a specific feature of WebKit */
  55 #define ENABLE(WTF_FEATURE) (defined ENABLE_##WTF_FEATURE  &amp;&amp; ENABLE_##WTF_FEATURE)
  56 
  57 /* COMPILER(SUNCC) */
  58 #if defined(__SUNPRO_CC) || defined(__SUNPRO_C)
  59 #define WTF_COMPILER_SUNCC 1
  60 #endif
  61 
  62 /* ==== CPU() - the target CPU architecture ==== */
  63 /* CPU(KNOWN) becomes true if we explicitly support a target CPU. */
  64 
  65 /* CPU(MIPS) - MIPS 32-bit and 64-bit */
  66 #if (defined(mips) || defined(__mips__) || defined(MIPS) || defined(_MIPS_) || defined(__mips64))
  67 #if defined(_ABI64) &amp;&amp; (_MIPS_SIM == _ABI64)
  68 #define WTF_CPU_MIPS64 1
  69 #define WTF_MIPS_ARCH __mips64
  70 #else
  71 #define WTF_CPU_MIPS 1
  72 #define WTF_MIPS_ARCH __mips
  73 #endif
  74 #define WTF_CPU_KNOWN 1
  75 #define WTF_MIPS_PIC (defined __PIC__)
  76 #define WTF_MIPS_ISA(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH == v)
  77 #define WTF_MIPS_ISA_AT_LEAST(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH &gt;= v)
  78 #define WTF_MIPS_ARCH_REV __mips_isa_rev
  79 #define WTF_MIPS_ISA_REV(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV == v)
  80 #define WTF_MIPS_ISA_REV_AT_LEAST(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV &gt;= v)
  81 #define WTF_MIPS_DOUBLE_FLOAT (defined __mips_hard_float &amp;&amp; !defined __mips_single_float)
  82 #define WTF_MIPS_FP64 (defined __mips_fpr &amp;&amp; __mips_fpr == 64)
  83 /* MIPS requires allocators to use aligned memory */
  84 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1
  85 #endif /* MIPS */
  86 
  87 /* CPU(PPC64) - PowerPC 64-bit Big Endian */
  88 #if (  defined(__ppc64__)      \
  89     || defined(__PPC64__))     \
  90     &amp;&amp; defined(__BYTE_ORDER__) \
  91     &amp;&amp; (__BYTE_ORDER__ == __ORDER_BIG_ENDIAN__)
  92 #define WTF_CPU_PPC64 1
  93 #define WTF_CPU_KNOWN 1
  94 #endif
  95 
  96 /* CPU(PPC64LE) - PowerPC 64-bit Little Endian */
  97 #if (   defined(__ppc64__)     \
  98     || defined(__PPC64__)      \
  99     || defined(__ppc64le__)    \
 100     || defined(__PPC64LE__))   \
 101     &amp;&amp; defined(__BYTE_ORDER__) \
 102     &amp;&amp; (__BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__)
 103 #define WTF_CPU_PPC64LE 1
 104 #define WTF_CPU_KNOWN 1
 105 #endif
 106 
 107 /* CPU(PPC) - PowerPC 32-bit */
 108 #if (  defined(__ppc__)        \
 109     || defined(__PPC__)        \
 110     || defined(__powerpc__)    \
 111     || defined(__powerpc)      \
 112     || defined(__POWERPC__)    \
 113     || defined(_M_PPC)         \
 114     || defined(__PPC))         \
 115     &amp;&amp; !CPU(PPC64)             \
 116     &amp;&amp; CPU(BIG_ENDIAN)
 117 #define WTF_CPU_PPC 1
 118 #define WTF_CPU_KNOWN 1
 119 #endif
 120 
 121 /* CPU(X86) - i386 / x86 32-bit */
 122 #if   defined(__i386__) \
 123     || defined(i386)     \
 124     || defined(_M_IX86)  \
 125     || defined(_X86_)    \
 126     || defined(__THW_INTEL)
 127 #define WTF_CPU_X86 1
 128 #define WTF_CPU_KNOWN 1
 129 
 130 #if defined(__SSE2__) || (defined(_M_IX86_FP) &amp;&amp; _M_IX86_FP &gt;= 2)
 131 #define WTF_CPU_X86_SSE2 1
 132 #endif
 133 
 134 #endif
 135 
 136 /* CPU(X86_64) - AMD64 / Intel64 / x86_64 64-bit */
 137 #if   defined(__x86_64__) \
 138     || defined(_M_X64)
 139 #define WTF_CPU_X86_64 1
 140 #define WTF_CPU_X86_SSE2 1
 141 #define WTF_CPU_KNOWN 1
 142 #endif
 143 
 144 /* CPU(ARM64) - Apple */
 145 #if (defined(__arm64__) &amp;&amp; defined(__APPLE__)) || defined(__aarch64__)
 146 #define WTF_CPU_ARM64 1
 147 #define WTF_CPU_KNOWN 1
 148 
 149 #if defined(__arm64e__)
 150 #define WTF_CPU_ARM64E 1
 151 #endif
 152 #endif
 153 
 154 /* CPU(ARM) - ARM, any version*/
 155 #define WTF_ARM_ARCH_AT_LEAST(N) (CPU(ARM) &amp;&amp; WTF_ARM_ARCH_VERSION &gt;= N)
 156 
 157 #if   defined(arm) \
 158     || defined(__arm__) \
 159     || defined(ARM) \
 160     || defined(_ARM_)
 161 #define WTF_CPU_ARM 1
 162 #define WTF_CPU_KNOWN 1
 163 
 164 #if defined(__ARM_PCS_VFP)
 165 #define WTF_CPU_ARM_HARDFP 1
 166 #endif
 167 
 168 /* Set WTF_ARM_ARCH_VERSION */
 169 #if   defined(__ARM_ARCH_4__) \
 170     || defined(__ARM_ARCH_4T__) \
 171     || defined(__MARM_ARMV4__)
 172 #define WTF_ARM_ARCH_VERSION 4
 173 
 174 #elif defined(__ARM_ARCH_5__) \
 175     || defined(__ARM_ARCH_5T__) \
 176     || defined(__MARM_ARMV5__)
 177 #define WTF_ARM_ARCH_VERSION 5
 178 
 179 #elif defined(__ARM_ARCH_5E__) \
 180     || defined(__ARM_ARCH_5TE__) \
 181     || defined(__ARM_ARCH_5TEJ__)
 182 #define WTF_ARM_ARCH_VERSION 5
 183 /*ARMv5TE requires allocators to use aligned memory*/
 184 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1
 185 
 186 #elif defined(__ARM_ARCH_6__) \
 187     || defined(__ARM_ARCH_6J__) \
 188     || defined(__ARM_ARCH_6K__) \
 189     || defined(__ARM_ARCH_6Z__) \
 190     || defined(__ARM_ARCH_6ZK__) \
 191     || defined(__ARM_ARCH_6T2__) \
 192     || defined(__ARMV6__)
 193 #define WTF_ARM_ARCH_VERSION 6
 194 
 195 #elif defined(__ARM_ARCH_7A__) \
 196     || defined(__ARM_ARCH_7K__) \
 197     || defined(__ARM_ARCH_7R__) \
 198     || defined(__ARM_ARCH_7S__)
 199 #define WTF_ARM_ARCH_VERSION 7
 200 
 201 #elif defined(__ARM_ARCH_8__) \
 202     || defined(__ARM_ARCH_8A__)
 203 #define WTF_ARM_ARCH_VERSION 8
 204 
 205 /* MSVC sets _M_ARM */
 206 #elif defined(_M_ARM)
 207 #define WTF_ARM_ARCH_VERSION _M_ARM
 208 
 209 /* RVCT sets _TARGET_ARCH_ARM */
 210 #elif defined(__TARGET_ARCH_ARM)
 211 #define WTF_ARM_ARCH_VERSION __TARGET_ARCH_ARM
 212 
 213 #if defined(__TARGET_ARCH_5E) \
 214     || defined(__TARGET_ARCH_5TE) \
 215     || defined(__TARGET_ARCH_5TEJ)
 216 /*ARMv5TE requires allocators to use aligned memory*/
 217 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1
 218 #endif
 219 
 220 #else
 221 #define WTF_ARM_ARCH_VERSION 0
 222 
 223 #endif
 224 
 225 /* Set WTF_THUMB_ARCH_VERSION */
 226 #if   defined(__ARM_ARCH_4T__)
 227 #define WTF_THUMB_ARCH_VERSION 1
 228 
 229 #elif defined(__ARM_ARCH_5T__) \
 230     || defined(__ARM_ARCH_5TE__) \
 231     || defined(__ARM_ARCH_5TEJ__)
 232 #define WTF_THUMB_ARCH_VERSION 2
 233 
 234 #elif defined(__ARM_ARCH_6J__) \
 235     || defined(__ARM_ARCH_6K__) \
 236     || defined(__ARM_ARCH_6Z__) \
 237     || defined(__ARM_ARCH_6ZK__) \
 238     || defined(__ARM_ARCH_6M__)
 239 #define WTF_THUMB_ARCH_VERSION 3
 240 
 241 #elif defined(__ARM_ARCH_6T2__) \
 242     || defined(__ARM_ARCH_7__) \
 243     || defined(__ARM_ARCH_7A__) \
 244     || defined(__ARM_ARCH_7K__) \
 245     || defined(__ARM_ARCH_7M__) \
 246     || defined(__ARM_ARCH_7R__) \
 247     || defined(__ARM_ARCH_7S__)
 248 #define WTF_THUMB_ARCH_VERSION 4
 249 
 250 /* RVCT sets __TARGET_ARCH_THUMB */
 251 #elif defined(__TARGET_ARCH_THUMB)
 252 #define WTF_THUMB_ARCH_VERSION __TARGET_ARCH_THUMB
 253 
 254 #else
 255 #define WTF_THUMB_ARCH_VERSION 0
 256 #endif
 257 
 258 
 259 /* CPU(ARMV5_OR_LOWER) - ARM instruction set v5 or earlier */
 260 /* On ARMv5 and below the natural alignment is required.
 261    And there are some other differences for v5 or earlier. */
 262 #if !defined(ARMV5_OR_LOWER) &amp;&amp; !WTF_ARM_ARCH_AT_LEAST(6)
 263 #define WTF_CPU_ARMV5_OR_LOWER 1
 264 #endif
 265 
 266 
 267 /* CPU(ARM_TRADITIONAL) - Thumb2 is not available, only traditional ARM (v4 or greater) */
 268 /* CPU(ARM_THUMB2) - Thumb2 instruction set is available */
 269 /* Only one of these will be defined. */
 270 #if !defined(WTF_CPU_ARM_TRADITIONAL) &amp;&amp; !defined(WTF_CPU_ARM_THUMB2)
 271 #  if defined(thumb2) || defined(__thumb2__) \
 272     || ((defined(__thumb) || defined(__thumb__)) &amp;&amp; WTF_THUMB_ARCH_VERSION == 4)
 273 #    define WTF_CPU_ARM_TRADITIONAL 0
 274 #    define WTF_CPU_ARM_THUMB2 1
 275 #  elif WTF_ARM_ARCH_AT_LEAST(4)
 276 #    define WTF_CPU_ARM_TRADITIONAL 1
 277 #    define WTF_CPU_ARM_THUMB2 0
 278 #  else
 279 #    error &quot;Not supported ARM architecture&quot;
 280 #  endif
 281 #elif CPU(ARM_TRADITIONAL) &amp;&amp; CPU(ARM_THUMB2) /* Sanity Check */
 282 #  error &quot;Cannot use both of WTF_CPU_ARM_TRADITIONAL and WTF_CPU_ARM_THUMB2 platforms&quot;
 283 #endif /* !defined(WTF_CPU_ARM_TRADITIONAL) &amp;&amp; !defined(WTF_CPU_ARM_THUMB2) */
 284 
 285 #if defined(__ARM_NEON__) &amp;&amp; !defined(WTF_CPU_ARM_NEON)
 286 #define WTF_CPU_ARM_NEON 1
 287 #endif
 288 
 289 #if CPU(ARM_NEON)
 290 /* All NEON intrinsics usage can be disabled by this macro. */
 291 #define HAVE_ARM_NEON_INTRINSICS 1
 292 #endif
 293 
 294 #if (defined(__VFP_FP__) &amp;&amp; !defined(__SOFTFP__))
 295 #define WTF_CPU_ARM_VFP 1
 296 #endif
 297 
 298 /* If CPU(ARM_NEON) is not enabled, we&#39;ll conservatively assume only VFP2 or VFPv3D16
 299    support is available. Hence, only the first 16 64-bit floating point registers
 300    are available. See:
 301    NEON registers: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CJACABEJ.html
 302    VFP2 and VFP3 registers: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CIHDIBDG.html
 303    NEON to VFP register mapping: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CJAIJHFC.html
 304 */
 305 #if CPU(ARM_NEON)
 306 #define WTF_CPU_ARM_VFP_V3_D32 1
 307 #else
 308 #define WTF_CPU_ARM_VFP_V2 1
 309 #endif
 310 
 311 #if defined(__ARM_ARCH_7K__)
 312 #define WTF_CPU_APPLE_ARMV7K 1
 313 #endif
 314 
 315 #if defined(__ARM_ARCH_7S__)
 316 #define WTF_CPU_APPLE_ARMV7S 1
 317 #endif
 318 
 319 #if defined(__ARM_ARCH_EXT_IDIV__) || CPU(APPLE_ARMV7S)
 320 #define HAVE_ARM_IDIV_INSTRUCTIONS 1
 321 #endif
 322 
 323 #endif /* ARM */
 324 
 325 #if !CPU(KNOWN)
 326 #define WTF_CPU_UNKNOWN 1
 327 #endif
 328 
 329 #if CPU(ARM) || CPU(MIPS) || CPU(UNKNOWN)
 330 #define WTF_CPU_NEEDS_ALIGNED_ACCESS 1
 331 #endif
 332 
 333 #if COMPILER(GCC_COMPATIBLE)
 334 /* __LP64__ is not defined on 64bit Windows since it uses LLP64. Using __SIZEOF_POINTER__ is simpler. */
 335 #if __SIZEOF_POINTER__ == 8
 336 #define WTF_CPU_ADDRESS64 1
 337 #elif __SIZEOF_POINTER__ == 4
 338 #define WTF_CPU_ADDRESS32 1
 339 #else
 340 #error &quot;Unsupported pointer width&quot;
 341 #endif
 342 #elif COMPILER(MSVC)
 343 #if defined(_WIN64)
 344 #define WTF_CPU_ADDRESS64 1
 345 #else
 346 #define WTF_CPU_ADDRESS32 1
 347 #endif
 348 #else
 349 /* This is the most generic way. But in OS(DARWIN), Platform.h can be included by sandbox definition file (.sb).
 350  * At that time, we cannot include &quot;stdint.h&quot; header. So in the case of known compilers, we use predefined constants instead. */
 351 #include &lt;stdint.h&gt;
 352 #if UINTPTR_MAX &gt; UINT32_MAX
 353 #define WTF_CPU_ADDRESS64 1
 354 #else
 355 #define WTF_CPU_ADDRESS32 1
 356 #endif
 357 #endif
 358 
 359 /* ==== OS() - underlying operating system; only to be used for mandated low-level services like
 360    virtual memory, not to choose a GUI toolkit ==== */
 361 
 362 /* OS(AIX) - AIX */
 363 #ifdef _AIX
 364 #define WTF_OS_AIX 1
 365 #endif
 366 
 367 /* OS(DARWIN) - Any Darwin-based OS, including Mac OS X and iPhone OS */
 368 #ifdef __APPLE__
 369 #define WTF_OS_DARWIN 1
 370 
 371 #include &lt;Availability.h&gt;
 372 #include &lt;AvailabilityMacros.h&gt;
 373 #include &lt;TargetConditionals.h&gt;
 374 #endif
 375 
 376 /* OS(IOS_FAMILY) - iOS family, including iOS, iOSMac, tvOS, watchOS */
 377 /* OS(IOS) - iOS only, not including iOSMac */
 378 /* OS(MAC_OS_X) - macOS (not including iOS family) */
 379 #if OS(DARWIN)
 380 #if TARGET_OS_IOS &amp;&amp; !(defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC)
 381 #define WTF_OS_IOS 1
 382 #endif
 383 #if TARGET_OS_IPHONE
 384 #define WTF_OS_IOS_FAMILY 1
 385 #elif TARGET_OS_MAC
 386 #define WTF_OS_MAC_OS_X 1
 387 #endif
 388 #endif
 389 
 390 /* OS(FREEBSD) - FreeBSD */
 391 #if defined(__FreeBSD__) || defined(__DragonFly__) || defined(__FreeBSD_kernel__)
 392 #define WTF_OS_FREEBSD 1
 393 #endif
 394 
 395 /* OS(FUCHSIA) - Fuchsia */
 396 #ifdef __Fuchsia__
 397 #define WTF_OS_FUCHSIA 1
 398 #endif
 399 
 400 /* OS(HURD) - GNU/Hurd */
 401 #ifdef __GNU__
 402 #define WTF_OS_HURD 1
 403 #endif
 404 
 405 /* OS(LINUX) - Linux */
 406 #ifdef __linux__
 407 #define WTF_OS_LINUX 1
 408 #endif
 409 
 410 /* OS(NETBSD) - NetBSD */
 411 #if defined(__NetBSD__)
 412 #define WTF_OS_NETBSD 1
 413 #endif
 414 
 415 /* OS(OPENBSD) - OpenBSD */
 416 #ifdef __OpenBSD__
 417 #define WTF_OS_OPENBSD 1
 418 #endif
 419 
 420 /* OS(WINDOWS) - Any version of Windows */
 421 #if defined(WIN32) || defined(_WIN32)
 422 #define WTF_OS_WINDOWS 1
 423 #endif
 424 
 425 #define WTF_OS_WIN ERROR &quot;USE WINDOWS WITH OS NOT WIN&quot;
 426 #define WTF_OS_MAC ERROR &quot;USE MAC_OS_X WITH OS NOT MAC&quot;
 427 
 428 /* OS(UNIX) - Any Unix-like system */
 429 #if    OS(AIX)              \
 430     || OS(DARWIN)           \
 431     || OS(FREEBSD)          \
 432     || OS(FUCHSIA)          \
 433     || OS(HURD)             \
 434     || OS(LINUX)            \
 435     || OS(NETBSD)           \
 436     || OS(OPENBSD)          \
 437     || defined(unix)        \
 438     || defined(__unix)      \
 439     || defined(__unix__)
 440 #define WTF_OS_UNIX 1
 441 #endif
 442 
 443 /* Operating environments */
 444 
 445 /* CPU(BIG_ENDIAN) or CPU(MIDDLE_ENDIAN) or neither, as appropriate. */
 446 
 447 #if COMPILER(GCC_COMPATIBLE)
 448 #if __BYTE_ORDER__ == __ORDER_BIG_ENDIAN__
 449 #define WTF_CPU_BIG_ENDIAN 1
 450 #elif __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__
 451 #define WTF_CPU_LITTLE_ENDIAN 1
 452 #elif __BYTE_ORDER__ == __ORDER_PDP_ENDIAN__
 453 #define WTF_CPU_MIDDLE_ENDIAN 1
 454 #else
 455 #error &quot;Unknown endian&quot;
 456 #endif
 457 #else
 458 #if OS(WINDOWS)
 459 /* Windows only have little endian architecture. */
 460 #define WTF_CPU_LITTLE_ENDIAN 1
 461 #else
 462 #include &lt;sys/types.h&gt;
 463 #if __has_include(&lt;endian.h&gt;)
 464 #include &lt;endian.h&gt;
 465 #if __BYTE_ORDER == __BIG_ENDIAN
 466 #define WTF_CPU_BIG_ENDIAN 1
 467 #elif __BYTE_ORDER == __LITTLE_ENDIAN
 468 #define WTF_CPU_LITTLE_ENDIAN 1
 469 #elif __BYTE_ORDER == __PDP_ENDIAN
 470 #define WTF_CPU_MIDDLE_ENDIAN 1
 471 #else
 472 #error &quot;Unknown endian&quot;
 473 #endif
 474 #else
 475 #if __has_include(&lt;machine/endian.h&gt;)
 476 #include &lt;machine/endian.h&gt;
 477 #else
 478 #include &lt;sys/endian.h&gt;
 479 #endif
 480 #if BYTE_ORDER == BIG_ENDIAN
 481 #define WTF_CPU_BIG_ENDIAN 1
 482 #elif BYTE_ORDER == LITTLE_ENDIAN
 483 #define WTF_CPU_LITTLE_ENDIAN 1
 484 #elif BYTE_ORDER == PDP_ENDIAN
 485 #define WTF_CPU_MIDDLE_ENDIAN 1
 486 #else
 487 #error &quot;Unknown endian&quot;
 488 #endif
 489 #endif
 490 #endif
 491 #endif
 492 
 493 #if !CPU(LITTLE_ENDIAN) &amp;&amp; !CPU(BIG_ENDIAN)
 494 #error &quot;Unsupported endian&quot;
 495 #endif
 496 
 497 /* Export macro support. Detects the attributes available for shared library symbol export
 498    decorations. */
 499 #if OS(WINDOWS) || (COMPILER_HAS_CLANG_DECLSPEC(dllimport) &amp;&amp; COMPILER_HAS_CLANG_DECLSPEC(dllexport))
 500 #define USE_DECLSPEC_ATTRIBUTE 1
 501 #define USE_VISIBILITY_ATTRIBUTE 0
 502 #elif defined(__GNUC__)
 503 #define USE_DECLSPEC_ATTRIBUTE 0
 504 #define USE_VISIBILITY_ATTRIBUTE 1
 505 #else
 506 #define USE_DECLSPEC_ATTRIBUTE 0
 507 #define USE_VISIBILITY_ATTRIBUTE 0
 508 #endif
 509 
 510 /* Standard libraries */
 511 #if defined(HAVE_FEATURES_H) &amp;&amp; HAVE_FEATURES_H
 512 /* If the included features.h is glibc&#39;s one, __GLIBC__ is defined. */
 513 #include &lt;features.h&gt;
 514 #endif
 515 
 516 /* FIXME: these are all mixes of OS, operating environment and policy choices. */
 517 /* PLATFORM(GTK) */
 518 /* PLATFORM(MAC) */
 519 /* PLATFORM(IOS) */
 520 /* PLATFORM(IOS_FAMILY) */
 521 /* PLATFORM(IOS_SIMULATOR) */
 522 /* PLATFORM(IOS_FAMILY_SIMULATOR) */
 523 /* PLATFORM(WIN) */
 524 #if defined(BUILDING_GTK__)
 525 #define WTF_PLATFORM_GTK 1
 526 #elif defined(BUILDING_JAVA__)
 527 #define WTF_PLATFORM_JAVA 1
 528 #elif defined(BUILDING_WPE__)
 529 #define WTF_PLATFORM_WPE 1
 530 #elif defined(BUILDING_JSCONLY__)
 531 /* JSCOnly does not provide PLATFORM() macro */
 532 #elif OS(MAC_OS_X)
 533 #define WTF_PLATFORM_MAC 1
 534 #elif OS(IOS_FAMILY)
 535 #if OS(IOS)
 536 #define WTF_PLATFORM_IOS 1
 537 #endif
 538 #define WTF_PLATFORM_IOS_FAMILY 1
 539 #if TARGET_OS_SIMULATOR
 540 #if OS(IOS)
 541 #define WTF_PLATFORM_IOS_SIMULATOR 1
 542 #endif
 543 #define WTF_PLATFORM_IOS_FAMILY_SIMULATOR 1
 544 #endif
 545 #if defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC
 546 #define WTF_PLATFORM_IOSMAC 1
 547 #endif
 548 #elif OS(WINDOWS)
 549 #define WTF_PLATFORM_WIN 1
 550 #endif
 551 
 552 /* PLATFORM(COCOA) */
 553 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
 554 #define WTF_PLATFORM_COCOA 1
 555 #endif
 556 
 557 #if PLATFORM(COCOA)
 558 #if defined __has_include &amp;&amp; __has_include(&lt;CoreFoundation/CFPriv.h&gt;)
 559 #define USE_APPLE_INTERNAL_SDK 1
 560 #endif
 561 #endif
 562 
 563 /* PLATFORM(APPLETV) */
 564 #if defined(TARGET_OS_TV) &amp;&amp; TARGET_OS_TV
 565 #define WTF_PLATFORM_APPLETV 1
 566 #endif
 567 
 568 /* PLATFORM(WATCHOS) */
 569 #if defined(TARGET_OS_WATCH) &amp;&amp; TARGET_OS_WATCH
 570 #define WTF_PLATFORM_WATCHOS 1
 571 #endif
 572 
 573 /* Graphics engines */
 574 
 575 /* USE(CG) and PLATFORM(CI) */
 576 #if PLATFORM(COCOA)
 577 #define USE_CG 1
 578 #define USE_CA 1
 579 #endif
 580 
 581 #if PLATFORM(GTK) || PLATFORM(WPE)
 582 #define USE_GLIB 1
 583 #define USE_FREETYPE 1
 584 #define USE_HARFBUZZ 1
 585 #define USE_SOUP 1
 586 #define USE_WEBP 1
 587 #define USE_FILE_LOCK 1
 588 #endif
 589 
 590 #if PLATFORM(GTK)
 591 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_36
 592 #endif
 593 
 594 #if PLATFORM(WPE)
 595 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_40
 596 #endif
 597 
 598 #if PLATFORM(GTK) &amp;&amp; !defined(GTK_API_VERSION_2)
 599 #define GDK_VERSION_MIN_REQUIRED GDK_VERSION_3_6
 600 #endif
 601 
 602 #if USE(SOUP)
 603 #define SOUP_VERSION_MIN_REQUIRED SOUP_VERSION_2_42
 604 #endif
 605 
 606 /* On Windows, use QueryPerformanceCounter by default */
 607 #if OS(WINDOWS)
 608 #define USE_QUERY_PERFORMANCE_COUNTER  1
 609 #endif
 610 
 611 #if PLATFORM(COCOA)
 612 
 613 #define HAVE_OUT_OF_PROCESS_LAYER_HOSTING 1
 614 #define USE_CF 1
 615 #define USE_FILE_LOCK 1
 616 #define USE_FOUNDATION 1
 617 #define USE_NETWORK_CFDATA_ARRAY_CALLBACK 1
 618 
 619 /* Cocoa defines a series of platform macros for debugging. */
 620 /* Some of them are really annoying because they use common names (e.g. check()). */
 621 /* Disable those macros so that we are not limited in how we name methods and functions. */
 622 #undef __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES
 623 #define __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES 0
 624 
 625 #endif
 626 
 627 #if PLATFORM(MAC)
 628 
 629 #define HAVE_RUNLOOP_TIMER 1
 630 #define HAVE_SEC_KEYCHAIN 1
 631 #define USE_APPKIT 1
 632 #define USE_PASSKIT 1
 633 
 634 #if CPU(X86_64)
 635 #define HAVE_NETWORK_EXTENSION 1
 636 #define USE_PLUGIN_HOST_PROCESS 1
 637 #endif
 638 #endif /* PLATFORM(MAC) */
 639 
 640 #if PLATFORM(IOS_FAMILY)
 641 
 642 #define HAVE_NETWORK_EXTENSION 1
 643 #define HAVE_READLINE 1
 644 #define USE_UIKIT_EDITING 1
 645 #define USE_WEB_THREAD 1
 646 
 647 #if CPU(ARM64)
 648 #define ENABLE_JIT_CONSTANT_BLINDING 0
 649 #endif
 650 
 651 #if CPU(ARM_NEON)
 652 #undef HAVE_ARM_NEON_INTRINSICS
 653 #define HAVE_ARM_NEON_INTRINSICS 0
 654 #endif
 655 
 656 #endif /* PLATFORM(IOS_FAMILY) */
 657 
 658 #if !defined(HAVE_ACCESSIBILITY)
 659 #if PLATFORM(COCOA) || PLATFORM(WIN) || PLATFORM(GTK) || PLATFORM(WPE)
 660 #define HAVE_ACCESSIBILITY 1
 661 #endif
 662 #endif /* !defined(HAVE_ACCESSIBILITY) */
 663 
 664 /* FIXME: Remove after CMake build enabled on Darwin */
 665 #if OS(DARWIN)
 666 #define HAVE_ERRNO_H 1
 667 #define HAVE_LANGINFO_H 1
 668 #define HAVE_LOCALTIME_R 1
 669 #define HAVE_MMAP 1
 670 #define HAVE_REGEX_H 1
 671 #define HAVE_SIGNAL_H 1
 672 #define HAVE_STAT_BIRTHTIME 1
 673 #define HAVE_STRINGS_H 1
 674 #define HAVE_STRNSTR 1
 675 #define HAVE_SYS_PARAM_H 1
 676 #define HAVE_SYS_TIME_H 1
 677 #define HAVE_TM_GMTOFF 1
 678 #define HAVE_TM_ZONE 1
 679 #define HAVE_TIMEGM 1
 680 #define HAVE_PTHREAD_MAIN_NP 1
 681 
 682 #if CPU(X86_64) || CPU(ARM64)
 683 #define HAVE_INT128_T 1
 684 #endif
 685 #endif /* OS(DARWIN) */
 686 
 687 #if OS(UNIX)
 688 #define USE_PTHREADS 1
 689 #endif /* OS(UNIX) */
 690 
 691 #if OS(UNIX) &amp;&amp; !OS(FUCHSIA)
 692 #define HAVE_RESOURCE_H 1
 693 #define HAVE_PTHREAD_SETSCHEDPARAM 1
 694 #endif
 695 
 696 #if OS(DARWIN)
 697 #define HAVE_DISPATCH_H 1 // todo tav enable when building w/ clang
 698 #define HAVE_MADV_FREE 1
 699 #define HAVE_MADV_FREE_REUSE 1
 700 #define HAVE_MADV_DONTNEED 1
 701 #define HAVE_MERGESORT 1
 702 #define HAVE_PTHREAD_SETNAME_NP 1
 703 #define HAVE_READLINE 1
 704 #define HAVE_SYS_TIMEB_H 1
 705 
 706 #if __has_include(&lt;mach/mach_exc.defs&gt;) &amp;&amp; !PLATFORM(GTK)
 707 #define HAVE_MACH_EXCEPTIONS 1
 708 #endif
 709 
 710 #if !PLATFORM(GTK)
 711 #define USE_ACCELERATE 1
 712 #endif
 713 #if !PLATFORM(IOS_FAMILY)
 714 #define HAVE_HOSTED_CORE_ANIMATION 1
 715 #endif
 716 
 717 #endif /* OS(DARWIN) */
 718 
 719 #if OS(DARWIN) || OS(FUCHSIA) || ((OS(FREEBSD) || defined(__GLIBC__) || defined(__BIONIC__)) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM) || CPU(ARM64) || CPU(MIPS)))
 720 #define HAVE_MACHINE_CONTEXT 1
 721 #endif
 722 
 723 #if OS(DARWIN) || (OS(LINUX) &amp;&amp; defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__))
 724 #define HAVE_BACKTRACE 1
 725 #endif
 726 
 727 #if OS(DARWIN) || OS(LINUX)
 728 #if PLATFORM(GTK)
 729 #if defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__)
 730 #define HAVE_BACKTRACE_SYMBOLS 1
 731 #endif
 732 #endif /* PLATFORM(GTK) */
 733 #define HAVE_DLADDR 1
 734 #endif /* OS(DARWIN) || OS(LINUX) */
 735 
 736 
 737 /* ENABLE macro defaults */
 738 
 739 /* FIXME: move out all ENABLE() defines from here to FeatureDefines.h */
 740 
 741 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;)
 742 #include &lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;
 743 #endif
 744 
 745 /* Include feature macros */
 746 #include &lt;wtf/FeatureDefines.h&gt;
 747 
 748 #if OS(WINDOWS)
 749 #define USE_SYSTEM_MALLOC 1
 750 #endif
 751 
 752 #if !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64)
 753 #if CPU(ADDRESS64) || CPU(ARM64)
 754 #define USE_JSVALUE64 1
 755 #else
 756 #define USE_JSVALUE32_64 1
 757 #endif
 758 #endif /* !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64) */
 759 
 760 /* The JIT is enabled by default on all x86-64 &amp; ARM64 platforms. */
 761 #if !defined(ENABLE_JIT) \
 762     &amp;&amp; (CPU(X86_64) || CPU(ARM64)) \
 763     &amp;&amp; !CPU(APPLE_ARMV7K)
 764 #define ENABLE_JIT 1
 765 #endif
 766 
 767 #if USE(JSVALUE32_64)
 768 #if CPU(ARM_THUMB2) &amp;&amp; OS(LINUX)
 769 /* On ARMv7/Linux the JIT is enabled unless explicitly disabled. */
 770 #if !defined(ENABLE_JIT)
 771 #define ENABLE_JIT 1
 772 #endif
 773 #elif CPU(MIPS) &amp;&amp; OS(LINUX)
 774 /* Same on MIPS/Linux, but DFG is disabled for now. */
 775 #if !defined(ENABLE_JIT)
 776 #define ENABLE_JIT 1
 777 #endif
 778 #undef ENABLE_DFG_JIT
 779 #define ENABLE_DFG_JIT 0
 780 #else
 781 /* Disable JIT and force C_LOOP on all other 32bit architectures. */
 782 #undef ENABLE_JIT
 783 #define ENABLE_JIT 0
 784 #undef ENABLE_C_LOOP
 785 #define ENABLE_C_LOOP 1
 786 #endif
 787 #endif
 788 
 789 #if !defined(ENABLE_C_LOOP)
 790 #if ENABLE(JIT) \
 791     || CPU(X86_64) || (CPU(ARM64) &amp;&amp; !defined(__ILP32__))
 792 #define ENABLE_C_LOOP 0
 793 #else
 794 #define ENABLE_C_LOOP 1
 795 #endif
 796 #endif
 797 
 798 /* Cocoa ports should not use the jit on 32-bit ARM CPUs. */
 799 #if PLATFORM(COCOA) &amp;&amp; (CPU(ARM) || CPU(APPLE_ARMV7K))
 800 #undef ENABLE_JIT
 801 #define ENABLE_JIT 0
 802 #endif
 803 
 804 /* Disable the JIT for 32-bit Windows builds. */
 805 #if USE(JSVALUE32_64) &amp;&amp; OS(WINDOWS)
 806 #undef ENABLE_JIT
 807 #define ENABLE_JIT 0
 808 #endif
 809 
 810 /* The FTL *does not* work on 32-bit platforms. Disable it even if someone asked us to enable it. */
 811 #if USE(JSVALUE32_64)
 812 #undef ENABLE_FTL_JIT
 813 #define ENABLE_FTL_JIT 0
 814 #endif
 815 
 816 /* The FTL is disabled on the iOS simulator, mostly for simplicity. */
 817 #if PLATFORM(IOS_FAMILY_SIMULATOR)
 818 #undef ENABLE_FTL_JIT
 819 #define ENABLE_FTL_JIT 0
 820 #endif
 821 
 822 /* If possible, try to enable a disassembler. This is optional. We proceed in two
 823    steps: first we try to find some disassembler that we can use, and then we
 824    decide if the high-level disassembler API can be enabled. */
 825 #if !defined(USE_UDIS86) &amp;&amp; ENABLE(JIT) &amp;&amp; (CPU(X86) || CPU(X86_64)) &amp;&amp; !USE(CAPSTONE)
 826 #define USE_UDIS86 1
 827 #endif
 828 
 829 #if !defined(USE_ARM64_DISASSEMBLER) &amp;&amp; ENABLE(JIT) &amp;&amp; CPU(ARM64) &amp;&amp; !USE(CAPSTONE)
 830 #define USE_ARM64_DISASSEMBLER 1
 831 #endif
 832 
 833 #if !defined(ENABLE_DISASSEMBLER) &amp;&amp; (USE(UDIS86) || USE(ARM64_DISASSEMBLER) || (ENABLE(JIT) &amp;&amp; USE(CAPSTONE)))
 834 #define ENABLE_DISASSEMBLER 1
 835 #endif
 836 
 837 #if !defined(ENABLE_DFG_JIT) &amp;&amp; ENABLE(JIT)
 838 /* Enable the DFG JIT on X86 and X86_64. */
 839 #if (CPU(X86) || CPU(X86_64)) &amp;&amp; (OS(DARWIN) || OS(LINUX) || OS(FREEBSD) || OS(HURD) || OS(WINDOWS))
 840 #define ENABLE_DFG_JIT 1
 841 #endif
 842 /* Enable the DFG JIT on ARMv7.  Only tested on iOS, Linux, and FreeBSD. */
 843 #if (CPU(ARM_THUMB2) || CPU(ARM64)) &amp;&amp; (PLATFORM(IOS_FAMILY) || OS(LINUX) || OS(FREEBSD))
 844 #define ENABLE_DFG_JIT 1
 845 #endif
 846 /* Enable the DFG JIT on MIPS. */
 847 #if CPU(MIPS)
 848 #define ENABLE_DFG_JIT 1
 849 #endif
 850 #endif
 851 
 852 /* Concurrent JS only works on 64-bit platforms because it requires that
 853    values get stored to atomically. This is trivially true on 64-bit platforms,
 854    but not true at all on 32-bit platforms where values are composed of two
 855    separate sub-values. */
 856 #if ENABLE(DFG_JIT) &amp;&amp; USE(JSVALUE64)
 857 #define ENABLE_CONCURRENT_JS 1
 858 #endif
 859 
 860 #if __has_include(&lt;System/pthread_machdep.h&gt;)
 861 #define HAVE_FAST_TLS 1
 862 #endif
 863 
 864 #if (CPU(X86_64) || CPU(ARM64)) &amp;&amp; HAVE(FAST_TLS)
 865 #define ENABLE_FAST_TLS_JIT 1
 866 #endif
 867 
 868 #if CPU(X86) || CPU(X86_64) || CPU(ARM_THUMB2) || CPU(ARM64) || CPU(MIPS)
 869 #define ENABLE_MASM_PROBE 1
 870 #else
 871 #define ENABLE_MASM_PROBE 0
 872 #endif
 873 
 874 #if !ENABLE(JIT)
 875 #undef ENABLE_MASM_PROBE
 876 #define ENABLE_MASM_PROBE 0
 877 #endif
 878 
 879 /* If the baseline jit is not available, then disable upper tiers as well.
 880    The MacroAssembler::probe() is also required for supporting the upper tiers. */
 881 #if !ENABLE(JIT) || !ENABLE(MASM_PROBE)
 882 #undef ENABLE_DFG_JIT
 883 #undef ENABLE_FTL_JIT
 884 #define ENABLE_DFG_JIT 0
 885 #define ENABLE_FTL_JIT 0
 886 #endif
 887 
 888 /* If the DFG jit is not available, then disable upper tiers as well: */
 889 #if !ENABLE(DFG_JIT)
 890 #undef ENABLE_FTL_JIT
 891 #define ENABLE_FTL_JIT 0
 892 #endif
 893 
 894 /* This controls whether B3 is built. B3 is needed for FTL JIT and WebAssembly */
 895 #if ENABLE(FTL_JIT)
 896 #define ENABLE_B3_JIT 1
 897 #endif
 898 
 899 #if !defined(ENABLE_WEBASSEMBLY)
 900 #if ENABLE(B3_JIT) &amp;&amp; PLATFORM(COCOA) &amp;&amp; CPU(ADDRESS64)
 901 #define ENABLE_WEBASSEMBLY 1
 902 #else
 903 #define ENABLE_WEBASSEMBLY 0
 904 #endif
 905 #endif
 906 
 907 /* The SamplingProfiler is the probabilistic and low-overhead profiler used by
 908  * JSC to measure where time is spent inside a JavaScript program.
 909  * In configurations other than Windows and Darwin, because layout of mcontext_t depends on standard libraries (like glibc),
 910  * sampling profiler is enabled if WebKit uses pthreads and glibc. */
 911 #if !defined(ENABLE_SAMPLING_PROFILER)
 912 #if !ENABLE(C_LOOP) &amp;&amp; (OS(WINDOWS) || HAVE(MACHINE_CONTEXT))
 913 #define ENABLE_SAMPLING_PROFILER 1
 914 #else
 915 #define ENABLE_SAMPLING_PROFILER 0
 916 #endif
 917 #endif
 918 
 919 #if ENABLE(WEBASSEMBLY) &amp;&amp; HAVE(MACHINE_CONTEXT)
 920 #define ENABLE_WEBASSEMBLY_FAST_MEMORY 1
 921 #endif
 922 
 923 /* Counts uses of write barriers using sampling counters. Be sure to also
 924    set ENABLE_SAMPLING_COUNTERS to 1. */
 925 #if !defined(ENABLE_WRITE_BARRIER_PROFILING)
 926 #define ENABLE_WRITE_BARRIER_PROFILING 0
 927 #endif
 928 
 929 /* Logs all allocation-related activity that goes through fastMalloc or the
 930    JSC GC (both cells and butterflies). Also logs marking. Note that this
 931    isn&#39;t a completely accurate view of the heap since it doesn&#39;t include all
 932    butterfly resize operations, doesn&#39;t tell you what is going on with weak
 933    references (other than to tell you when they&#39;re marked), and doesn&#39;t
 934    track direct mmap() allocations or things like JIT allocation. */
 935 #if !defined(ENABLE_ALLOCATION_LOGGING)
 936 #define ENABLE_ALLOCATION_LOGGING 0
 937 #endif
 938 
 939 /* Enable verification that that register allocations are not made within generated control flow.
 940    Turned on for debug builds. */
 941 #if !defined(ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION) &amp;&amp; ENABLE(DFG_JIT)
 942 #if !defined(NDEBUG)
 943 #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 1
 944 #else
 945 #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 0
 946 #endif
 947 #endif
 948 
 949 /* Configure the JIT */
 950 #if CPU(X86) &amp;&amp; COMPILER(MSVC)
 951 #define JSC_HOST_CALL __fastcall
 952 #elif CPU(X86) &amp;&amp; COMPILER(GCC_COMPATIBLE)
 953 #define JSC_HOST_CALL __attribute__ ((fastcall))
 954 #else
 955 #define JSC_HOST_CALL
 956 #endif
 957 
 958 #if CPU(X86) &amp;&amp; OS(WINDOWS)
 959 #define CALLING_CONVENTION_IS_STDCALL 1
 960 #ifndef CDECL
 961 #if COMPILER(MSVC)
 962 #define CDECL __cdecl
 963 #else
 964 #define CDECL __attribute__ ((__cdecl))
 965 #endif
 966 #endif
 967 #else
 968 #define CALLING_CONVENTION_IS_STDCALL 0
 969 #endif
 970 
 971 #if CPU(X86)
 972 #define WTF_COMPILER_SUPPORTS_FASTCALL_CALLING_CONVENTION 1
 973 #ifndef FASTCALL
 974 #if COMPILER(MSVC)
 975 #define FASTCALL __fastcall
 976 #else
 977 #define FASTCALL  __attribute__ ((fastcall))
 978 #endif
 979 #endif
 980 #else
 981 #define WTF_COMPILER_SUPPORTS_FASTCALL_CALLING_CONVENTION 0
 982 #endif
 983 
 984 #if ENABLE(JIT) &amp;&amp; CALLING_CONVENTION_IS_STDCALL
 985 #define JIT_OPERATION CDECL
 986 #else
 987 #define JIT_OPERATION
 988 #endif
 989 
 990 #if PLATFORM(IOS_FAMILY) &amp;&amp; CPU(ARM64) &amp;&amp; (!ENABLE(FAST_JIT_PERMISSIONS) || !CPU(ARM64E))
 991 #define ENABLE_SEPARATED_WX_HEAP 1
 992 #else
 993 #define ENABLE_SEPARATED_WX_HEAP 0
 994 #endif
 995 
 996 /* Configure the interpreter */
 997 #if COMPILER(GCC_COMPATIBLE)
 998 #define HAVE_COMPUTED_GOTO 1
 999 #endif
1000 
1001 /* Determine if we need to enable Computed Goto Opcodes or not: */
1002 #if HAVE(COMPUTED_GOTO) || !ENABLE(C_LOOP)
1003 #define ENABLE_COMPUTED_GOTO_OPCODES 1
1004 #endif
1005 
1006 #if !ENABLE(C_LOOP) &amp;&amp; !COMPILER(MSVC) &amp;&amp; \
1007     (CPU(X86) || CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; OS(DARWIN)))
1008 /* This feature works by embedding the OpcodeID in the 32 bit just before the generated LLint code
1009    that executes each opcode. It cannot be supported by the CLoop since there&#39;s no way to embed the
1010    OpcodeID word in the CLoop&#39;s switch statement cases. It is also currently not implemented for MSVC.
1011 */
1012 #define USE_LLINT_EMBEDDED_OPCODE_ID 1
1013 #endif
1014 
1015 /* Regular Expression Tracing - Set to 1 to trace RegExp&#39;s in jsc.  Results dumped at exit */
1016 #define ENABLE_REGEXP_TRACING 0
1017 
1018 /* Yet Another Regex Runtime - turned on by default for JIT enabled ports. */
1019 #if !defined(ENABLE_YARR_JIT) &amp;&amp; ENABLE(JIT)
1020 #define ENABLE_YARR_JIT 1
1021 
1022 /* Setting this flag compares JIT results with interpreter results. */
1023 #define ENABLE_YARR_JIT_DEBUG 0
1024 #endif
1025 
1026 #if ENABLE(YARR_JIT)
1027 #if CPU(ARM64) || (CPU(X86_64) &amp;&amp; !OS(WINDOWS))
1028 /* Enable JIT&#39;ing Regular Expressions that have nested parenthesis and back references. */
1029 #define ENABLE_YARR_JIT_ALL_PARENS_EXPRESSIONS 1
1030 #define ENABLE_YARR_JIT_BACKREFERENCES 1
1031 #endif
1032 #endif
1033 
1034 /* If either the JIT or the RegExp JIT is enabled, then the Assembler must be
1035    enabled as well: */
1036 #if ENABLE(JIT) || ENABLE(YARR_JIT) || !ENABLE(C_LOOP)
1037 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER
1038 #error &quot;Cannot enable the JIT or RegExp JIT without enabling the Assembler&quot;
1039 #else
1040 #undef ENABLE_ASSEMBLER
1041 #define ENABLE_ASSEMBLER 1
1042 #endif
1043 #endif
1044 
1045 /* If the Disassembler is enabled, then the Assembler must be enabled as well: */
1046 #if ENABLE(DISASSEMBLER)
1047 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER
1048 #error &quot;Cannot enable the Disassembler without enabling the Assembler&quot;
1049 #else
1050 #undef ENABLE_ASSEMBLER
1051 #define ENABLE_ASSEMBLER 1
1052 #endif
1053 #endif
1054 
1055 #ifndef ENABLE_EXCEPTION_SCOPE_VERIFICATION
1056 #ifdef NDEBUG
1057 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 0
1058 #else
1059 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 1
1060 #endif
1061 #endif
1062 
1063 #if ENABLE(DFG_JIT) &amp;&amp; HAVE(MACHINE_CONTEXT) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM64))
1064 #define ENABLE_SIGNAL_BASED_VM_TRAPS 1
1065 #endif
1066 
1067 #if !defined(USE_POINTER_PROFILING) || USE(JSVALUE32_64) || !ENABLE(JIT)
1068 #undef USE_POINTER_PROFILING
1069 #define USE_POINTER_PROFILING 0
1070 #endif
1071 
1072 /* CSS Selector JIT Compiler */
1073 #if !defined(ENABLE_CSS_SELECTOR_JIT)
1074 #if (CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; PLATFORM(IOS_FAMILY))) &amp;&amp; ENABLE(JIT) &amp;&amp; (OS(DARWIN) || PLATFORM(GTK) || PLATFORM(WPE))
1075 #define ENABLE_CSS_SELECTOR_JIT 1
1076 #else
1077 #define ENABLE_CSS_SELECTOR_JIT 0
1078 #endif
1079 #endif
1080 
1081 #if CPU(ARM64E) &amp;&amp; OS(DARWIN)
1082 #define HAVE_FJCVTZS_INSTRUCTION 1
1083 #endif
1084 
1085 #if PLATFORM(IOS)
1086 #define HAVE_APP_LINKS 1
1087 #define USE_PASSKIT 1
1088 #define USE_QUICK_LOOK 1
1089 #define USE_SYSTEM_PREVIEW 1
1090 #endif
1091 
1092 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOSMAC)
1093 #define HAVE_AUDIO_TOOLBOX_AUDIO_SESSION 1
1094 #define HAVE_CELESTIAL 1
1095 #define HAVE_CORE_ANIMATION_RENDER_SERVER 1
1096 #endif
1097 
1098 #if PLATFORM(COCOA)
1099 
1100 #define USE_AVFOUNDATION 1
1101 #define USE_PROTECTION_SPACE_AUTH_CALLBACK 1
1102 
1103 #if !PLATFORM(WATCHOS) &amp;&amp; !PLATFORM(APPLETV) &amp;&amp; !PLATFORM(IOSMAC)
1104 #define ENABLE_DATA_DETECTION 1
1105 #endif
1106 
1107 #if !PLATFORM(APPLETV) &amp;&amp; !PLATFORM(IOSMAC)
1108 #define HAVE_PARENTAL_CONTROLS 1
1109 #endif
1110 
1111 #if !PLATFORM(APPLETV) &amp;&amp; (!PLATFORM(IOSMAC) || __IPHONE_OS_VERSION_MIN_REQUIRED &lt; 130000)
1112 #define HAVE_AVKIT 1
1113 #endif
1114 
1115 #if ENABLE(WEBGL)
1116 #if PLATFORM(MAC)
1117 #define USE_OPENGL 1
1118 #define USE_OPENGL_ES 0
1119 #elif PLATFORM(IOSMAC) &amp;&amp; __has_include(&lt;OpenGL/OpenGL.h&gt;)
1120 #define USE_OPENGL 1
1121 #define USE_OPENGL_ES 0
1122 #else
1123 #define USE_OPENGL 0
1124 #define USE_OPENGL_ES 1
1125 #endif
1126 #if PLATFORM(COCOA)
1127 #ifndef GL_SILENCE_DEPRECATION
1128 #define GL_SILENCE_DEPRECATION 1
1129 #endif
1130 #endif
1131 #endif
1132 
1133 #define USE_METAL 1
1134 
1135 #if HAVE(ACCESSIBILITY)
1136 #define USE_ACCESSIBILITY_CONTEXT_MENUS 1
1137 #endif
1138 
1139 #endif
1140 
1141 #if ENABLE(WEBGL) &amp;&amp; PLATFORM(WIN)
1142 #define USE_OPENGL 1
1143 #define USE_OPENGL_ES 1
1144 #define USE_EGL 1
1145 #endif
1146 
1147 #if USE(TEXTURE_MAPPER) &amp;&amp; ENABLE(GRAPHICS_CONTEXT_3D) &amp;&amp; !defined(USE_TEXTURE_MAPPER_GL)
1148 #define USE_TEXTURE_MAPPER_GL 1
1149 #endif
1150 
1151 #if CPU(ARM_THUMB2) || CPU(ARM64)
1152 #define ENABLE_BRANCH_COMPACTION 1
1153 #endif
1154 
1155 #if !defined(ENABLE_THREADING_LIBDISPATCH) &amp;&amp; HAVE(DISPATCH_H)
1156 #define ENABLE_THREADING_LIBDISPATCH 1
1157 #elif !defined(ENABLE_THREADING_OPENMP) &amp;&amp; defined(_OPENMP)
1158 #define ENABLE_THREADING_OPENMP 1
1159 #elif !defined(THREADING_GENERIC)
1160 #define ENABLE_THREADING_GENERIC 1
1161 #endif
1162 
1163 #if USE(GLIB)
1164 #include &lt;wtf/glib/GTypedefs.h&gt;
1165 #endif
1166 
1167 #if !defined(USE_EXPORT_MACROS) &amp;&amp; (PLATFORM(COCOA) || OS(WINDOWS))
1168 #define USE_EXPORT_MACROS 1
1169 #endif
1170 
1171 #if PLATFORM(GTK) || PLATFORM(WPE)
1172 #define USE_UNIX_DOMAIN_SOCKETS 1
1173 #endif
1174 
1175 #if !defined(USE_IMLANG_FONT_LINK2)
1176 #define USE_IMLANG_FONT_LINK2 1
1177 #endif
1178 
1179 #if !defined(ENABLE_GC_VALIDATION) &amp;&amp; !defined(NDEBUG)
1180 #define ENABLE_GC_VALIDATION 1
1181 #endif
1182 
1183 #if !defined(ENABLE_BINDING_INTEGRITY) &amp;&amp; !OS(WINDOWS)
1184 #define ENABLE_BINDING_INTEGRITY 1
1185 #endif
1186 
1187 #if !defined(ENABLE_TREE_DEBUGGING)
1188 #if !defined(NDEBUG)
1189 #define ENABLE_TREE_DEBUGGING 1
1190 #else
1191 #define ENABLE_TREE_DEBUGGING 0
1192 #endif
1193 #endif
1194 
1195 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1196 #define USE_COREMEDIA 1
1197 #define USE_VIDEOTOOLBOX 1
1198 
1199 #if !PLATFORM(IOSMAC)
1200 #define HAVE_AVFOUNDATION_VIDEO_OUTPUT 1
1201 #define HAVE_CORE_VIDEO 1
1202 #define HAVE_MEDIA_PLAYER 1
1203 #endif
1204 #endif
1205 
1206 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1207 #define HAVE_AVFOUNDATION_MEDIA_SELECTION_GROUP 1
1208 #endif
1209 
1210 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1211 #define HAVE_AVFOUNDATION_LEGIBLE_OUTPUT_SUPPORT 1
1212 #define HAVE_MEDIA_ACCESSIBILITY_FRAMEWORK 1
1213 #endif
1214 
1215 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)
1216 #define HAVE_AVFOUNDATION_LOADER_DELEGATE 1
1217 #endif
1218 
1219 #if !PLATFORM(WIN) &amp;&amp; !PLATFORM(JAVA)
1220 #define USE_REQUEST_ANIMATION_FRAME_DISPLAY_MONITOR 1
1221 #endif
1222 
1223 #if PLATFORM(MAC)
1224 #define HAVE_APPLE_GRAPHICS_CONTROL 1
1225 #define USE_COREAUDIO 1
1226 #endif
1227 
1228 #if !defined(USE_ZLIB) &amp;&amp; !PLATFORM(JAVA)
1229 #define USE_ZLIB 1
1230 #endif
1231 
1232 #ifndef HAVE_QOS_CLASSES
1233 #if PLATFORM(COCOA)
1234 #define HAVE_QOS_CLASSES 1
1235 #endif
1236 #endif
1237 
1238 #ifndef HAVE_VOUCHERS
1239 #if PLATFORM(COCOA)
1240 #define HAVE_VOUCHERS 1
1241 #endif
1242 #endif
1243 
1244 #define USE_GRAMMAR_CHECKING 1
1245 
1246 #if PLATFORM(COCOA) || PLATFORM(GTK)
1247 #define USE_UNIFIED_TEXT_CHECKING 1
1248 #endif
1249 #if PLATFORM(MAC)
1250 #define USE_AUTOMATIC_TEXT_REPLACEMENT 1
1251 #endif
1252 
1253 #if PLATFORM(MAC)
1254 /* Some platforms provide UI for suggesting autocorrection. */
1255 #define USE_AUTOCORRECTION_PANEL 1
1256 #endif
1257 
1258 #if PLATFORM(COCOA)
1259 /* Some platforms use spelling and autocorrection markers to provide visual cue. On such platform, if word with marker is edited, we need to remove the marker. */
1260 #define USE_MARKER_REMOVAL_UPON_EDITING 1
1261 #endif
1262 
1263 #if PLATFORM(MAC)
1264 #define USE_INSERTION_UNDO_GROUPING 1
1265 #endif
1266 
1267 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1268 #define HAVE_AVASSETREADER 1
1269 #endif
1270 
1271 #if PLATFORM(COCOA)
1272 #define HAVE_TIMINGDATAOPTIONS 1
1273 #endif
1274 
1275 #if PLATFORM(COCOA)
1276 #define USE_AUDIO_SESSION 1
1277 #endif
1278 
1279 #if PLATFORM(COCOA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)
1280 #define HAVE_IOSURFACE 1
1281 #endif
1282 
1283 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; !PLATFORM(IOSMAC)
1284 #define HAVE_IOSURFACE_ACCELERATOR 1
1285 #endif
1286 
1287 #if PLATFORM(COCOA)
1288 #define ENABLE_RESOURCE_USAGE 1
1289 #endif
1290 
1291 #if PLATFORM(GTK) || PLATFORM(WPE)
1292 #undef ENABLE_OPENTYPE_VERTICAL
1293 #define ENABLE_OPENTYPE_VERTICAL 1
1294 #endif
1295 
1296 #if COMPILER(MSVC)
1297 #undef __STDC_FORMAT_MACROS
1298 #define __STDC_FORMAT_MACROS
1299 #undef __STDC_LIMIT_MACROS
1300 #define __STDC_LIMIT_MACROS
1301 #endif
1302 
1303 #if PLATFORM(MAC)
1304 #define HAVE_NS_ACTIVITY 1
1305 #endif
1306 
1307 /* Disable SharedArrayBuffers until Spectre security concerns are mitigated. */
1308 #define ENABLE_SHARED_ARRAY_BUFFER 0
1309 
1310 #if (OS(DARWIN) &amp;&amp; USE(CG)) || (USE(FREETYPE) &amp;&amp; !PLATFORM(GTK)) || (PLATFORM(WIN) &amp;&amp; (USE(CG) || USE(CAIRO)))
1311 #undef ENABLE_OPENTYPE_MATH
1312 #define ENABLE_OPENTYPE_MATH 1
1313 #endif
1314 
1315 /* Set TARGET_OS_IPHONE to 0 by default to allow using it as a guard
1316  * in cross-platform the same way as it is used in OS(DARWIN) code. */
1317 #if !defined(TARGET_OS_IPHONE) &amp;&amp; !OS(DARWIN)
1318 #define TARGET_OS_IPHONE 0
1319 #endif
1320 
1321 #if PLATFORM(COCOA)
1322 #define USE_MEDIATOOLBOX 1
1323 #endif
1324 
1325 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1326 #define USE_OS_LOG 1
1327 #if USE(APPLE_INTERNAL_SDK)
1328 #define USE_OS_STATE 1
1329 #endif
1330 #endif
1331 
1332 #if PLATFORM(COCOA)
1333 #define HAVE_SEC_TRUST_SERIALIZATION 1
1334 #endif
1335 
1336 #if !defined(WTF_DEFAULT_EVENT_LOOP)
1337 #define WTF_DEFAULT_EVENT_LOOP 1
1338 #endif
1339 
1340 #if WTF_DEFAULT_EVENT_LOOP
1341 #if USE(GLIB)
1342 /* Use GLib&#39;s event loop abstraction. Primarily GTK port uses it. */
1343 #define USE_GLIB_EVENT_LOOP 1
1344 #elif OS(WINDOWS)
1345 /* Use Windows message pump abstraction.
1346  * Even if the port is AppleWin, we use the Windows message pump system for the event loop,
1347  * so that USE(WINDOWS_EVENT_LOOP) &amp;&amp; USE(CF) can be true.
1348  * And PLATFORM(WIN) and PLATFORM(GTK) are exclusive. If the port is GTK,
1349  * PLATFORM(WIN) should be false. And in that case, GLib&#39;s event loop is used.
1350  */
1351 #define USE_WINDOWS_EVENT_LOOP 1
1352 #elif PLATFORM(COCOA)
1353 /* OS X and IOS. Use CoreFoundation &amp; GCD abstraction. */
1354 #define USE_COCOA_EVENT_LOOP 1
1355 #else
1356 #define USE_GENERIC_EVENT_LOOP 1
1357 #endif
1358 #endif
1359 
1360 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)
1361 #define USE_MEDIAREMOTE 1
1362 #endif
1363 
1364 #if COMPILER(MSVC)
1365 /* Enable strict runtime stack buffer checks. */
1366 #pragma strict_gs_check(on)
1367 #endif
1368 
1369 #if PLATFORM(MAC)
1370 #define HAVE_TOUCH_BAR 1
1371 #define USE_DICTATION_ALTERNATIVES 1
1372 
1373 #if defined(__LP64__)
1374 #define ENABLE_WEB_PLAYBACK_CONTROLS_MANAGER 1
1375 #endif
1376 #endif /* PLATFORM(MAC) */
1377 
1378 #if PLATFORM(COCOA) &amp;&amp; ENABLE(WEB_RTC)
1379 #define USE_LIBWEBRTC 1
1380 #endif
1381 
1382 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300) || PLATFORM(IOS) || PLATFORM(IOSMAC) || USE(GCRYPT)
1383 #define HAVE_RSA_PSS 1
1384 #endif
1385 
1386 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || PLATFORM(IOS_FAMILY)
1387 #define USE_SOURCE_APPLICATION_AUDIT_DATA 1
1388 #endif
1389 
1390 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(IOSMAC)
1391 #define HAVE_URL_FORMATTING 1
1392 #endif
1393 
1394 #if !OS(WINDOWS)
1395 #define HAVE_STACK_BOUNDS_FOR_NEW_THREAD 1
1396 #endif
1397 
1398 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300) || PLATFORM(IOS) || PLATFORM(IOSMAC)
1399 #define HAVE_AVCONTENTKEYSESSION 1
1400 #endif
1401 
1402 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(IOSMAC)
1403 #define ENABLE_ACCESSIBILITY_EVENTS 1
1404 #define HAVE_SEC_KEY_PROXY 1
1405 #endif
1406 
1407 #if PLATFORM(COCOA) &amp;&amp; USE(CA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)
1408 #define USE_IOSURFACE_CANVAS_BACKING_STORE 1
1409 #endif
1410 
1411 /* FIXME: Should this be enabled or IOS_FAMILY, not just IOS? */
1412 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)
1413 #define HAVE_FOUNDATION_WITH_SAVE_COOKIES_WITH_COMPLETION_HANDLER 1
1414 #endif
1415 
1416 /* FIXME: Should this be enabled for IOS_FAMILY, not just IOS? */
1417 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)
1418 #define HAVE_FOUNDATION_WITH_SAME_SITE_COOKIE_SUPPORT 1
1419 #endif
1420 
1421 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101400
1422 #define HAVE_NSHTTPCOOKIESTORAGE__INITWITHIDENTIFIER_WITH_INACCURATE_NULLABILITY 1
1423 #endif
1424 
1425 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101302 &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300) || PLATFORM(IOS_FAMILY)
1426 #define HAVE_CFNETWORK_WITH_CONTENT_ENCODING_SNIFFING_OVERRIDE 1
1427 /* The override isn&#39;t needed on iOS family, as the default behavior is to not sniff. */
1428 /* FIXME: This should probably be enabled on 10.13.2 and newer, not just 10.14 and newer. */
1429 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1430 #define USE_CFNETWORK_CONTENT_ENCODING_SNIFFING_OVERRIDE 1
1431 #endif
1432 #endif
1433 
1434 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101302 &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300) || PLATFORM(IOS_FAMILY)
1435 #define HAVE_CFNETWORK_WITH_IGNORE_HSTS 1
1436 #endif
1437 
1438 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300 &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101302) || PLATFORM(IOS_FAMILY)
1439 #define HAVE_CFNETWORK_WITH_AUTO_ADDED_HTTP_HEADER_SUPPRESSION_SUPPORT 1
1440 /* FIXME: Does this work, and is this needed on other iOS family platforms? */
1441 #if PLATFORM(MAC) || PLATFORM(IOS)
1442 #define USE_CFNETWORK_AUTO_ADDED_HTTP_HEADER_SUPPRESSION 1
1443 #endif
1444 #endif
1445 
1446 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1447 #define HAVE_OS_DARK_MODE_SUPPORT 1
1448 #endif
1449 
1450 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400
1451 #define HAVE_CG_FONT_RENDERING_GET_FONT_SMOOTHING_DISABLED 1
1452 #endif
1453 
1454 #ifdef __APPLE__
1455 #define HAVE_FUNC_USLEEP 1
1456 #endif
1457 
1458 #if PLATFORM(MAC) || PLATFORM(WPE)
1459 /* FIXME: This really needs a descriptive name, this &quot;new theme&quot; was added in 2008. */
1460 #define USE_NEW_THEME 1
1461 #endif
1462 
1463 #if PLATFORM(MAC)
1464 #define HAVE_WINDOW_SERVER_OCCLUSION_NOTIFICATIONS 1
1465 #endif
1466 
1467 #if PLATFORM(COCOA)
1468 #define HAVE_SEC_ACCESS_CONTROL 1
1469 #endif
1470 
1471 #if PLATFORM(IOS)
1472 /* FIXME: SafariServices.framework exists on macOS. It is only used by WebKit on iOS, so the behavior is correct, but the name is misleading. */
1473 #define HAVE_SAFARI_SERVICES_FRAMEWORK 1
1474 #endif
1475 
1476 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101300 &amp;&amp; !defined(__i386__)) || PLATFORM(IOS) || PLATFORM(WATCHOS)
1477 #define HAVE_SAFE_BROWSING 1
1478 #endif
1479 
1480 #if PLATFORM(IOS)
1481 #define HAVE_LINK_PREVIEW 1
1482 #endif
1483 
1484 #if PLATFORM(COCOA)
1485 /* FIXME: This is a USE style macro, as it triggers the use of CFURLConnection framework stubs. */
1486 /* FIXME: Is this still necessary? CFURLConnection isn&#39;t used on Cocoa platforms any more. */
1487 #define ENABLE_SEC_ITEM_SHIM 1
1488 #endif
1489 
1490 #if (PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400))
1491 #define HAVE_ACCESSIBILITY_SUPPORT 1
1492 #endif
1493 
1494 #if PLATFORM(MAC)
1495 #define ENABLE_FULL_KEYBOARD_ACCESS 1
1496 #endif
1497 
1498 #if PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400)
1499 #define HAVE_AUTHORIZATION_STATUS_FOR_MEDIA_TYPE 1
1500 #endif
1501 
1502 #if (PLATFORM(MAC) &amp;&amp; (__MAC_OS_X_VERSION_MIN_REQUIRED == 101200 || (__MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400 &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101404))) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 120200) || (PLATFORM(WATCHOS) &amp;&amp; __WATCH_OS_VERSION_MIN_REQUIRED &gt;= 50000 &amp;&amp; __WATCH_OS_VERSION_MAX_ALLOWED &gt;= 50200) || (PLATFORM(APPLETV) &amp;&amp; __TV_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; __TV_OS_VERSION_MAX_ALLOWED &gt;= 120200)
1503 #define HAVE_CFNETWORK_OVERRIDE_SESSION_COOKIE_ACCEPT_POLICY 1
1504 #endif
1505 
1506 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1507 #define HAVE_CFNETWORK_NSURLSESSION_STRICTRUSTEVALUATE 1
1508 #endif
1509 
1510 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)
1511 #define HAVE_CFNETWORK_NEGOTIATED_SSL_PROTOCOL_CIPHER 1
1512 #endif
1513 
1514 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500
1515 #define HAVE_CSCHECKFIXDISABLE 1
1516 #endif
1517 
1518 #if PLATFORM(MAC)
1519 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__MAC_OS_X_VERSION_MIN_REQUIRED &lt; 101500)
1520 #elif PLATFORM(IOS_FAMILY)
1521 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__IPHONE_OS_VERSION_MIN_REQUIRED &lt; 130000)
1522 #endif
    </pre>
  </body>
</html>