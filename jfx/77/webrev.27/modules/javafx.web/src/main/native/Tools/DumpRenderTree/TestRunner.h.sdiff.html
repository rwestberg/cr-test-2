<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Tools/DumpRenderTree/TestRunner.h</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="TestRunner.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="java/DumpRenderTree.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Tools/DumpRenderTree/TestRunner.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 89     void queueLoad(JSStringRef url, JSStringRef target);
 90     void queueLoadHTMLString(JSStringRef content, JSStringRef baseURL);
 91     void queueLoadAlternateHTMLString(JSStringRef content, JSStringRef baseURL, JSStringRef unreachableURL);
 92     void queueLoadingScript(JSStringRef script);
 93     void queueNonLoadingScript(JSStringRef script);
 94     void queueReload();
 95     void removeAllVisitedLinks();
 96     void setAcceptsEditing(bool);
 97     void setFetchAPIEnabled(bool);
 98     void setAllowUniversalAccessFromFileURLs(bool);
 99     void setAllowFileAccessFromFileURLs(bool);
100     void setNeedsStorageAccessFromFileURLsQuirk(bool);
101     void setAppCacheMaximumSize(unsigned long long quota);
102     void setAuthorAndUserStylesEnabled(bool);
103     void setCacheModel(int);
104     void setCustomPolicyDelegate(bool setDelegate, bool permissive);
105     void setDatabaseQuota(unsigned long long quota);
106     void setDomainRelaxationForbiddenForURLScheme(bool forbidden, JSStringRef scheme);
107     void setDefersLoading(bool);
108     void setIconDatabaseEnabled(bool);
<span class="line-removed">109     void setIDBPerOriginQuota(uint64_t);</span>
110     void setJavaScriptCanAccessClipboard(bool flag);
111     void setAutomaticLinkDetectionEnabled(bool flag);
112     void setMainFrameIsFirstResponder(bool flag);
113     void setMockDeviceOrientation(bool canProvideAlpha, double alpha, bool canProvideBeta, double beta, bool canProvideGamma, double gamma);
114     void setMockGeolocationPosition(double latitude, double longitude, double accuracy, bool providesAltitude, double altitude, bool providesAltitudeAccuracy, double altitudeAccuracy, bool providesHeading, double heading, bool providesSpeed, double speed, bool providesFloorLevel, double floorLevel);
115     void setMockGeolocationPositionUnavailableError(JSStringRef message);
116     void setPersistentUserStyleSheetLocation(JSStringRef path);
117     void setPluginsEnabled(bool);
118     void setPopupBlockingEnabled(bool);
119     void setPrivateBrowsingEnabled(bool);
120     void setTabKeyCyclesThroughElements(bool);
<span class="line-removed">121     void setUseDashboardCompatibilityMode(bool flag);</span>
122     void setUserStyleSheetEnabled(bool flag);
123     void setUserStyleSheetLocation(JSStringRef path);
124     void setValueForUser(JSContextRef, JSValueRef nodeObject, JSStringRef value);
125     void setXSSAuditorEnabled(bool flag);
126     void setSpatialNavigationEnabled(bool);
127     void setScrollbarPolicy(JSStringRef orientation, JSStringRef policy);
128 #if PLATFORM(IOS_FAMILY)
129     void setTelephoneNumberParsingEnabled(bool enable);
130     void setPagePaused(bool paused);
131 #endif
132 
133     void setPageVisibility(const char*);
134     void resetPageVisibility();
135 
136     static void setAllowsAnySSLCertificate(bool);
137 
138     void waitForPolicyDelegate();
139     size_t webHistoryItemCount();
140     int windowCount();
141 
142 #if ENABLE(TEXT_AUTOSIZING)
143     void setTextAutosizingEnabled(bool);
144 #endif
145 
146     void setAccummulateLogsForChannel(JSStringRef);
147 
148     void runUIScript(JSContextRef, JSStringRef, JSValueRef callback);
149 
150     // Legacy here refers to the old TestRunner API for handling web notifications, not the legacy web notification API.
151     void ignoreLegacyWebNotificationPermissionRequests();
152     // Legacy here refers to the old TestRunner API for handling web notifications, not the legacy web notification API.
153     void simulateLegacyWebNotificationClick(JSStringRef title);
154     void grantWebNotificationPermission(JSStringRef origin);
155     void denyWebNotificationPermission(JSStringRef origin);
156     void removeAllWebNotificationPermissions();
157     void simulateWebNotificationClick(JSValueRef notification);
158 



159     bool dumpAsAudio() const { return m_dumpAsAudio; }
160     void setDumpAsAudio(bool dumpAsAudio) { m_dumpAsAudio = dumpAsAudio; }
161 
162     bool dumpAsPDF() const { return m_dumpAsPDF; }
163     void setDumpAsPDF(bool dumpAsPDF) { m_dumpAsPDF = dumpAsPDF; }
164 
165     bool dumpAsText() const { return m_dumpAsText; }
166     void setDumpAsText(bool dumpAsText) { m_dumpAsText = dumpAsText; }
167 
168     bool generatePixelResults() const { return m_generatePixelResults; }
169     void setGeneratePixelResults(bool generatePixelResults) { m_generatePixelResults = generatePixelResults; }
170 
171     bool disallowIncreaseForApplicationCacheQuota() const { return m_disallowIncreaseForApplicationCacheQuota; }
172     void setDisallowIncreaseForApplicationCacheQuota(bool disallowIncrease) { m_disallowIncreaseForApplicationCacheQuota = disallowIncrease; }
173 
174     bool dumpApplicationCacheDelegateCallbacks() const { return m_dumpApplicationCacheDelegateCallbacks; }
175     void setDumpApplicationCacheDelegateCallbacks(bool dumpCallbacks) { m_dumpApplicationCacheDelegateCallbacks = dumpCallbacks; }
176 
177     bool dumpBackForwardList() const { return m_dumpBackForwardList; }
178     void setDumpBackForwardList(bool dumpBackForwardList) { m_dumpBackForwardList = dumpBackForwardList; }
</pre>
<hr />
<pre>
366     void closeIdleLocalStorageDatabases();
367 
368     bool hasPendingWebNotificationClick() const { return m_hasPendingWebNotificationClick; }
369 
370     void setCustomTimeout(int duration) { m_timeout = duration; }
371     double timeout() { return m_timeout; }
372 
373     unsigned imageCountInGeneralPasteboard() const;
374 
375     void callUIScriptCallback(unsigned callbackID, JSStringRef result);
376 
377     void setDumpJSConsoleLogInStdErr(bool inStdErr) { m_dumpJSConsoleLogInStdErr = inStdErr; }
378     bool dumpJSConsoleLogInStdErr() const { return m_dumpJSConsoleLogInStdErr; }
379 
380     void setSpellCheckerLoggingEnabled(bool);
381     void setSpellCheckerResults(JSContextRef, JSObjectRef results);
382 
383     const std::vector&lt;std::string&gt;&amp; openPanelFiles() const { return m_openPanelFiles; }
384     void setOpenPanelFiles(JSContextRef, JSValueRef);
385 





386     bool didCancelClientRedirect() const { return m_didCancelClientRedirect; }
387     void setDidCancelClientRedirect(bool value) { m_didCancelClientRedirect = value; }
388 
389 private:
390     TestRunner(const std::string&amp; testURL, const std::string&amp; expectedPixelHash);
391 
392     JSContextRef mainFrameJSContext();
393 
394     // UIScriptContextDelegate
395     void uiScriptDidComplete(const String&amp;, unsigned callbackID) override;
396 
397     void cacheTestRunnerCallback(unsigned index, JSValueRef);
398     void callTestRunnerCallback(unsigned index, size_t argumentCount = 0, const JSValueRef arguments[] = nullptr);
399     void clearTestRunnerCallbacks();
400 
401     void setGeolocationPermissionCommon(bool allow);
402 
<span class="line-modified">403     bool m_disallowIncreaseForApplicationCacheQuota;</span>
<span class="line-modified">404     bool m_dumpApplicationCacheDelegateCallbacks;</span>
<span class="line-modified">405     bool m_dumpAsAudio;</span>
<span class="line-modified">406     bool m_dumpAsPDF;</span>
<span class="line-modified">407     bool m_dumpAsText;</span>
<span class="line-modified">408     bool m_dumpBackForwardList;</span>
<span class="line-modified">409     bool m_dumpChildFrameScrollPositions;</span>
<span class="line-modified">410     bool m_dumpChildFramesAsText;</span>
<span class="line-modified">411     bool m_dumpDOMAsWebArchive;</span>
<span class="line-modified">412     bool m_dumpDatabaseCallbacks;</span>
<span class="line-modified">413     bool m_dumpEditingCallbacks;</span>
<span class="line-modified">414     bool m_dumpFrameLoadCallbacks;</span>
<span class="line-modified">415     bool m_dumpProgressFinishedCallback;</span>
<span class="line-modified">416     bool m_dumpUserGestureInFrameLoadCallbacks;</span>
<span class="line-modified">417     bool m_dumpHistoryDelegateCallbacks;</span>
<span class="line-modified">418     bool m_dumpResourceLoadCallbacks;</span>
<span class="line-modified">419     bool m_dumpResourceResponseMIMETypes;</span>
<span class="line-modified">420     bool m_dumpSelectionRect;</span>
<span class="line-modified">421     bool m_dumpSourceAsWebArchive;</span>
<span class="line-modified">422     bool m_dumpStatusCallbacks;</span>
<span class="line-modified">423     bool m_dumpTitleChanges;</span>
<span class="line-modified">424     bool m_dumpVisitedLinksCallback;</span>
<span class="line-modified">425     bool m_dumpWillCacheResponse;</span>
<span class="line-modified">426     bool m_generatePixelResults;</span>
<span class="line-modified">427     bool m_callCloseOnWebViews;</span>
<span class="line-modified">428     bool m_canOpenWindows;</span>
<span class="line-modified">429     bool m_closeRemainingWindowsWhenComplete;</span>
<span class="line-modified">430     bool m_newWindowsCopyBackForwardList;</span>
<span class="line-modified">431     bool m_stopProvisionalFrameLoads;</span>
<span class="line-modified">432     bool m_testOnscreen;</span>
<span class="line-modified">433     bool m_testRepaint;</span>
<span class="line-modified">434     bool m_testRepaintSweepHorizontally;</span>
<span class="line-modified">435     bool m_waitToDump; // True if waitUntilDone() has been called, but notifyDone() has not yet been called.</span>
<span class="line-modified">436     bool m_willSendRequestReturnsNull;</span>
<span class="line-modified">437     bool m_willSendRequestReturnsNullOnRedirect;</span>
<span class="line-modified">438     bool m_windowIsKey;</span>
<span class="line-modified">439     bool m_alwaysAcceptCookies;</span>
<span class="line-modified">440     bool m_globalFlag;</span>
<span class="line-modified">441     bool m_isGeolocationPermissionSet;</span>
<span class="line-modified">442     bool m_geolocationPermission;</span>
<span class="line-modified">443     bool m_rejectsProtectionSpaceAndContinueForAuthenticationChallenges;</span>
<span class="line-modified">444     bool m_handlesAuthenticationChallenges;</span>
<span class="line-modified">445     bool m_isPrinting;</span>
<span class="line-modified">446     bool m_useDeferredFrameLoading;</span>
<span class="line-modified">447     bool m_shouldPaintBrokenImage;</span>
<span class="line-modified">448     bool m_shouldStayOnPageAfterHandlingBeforeUnload;</span>
449     // FIXME 81697: This variable most likely will be removed once we have migrated the tests from fast/notifications to http/tests/notifications.
<span class="line-modified">450     bool m_areLegacyWebNotificationPermissionRequestsIgnored;</span>
<span class="line-modified">451     bool m_customFullScreenBehavior;</span>
<span class="line-modified">452     bool m_hasPendingWebNotificationClick;</span>
453     bool m_dumpJSConsoleLogInStdErr { false };
454     bool m_didCancelClientRedirect { false };
455 
<span class="line-modified">456     double m_databaseDefaultQuota;</span>
<span class="line-modified">457     double m_databaseMaxQuota;</span>



458 
459     std::string m_authenticationUsername;
460     std::string m_authenticationPassword;
461     std::string m_testURL;
462     std::string m_expectedPixelHash; // empty string if no hash
463     std::string m_titleTextDirection;
464 
465     std::set&lt;std::string&gt; m_willSendRequestClearHeaders;
466     std::set&lt;std::string&gt; m_allowedHosts;
467 
468     std::vector&lt;char&gt; m_audioResult;
469 
470     std::map&lt;std::string, std::string&gt; m_URLsToRedirect;
471 
472     struct UIScriptInvocationData {
473         unsigned callbackID;
474         String scriptString;
475     };
476 
477     std::unique_ptr&lt;WTR::UIScriptContext&gt; m_UIScriptContext;
478     UIScriptInvocationData* m_pendingUIScriptInvocationData { nullptr };
479 
480     std::vector&lt;std::string&gt; m_openPanelFiles;



481 
482     static JSClassRef getJSClass();
483     static JSStaticValue* staticValues();
484     static JSStaticFunction* staticFunctions();
<span class="line-removed">485 </span>
<span class="line-removed">486     int m_timeout;</span>
487 };
</pre>
</td>
<td>
<hr />
<pre>
 89     void queueLoad(JSStringRef url, JSStringRef target);
 90     void queueLoadHTMLString(JSStringRef content, JSStringRef baseURL);
 91     void queueLoadAlternateHTMLString(JSStringRef content, JSStringRef baseURL, JSStringRef unreachableURL);
 92     void queueLoadingScript(JSStringRef script);
 93     void queueNonLoadingScript(JSStringRef script);
 94     void queueReload();
 95     void removeAllVisitedLinks();
 96     void setAcceptsEditing(bool);
 97     void setFetchAPIEnabled(bool);
 98     void setAllowUniversalAccessFromFileURLs(bool);
 99     void setAllowFileAccessFromFileURLs(bool);
100     void setNeedsStorageAccessFromFileURLsQuirk(bool);
101     void setAppCacheMaximumSize(unsigned long long quota);
102     void setAuthorAndUserStylesEnabled(bool);
103     void setCacheModel(int);
104     void setCustomPolicyDelegate(bool setDelegate, bool permissive);
105     void setDatabaseQuota(unsigned long long quota);
106     void setDomainRelaxationForbiddenForURLScheme(bool forbidden, JSStringRef scheme);
107     void setDefersLoading(bool);
108     void setIconDatabaseEnabled(bool);

109     void setJavaScriptCanAccessClipboard(bool flag);
110     void setAutomaticLinkDetectionEnabled(bool flag);
111     void setMainFrameIsFirstResponder(bool flag);
112     void setMockDeviceOrientation(bool canProvideAlpha, double alpha, bool canProvideBeta, double beta, bool canProvideGamma, double gamma);
113     void setMockGeolocationPosition(double latitude, double longitude, double accuracy, bool providesAltitude, double altitude, bool providesAltitudeAccuracy, double altitudeAccuracy, bool providesHeading, double heading, bool providesSpeed, double speed, bool providesFloorLevel, double floorLevel);
114     void setMockGeolocationPositionUnavailableError(JSStringRef message);
115     void setPersistentUserStyleSheetLocation(JSStringRef path);
116     void setPluginsEnabled(bool);
117     void setPopupBlockingEnabled(bool);
118     void setPrivateBrowsingEnabled(bool);
119     void setTabKeyCyclesThroughElements(bool);

120     void setUserStyleSheetEnabled(bool flag);
121     void setUserStyleSheetLocation(JSStringRef path);
122     void setValueForUser(JSContextRef, JSValueRef nodeObject, JSStringRef value);
123     void setXSSAuditorEnabled(bool flag);
124     void setSpatialNavigationEnabled(bool);
125     void setScrollbarPolicy(JSStringRef orientation, JSStringRef policy);
126 #if PLATFORM(IOS_FAMILY)
127     void setTelephoneNumberParsingEnabled(bool enable);
128     void setPagePaused(bool paused);
129 #endif
130 
131     void setPageVisibility(const char*);
132     void resetPageVisibility();
133 
134     static void setAllowsAnySSLCertificate(bool);
135 
136     void waitForPolicyDelegate();
137     size_t webHistoryItemCount();
138     int windowCount();
139 
140 #if ENABLE(TEXT_AUTOSIZING)
141     void setTextAutosizingEnabled(bool);
142 #endif
143 
144     void setAccummulateLogsForChannel(JSStringRef);
145 
146     void runUIScript(JSContextRef, JSStringRef, JSValueRef callback);
147 
148     // Legacy here refers to the old TestRunner API for handling web notifications, not the legacy web notification API.
149     void ignoreLegacyWebNotificationPermissionRequests();
150     // Legacy here refers to the old TestRunner API for handling web notifications, not the legacy web notification API.
151     void simulateLegacyWebNotificationClick(JSStringRef title);
152     void grantWebNotificationPermission(JSStringRef origin);
153     void denyWebNotificationPermission(JSStringRef origin);
154     void removeAllWebNotificationPermissions();
155     void simulateWebNotificationClick(JSValueRef notification);
156 
<span class="line-added">157     void setRenderTreeDumpOptions(unsigned);</span>
<span class="line-added">158     unsigned renderTreeDumpOptions() const { return m_renderTreeDumpOptions; }</span>
<span class="line-added">159 </span>
160     bool dumpAsAudio() const { return m_dumpAsAudio; }
161     void setDumpAsAudio(bool dumpAsAudio) { m_dumpAsAudio = dumpAsAudio; }
162 
163     bool dumpAsPDF() const { return m_dumpAsPDF; }
164     void setDumpAsPDF(bool dumpAsPDF) { m_dumpAsPDF = dumpAsPDF; }
165 
166     bool dumpAsText() const { return m_dumpAsText; }
167     void setDumpAsText(bool dumpAsText) { m_dumpAsText = dumpAsText; }
168 
169     bool generatePixelResults() const { return m_generatePixelResults; }
170     void setGeneratePixelResults(bool generatePixelResults) { m_generatePixelResults = generatePixelResults; }
171 
172     bool disallowIncreaseForApplicationCacheQuota() const { return m_disallowIncreaseForApplicationCacheQuota; }
173     void setDisallowIncreaseForApplicationCacheQuota(bool disallowIncrease) { m_disallowIncreaseForApplicationCacheQuota = disallowIncrease; }
174 
175     bool dumpApplicationCacheDelegateCallbacks() const { return m_dumpApplicationCacheDelegateCallbacks; }
176     void setDumpApplicationCacheDelegateCallbacks(bool dumpCallbacks) { m_dumpApplicationCacheDelegateCallbacks = dumpCallbacks; }
177 
178     bool dumpBackForwardList() const { return m_dumpBackForwardList; }
179     void setDumpBackForwardList(bool dumpBackForwardList) { m_dumpBackForwardList = dumpBackForwardList; }
</pre>
<hr />
<pre>
367     void closeIdleLocalStorageDatabases();
368 
369     bool hasPendingWebNotificationClick() const { return m_hasPendingWebNotificationClick; }
370 
371     void setCustomTimeout(int duration) { m_timeout = duration; }
372     double timeout() { return m_timeout; }
373 
374     unsigned imageCountInGeneralPasteboard() const;
375 
376     void callUIScriptCallback(unsigned callbackID, JSStringRef result);
377 
378     void setDumpJSConsoleLogInStdErr(bool inStdErr) { m_dumpJSConsoleLogInStdErr = inStdErr; }
379     bool dumpJSConsoleLogInStdErr() const { return m_dumpJSConsoleLogInStdErr; }
380 
381     void setSpellCheckerLoggingEnabled(bool);
382     void setSpellCheckerResults(JSContextRef, JSObjectRef results);
383 
384     const std::vector&lt;std::string&gt;&amp; openPanelFiles() const { return m_openPanelFiles; }
385     void setOpenPanelFiles(JSContextRef, JSValueRef);
386 
<span class="line-added">387 #if PLATFORM(IOS_FAMILY)</span>
<span class="line-added">388     const std::vector&lt;char&gt;&amp; openPanelFilesMediaIcon() const { return m_openPanelFilesMediaIcon; }</span>
<span class="line-added">389     void setOpenPanelFilesMediaIcon(JSContextRef, JSValueRef);</span>
<span class="line-added">390 #endif</span>
<span class="line-added">391 </span>
392     bool didCancelClientRedirect() const { return m_didCancelClientRedirect; }
393     void setDidCancelClientRedirect(bool value) { m_didCancelClientRedirect = value; }
394 
395 private:
396     TestRunner(const std::string&amp; testURL, const std::string&amp; expectedPixelHash);
397 
398     JSContextRef mainFrameJSContext();
399 
400     // UIScriptContextDelegate
401     void uiScriptDidComplete(const String&amp;, unsigned callbackID) override;
402 
403     void cacheTestRunnerCallback(unsigned index, JSValueRef);
404     void callTestRunnerCallback(unsigned index, size_t argumentCount = 0, const JSValueRef arguments[] = nullptr);
405     void clearTestRunnerCallbacks();
406 
407     void setGeolocationPermissionCommon(bool allow);
408 
<span class="line-modified">409     bool m_disallowIncreaseForApplicationCacheQuota { false };</span>
<span class="line-modified">410     bool m_dumpApplicationCacheDelegateCallbacks { false };</span>
<span class="line-modified">411     bool m_dumpAsAudio { false };</span>
<span class="line-modified">412     bool m_dumpAsPDF { false };</span>
<span class="line-modified">413     bool m_dumpAsText { false };</span>
<span class="line-modified">414     bool m_dumpBackForwardList { false };</span>
<span class="line-modified">415     bool m_dumpChildFrameScrollPositions { false };</span>
<span class="line-modified">416     bool m_dumpChildFramesAsText { false };</span>
<span class="line-modified">417     bool m_dumpDOMAsWebArchive { false };</span>
<span class="line-modified">418     bool m_dumpDatabaseCallbacks { false };</span>
<span class="line-modified">419     bool m_dumpEditingCallbacks { false };</span>
<span class="line-modified">420     bool m_dumpFrameLoadCallbacks { false };</span>
<span class="line-modified">421     bool m_dumpProgressFinishedCallback { false };</span>
<span class="line-modified">422     bool m_dumpUserGestureInFrameLoadCallbacks { false };</span>
<span class="line-modified">423     bool m_dumpHistoryDelegateCallbacks { false };</span>
<span class="line-modified">424     bool m_dumpResourceLoadCallbacks { false };</span>
<span class="line-modified">425     bool m_dumpResourceResponseMIMETypes { false };</span>
<span class="line-modified">426     bool m_dumpSelectionRect { false };</span>
<span class="line-modified">427     bool m_dumpSourceAsWebArchive { false };</span>
<span class="line-modified">428     bool m_dumpStatusCallbacks { false };</span>
<span class="line-modified">429     bool m_dumpTitleChanges { false };</span>
<span class="line-modified">430     bool m_dumpVisitedLinksCallback { false };</span>
<span class="line-modified">431     bool m_dumpWillCacheResponse { false };</span>
<span class="line-modified">432     bool m_generatePixelResults { true };</span>
<span class="line-modified">433     bool m_callCloseOnWebViews { true };</span>
<span class="line-modified">434     bool m_canOpenWindows { false };</span>
<span class="line-modified">435     bool m_closeRemainingWindowsWhenComplete { true };</span>
<span class="line-modified">436     bool m_newWindowsCopyBackForwardList { false };</span>
<span class="line-modified">437     bool m_stopProvisionalFrameLoads { false };</span>
<span class="line-modified">438     bool m_testOnscreen { false };</span>
<span class="line-modified">439     bool m_testRepaint { false };</span>
<span class="line-modified">440     bool m_testRepaintSweepHorizontally { false };</span>
<span class="line-modified">441     bool m_waitToDump  { false }; // True if waitUntilDone() has been called, but notifyDone() has not yet been called.</span>
<span class="line-modified">442     bool m_willSendRequestReturnsNull { false };</span>
<span class="line-modified">443     bool m_willSendRequestReturnsNullOnRedirect { false };</span>
<span class="line-modified">444     bool m_windowIsKey { true };</span>
<span class="line-modified">445     bool m_alwaysAcceptCookies { false };</span>
<span class="line-modified">446     bool m_globalFlag { false };</span>
<span class="line-modified">447     bool m_isGeolocationPermissionSet { false };</span>
<span class="line-modified">448     bool m_geolocationPermission { false };</span>
<span class="line-modified">449     bool m_rejectsProtectionSpaceAndContinueForAuthenticationChallenges { false };</span>
<span class="line-modified">450     bool m_handlesAuthenticationChallenges { false };</span>
<span class="line-modified">451     bool m_isPrinting { false };</span>
<span class="line-modified">452     bool m_useDeferredFrameLoading { false };</span>
<span class="line-modified">453     bool m_shouldPaintBrokenImage { true };</span>
<span class="line-modified">454     bool m_shouldStayOnPageAfterHandlingBeforeUnload { false };</span>
455     // FIXME 81697: This variable most likely will be removed once we have migrated the tests from fast/notifications to http/tests/notifications.
<span class="line-modified">456     bool m_areLegacyWebNotificationPermissionRequestsIgnored { false };</span>
<span class="line-modified">457     bool m_customFullScreenBehavior { false };</span>
<span class="line-modified">458     bool m_hasPendingWebNotificationClick { false };</span>
459     bool m_dumpJSConsoleLogInStdErr { false };
460     bool m_didCancelClientRedirect { false };
461 
<span class="line-modified">462     double m_databaseDefaultQuota { -1 };</span>
<span class="line-modified">463     double m_databaseMaxQuota { -1 };</span>
<span class="line-added">464 </span>
<span class="line-added">465     int m_timeout { 0 };</span>
<span class="line-added">466     unsigned m_renderTreeDumpOptions { 0 };</span>
467 
468     std::string m_authenticationUsername;
469     std::string m_authenticationPassword;
470     std::string m_testURL;
471     std::string m_expectedPixelHash; // empty string if no hash
472     std::string m_titleTextDirection;
473 
474     std::set&lt;std::string&gt; m_willSendRequestClearHeaders;
475     std::set&lt;std::string&gt; m_allowedHosts;
476 
477     std::vector&lt;char&gt; m_audioResult;
478 
479     std::map&lt;std::string, std::string&gt; m_URLsToRedirect;
480 
481     struct UIScriptInvocationData {
482         unsigned callbackID;
483         String scriptString;
484     };
485 
486     std::unique_ptr&lt;WTR::UIScriptContext&gt; m_UIScriptContext;
487     UIScriptInvocationData* m_pendingUIScriptInvocationData { nullptr };
488 
489     std::vector&lt;std::string&gt; m_openPanelFiles;
<span class="line-added">490 #if PLATFORM(IOS_FAMILY)</span>
<span class="line-added">491     std::vector&lt;char&gt; m_openPanelFilesMediaIcon;</span>
<span class="line-added">492 #endif</span>
493 
494     static JSClassRef getJSClass();
495     static JSStaticValue* staticValues();
496     static JSStaticFunction* staticFunctions();


497 };
</pre>
</td>
</tr>
</table>
<center><a href="TestRunner.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="java/DumpRenderTree.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>