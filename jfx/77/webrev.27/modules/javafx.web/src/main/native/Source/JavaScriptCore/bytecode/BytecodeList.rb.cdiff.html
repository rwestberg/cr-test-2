<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/bytecode/BytecodeList.rb</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="BytecodeIntrinsicRegistry.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="BytecodeRewriter.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/bytecode/BytecodeList.rb</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 48,10 ***</span>
<span class="line-new-header">--- 48,11 ---</span>
      :ResolveType,
      :Structure,
      :StructureID,
      :StructureChain,
      :SymbolTable,
<span class="line-added">+     :SymbolTableOrScopeDepth,</span>
      :ToThisStatus,
      :TypeLocation,
      :WatchpointSet,
  
      :ValueProfile,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 79,11 ***</span>
      emit_opcode_id_string_values_in_h_file: true,
      macro_name_component: :BYTECODE,
      asm_prefix: &quot;llint_&quot;,
      op_prefix: &quot;op_&quot;
  
<span class="line-modified">! op :wide</span>
  
  op :enter
  
  op :get_scope,
      args: {
<span class="line-new-header">--- 80,12 ---</span>
      emit_opcode_id_string_values_in_h_file: true,
      macro_name_component: :BYTECODE,
      asm_prefix: &quot;llint_&quot;,
      op_prefix: &quot;op_&quot;
  
<span class="line-modified">! op :wide16</span>
<span class="line-added">+ op :wide32</span>
  
  op :enter
  
  op :get_scope,
      args: {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 133,11 ***</span>
  op :to_this,
      args: {
          srcDst: VirtualRegister,
      },
      metadata: {
<span class="line-modified">!         cachedStructure: WriteBarrierBase[Structure],</span>
          toThisStatus: ToThisStatus,
          profile: ValueProfile,
      }
  
  op :check_tdz,
<span class="line-new-header">--- 135,11 ---</span>
  op :to_this,
      args: {
          srcDst: VirtualRegister,
      },
      metadata: {
<span class="line-modified">!         cachedStructureID: StructureID,</span>
          toThisStatus: ToThisStatus,
          profile: ValueProfile,
      }
  
  op :check_tdz,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 222,11 ***</span>
          :greatereq,
          :below,
          :beloweq,
          :mod,
          :pow,
<span class="line-removed">-         :lshift,</span>
          :rshift,
          :urshift,
      ],
      args: {
          dst: VirtualRegister,
<span class="line-new-header">--- 224,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 257,10 ***</span>
<span class="line-new-header">--- 258,11 ---</span>
  op_group :ValueProfiledBinaryOp,
      [
          :bitand,
          :bitor,
          :bitxor,
<span class="line-added">+         :lshift,</span>
      ],
      args: {
          dst: VirtualRegister,
          lhs: VirtualRegister,
          rhs: VirtualRegister,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 411,12 ***</span>
          dst: VirtualRegister,
          base: VirtualRegister,
          property: unsigned,
      },
      metadata: {
<span class="line-removed">-         mode: GetByIdMode,</span>
<span class="line-removed">-         hitCountForLLIntCaching: unsigned,</span>
          modeMetadata: GetByIdModeMetadata,
          profile: ValueProfile,
      }
  
  op :get_by_id_with_this,
<span class="line-new-header">--- 413,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 623,10 ***</span>
<span class="line-new-header">--- 623,22 ---</span>
      args: {
          value: VirtualRegister,
          targetLabel: BoundLabel,
      }
  
<span class="line-added">+ op :jundefined_or_null,</span>
<span class="line-added">+     args: {</span>
<span class="line-added">+         value: VirtualRegister,</span>
<span class="line-added">+         targetLabel: BoundLabel,</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+ op :jnundefined_or_null,</span>
<span class="line-added">+     args: {</span>
<span class="line-added">+         value: VirtualRegister,</span>
<span class="line-added">+         targetLabel: BoundLabel,</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
  op :jneq_ptr,
      args: {
          value: VirtualRegister,
          specialPointer: Special::Pointer,
          targetLabel: BoundLabel,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 703,11 ***</span>
          argc: unsigned,
          argv: unsigned,
      },
      metadata: {
          callLinkInfo: LLIntCallLinkInfo,
<span class="line-removed">-         arrayProfile: ArrayProfile,</span>
          profile: ValueProfile,
      }
  
  op :tail_call,
      args: {
<span class="line-new-header">--- 715,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 716,11 ***</span>
          argc: unsigned,
          argv: unsigned,
      },
      metadata: {
          callLinkInfo: LLIntCallLinkInfo,
<span class="line-removed">-         arrayProfile: ArrayProfile,</span>
          profile: ValueProfile,
      }
  
  op :call_eval,
      args: {
<span class="line-new-header">--- 727,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 729,11 ***</span>
          argc: unsigned,
          argv: unsigned,
      },
      metadata: {
          callLinkInfo: LLIntCallLinkInfo,
<span class="line-removed">-         arrayProfile: ArrayProfile,</span>
          profile: ValueProfile,
      }
  
  op :call_varargs,
      args: {
<span class="line-new-header">--- 739,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 784,11 ***</span>
          argc: unsigned,
          argv: unsigned,
      },
      metadata: {
          callLinkInfo: LLIntCallLinkInfo,
<span class="line-removed">-         arrayProfile: ArrayProfile,</span>
          profile: ValueProfile,
      }
  
  op :construct_varargs,
      args: {
<span class="line-new-header">--- 793,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 843,12 ***</span>
               symbolTable: WriteBarrierBase[SymbolTable], # lexicalEnvironment &amp;&amp; type != ModuleVar
  
               constantScope: WriteBarrierBase[JSScope],
  
               # written from the slow path
<span class="line-modified">!              globalLexicalEnvironment: JSGlobalLexicalEnvironment.*,</span>
<span class="line-modified">!              globalObject: JSGlobalObject.*,</span>
          },
      }
  
  op :get_from_scope,
      args: {
<span class="line-new-header">--- 851,12 ---</span>
               symbolTable: WriteBarrierBase[SymbolTable], # lexicalEnvironment &amp;&amp; type != ModuleVar
  
               constantScope: WriteBarrierBase[JSScope],
  
               # written from the slow path
<span class="line-modified">!              globalLexicalEnvironment: WriteBarrierBase[JSGlobalLexicalEnvironment],</span>
<span class="line-modified">!              globalObject: WriteBarrierBase[JSGlobalObject],</span>
          },
      }
  
  op :get_from_scope,
      args: {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 879,11 ***</span>
          scope: VirtualRegister, # offset 1
          var: unsigned, # offset 2
          value: VirtualRegister, # offset 3
          # $begin: :private,
          getPutInfo: GetPutInfo,
<span class="line-modified">!         symbolTableOrScopeDepth: int,</span>
          offset: unsigned,
      },
      metadata: {
          getPutInfo: GetPutInfo, # offset 4
          _: { # offset 5
<span class="line-new-header">--- 887,11 ---</span>
          scope: VirtualRegister, # offset 1
          var: unsigned, # offset 2
          value: VirtualRegister, # offset 3
          # $begin: :private,
          getPutInfo: GetPutInfo,
<span class="line-modified">!         symbolTableOrScopeDepth: SymbolTableOrScopeDepth,</span>
          offset: unsigned,
      },
      metadata: {
          getPutInfo: GetPutInfo, # offset 4
          _: { # offset 5
</pre>
<hr />
<pre>
<span class="line-old-header">*** 927,10 ***</span>
<span class="line-new-header">--- 935,18 ---</span>
          scope: VirtualRegister,
          symbolTable: VirtualRegister,
          initialValue: VirtualRegister,
      }
  
<span class="line-added">+ op :create_generator_frame_environment,</span>
<span class="line-added">+     args: {</span>
<span class="line-added">+         dst: VirtualRegister,</span>
<span class="line-added">+         scope: VirtualRegister,</span>
<span class="line-added">+         symbolTable: VirtualRegister,</span>
<span class="line-added">+         initialValue: VirtualRegister,</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
  op :get_parent_scope,
      args: {
          dst: VirtualRegister,
          scope: VirtualRegister,
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 967,11 ***</span>
      }
  
  op :profile_type,
      args: {
          targetVirtualRegister: VirtualRegister,
<span class="line-modified">!         symbolTableOrScopeDepth: int,</span>
          flag: ProfileTypeBytecodeFlag,
          identifier?: unsigned,
          resolveType: ResolveType,
      },
      metadata: {
<span class="line-new-header">--- 983,11 ---</span>
      }
  
  op :profile_type,
      args: {
          targetVirtualRegister: VirtualRegister,
<span class="line-modified">!         symbolTableOrScopeDepth: SymbolTableOrScopeDepth,</span>
          flag: ProfileTypeBytecodeFlag,
          identifier?: unsigned,
          resolveType: ResolveType,
      },
      metadata: {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1075,12 ***</span>
          generator: VirtualRegister,
          yieldPoint: unsigned,
          argument: VirtualRegister,
      }
  
<span class="line-removed">- op :check_traps</span>
<span class="line-removed">- </span>
  op :log_shadow_chicken_prologue,
      args: {
          scope: VirtualRegister,
      }
  
<span class="line-new-header">--- 1091,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1135,10 ***</span>
<span class="line-new-header">--- 1149,21 ---</span>
  op :llint_cloop_did_return_from_js_19
  op :llint_cloop_did_return_from_js_20
  op :llint_cloop_did_return_from_js_21
  op :llint_cloop_did_return_from_js_22
  op :llint_cloop_did_return_from_js_23
<span class="line-added">+ op :llint_cloop_did_return_from_js_24</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_25</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_26</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_27</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_28</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_29</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_30</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_31</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_32</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_33</span>
<span class="line-added">+ op :llint_cloop_did_return_from_js_34</span>
  
  end_section :CLoopHelpers
  
  begin_section :NativeHelpers,
      emit_in_h_file: true,
</pre>
<center><a href="BytecodeIntrinsicRegistry.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="BytecodeRewriter.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>