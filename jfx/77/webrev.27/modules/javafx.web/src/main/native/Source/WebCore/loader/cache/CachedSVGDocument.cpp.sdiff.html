<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/loader/cache/CachedSVGDocument.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CachedResourceRequestInitiators.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="CachedSVGDocumentReference.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/loader/cache/CachedSVGDocument.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
32     , m_decoder(TextResourceDecoder::create(&quot;application/xml&quot;))
33 {
34 }
35 
36 CachedSVGDocument::~CachedSVGDocument() = default;
37 
38 void CachedSVGDocument::setEncoding(const String&amp; chs)
39 {
40     m_decoder-&gt;setEncoding(chs, TextResourceDecoder::EncodingFromHTTPHeader);
41 }
42 
43 String CachedSVGDocument::encoding() const
44 {
45     return m_decoder-&gt;encoding().name();
46 }
47 
48 void CachedSVGDocument::finishLoading(SharedBuffer* data)
49 {
50     if (data) {
51         // We don&#39;t need to create a new frame because the new document belongs to the parent UseElement.
<span class="line-modified">52         m_document = SVGDocument::create(nullptr, response().url());</span>
53         m_document-&gt;setContent(m_decoder-&gt;decodeAndFlush(data-&gt;data(), data-&gt;size()));
54     }
55     CachedResource::finishLoading(data);
56 }
57 
58 }
</pre>
</td>
<td>
<hr />
<pre>
32     , m_decoder(TextResourceDecoder::create(&quot;application/xml&quot;))
33 {
34 }
35 
36 CachedSVGDocument::~CachedSVGDocument() = default;
37 
38 void CachedSVGDocument::setEncoding(const String&amp; chs)
39 {
40     m_decoder-&gt;setEncoding(chs, TextResourceDecoder::EncodingFromHTTPHeader);
41 }
42 
43 String CachedSVGDocument::encoding() const
44 {
45     return m_decoder-&gt;encoding().name();
46 }
47 
48 void CachedSVGDocument::finishLoading(SharedBuffer* data)
49 {
50     if (data) {
51         // We don&#39;t need to create a new frame because the new document belongs to the parent UseElement.
<span class="line-modified">52         m_document = SVGDocument::create(sessionID(), nullptr, response().url());</span>
53         m_document-&gt;setContent(m_decoder-&gt;decodeAndFlush(data-&gt;data(), data-&gt;size()));
54     }
55     CachedResource::finishLoading(data);
56 }
57 
58 }
</pre>
</td>
</tr>
</table>
<center><a href="CachedResourceRequestInitiators.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="CachedSVGDocumentReference.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>