<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/Modules/indexeddb/IDBKey.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="IDBIndex.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="IDBKeyData.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/Modules/indexeddb/IDBKey.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 68     {
 69         Vector&lt;RefPtr&lt;IDBKey&gt;&gt; result;
 70 
 71         size_t sizeEstimate = 0;
 72         for (auto&amp; key : array) {
 73             if (!key-&gt;isValid())
 74                 continue;
 75 
 76             bool skip = false;
 77             for (auto&amp; resultKey : result) {
 78                 if (key-&gt;isEqual(*resultKey)) {
 79                     skip = true;
 80                     break;
 81                 }
 82             }
 83             if (!skip) {
 84                 result.append(key);
 85                 sizeEstimate += key-&gt;m_sizeEstimate;
 86             }
 87         }
<span class="line-modified"> 88         Ref&lt;IDBKey&gt; idbKey = adoptRef(*new IDBKey(result, sizeEstimate));</span>
 89         ASSERT(idbKey-&gt;isValid());
 90         return idbKey;
 91     }
 92 
 93     static Ref&lt;IDBKey&gt; createArray(const Vector&lt;RefPtr&lt;IDBKey&gt;&gt;&amp; array)
 94     {
 95         size_t sizeEstimate = 0;
 96         for (auto&amp; key : array)
 97             sizeEstimate += key-&gt;m_sizeEstimate;
 98 
 99         return adoptRef(*new IDBKey(array, sizeEstimate));
100     }
101 
102     static Ref&lt;IDBKey&gt; createBinary(const ThreadSafeDataBuffer&amp;);
103     static Ref&lt;IDBKey&gt; createBinary(JSC::JSArrayBuffer&amp;);
104     static Ref&lt;IDBKey&gt; createBinary(JSC::JSArrayBufferView&amp;);
105 
106     WEBCORE_EXPORT ~IDBKey();
107 
108     IndexedDB::KeyType type() const { return m_type; }
</pre>
</td>
<td>
<hr />
<pre>
 68     {
 69         Vector&lt;RefPtr&lt;IDBKey&gt;&gt; result;
 70 
 71         size_t sizeEstimate = 0;
 72         for (auto&amp; key : array) {
 73             if (!key-&gt;isValid())
 74                 continue;
 75 
 76             bool skip = false;
 77             for (auto&amp; resultKey : result) {
 78                 if (key-&gt;isEqual(*resultKey)) {
 79                     skip = true;
 80                     break;
 81                 }
 82             }
 83             if (!skip) {
 84                 result.append(key);
 85                 sizeEstimate += key-&gt;m_sizeEstimate;
 86             }
 87         }
<span class="line-modified"> 88         auto idbKey = adoptRef(*new IDBKey(result, sizeEstimate));</span>
 89         ASSERT(idbKey-&gt;isValid());
 90         return idbKey;
 91     }
 92 
 93     static Ref&lt;IDBKey&gt; createArray(const Vector&lt;RefPtr&lt;IDBKey&gt;&gt;&amp; array)
 94     {
 95         size_t sizeEstimate = 0;
 96         for (auto&amp; key : array)
 97             sizeEstimate += key-&gt;m_sizeEstimate;
 98 
 99         return adoptRef(*new IDBKey(array, sizeEstimate));
100     }
101 
102     static Ref&lt;IDBKey&gt; createBinary(const ThreadSafeDataBuffer&amp;);
103     static Ref&lt;IDBKey&gt; createBinary(JSC::JSArrayBuffer&amp;);
104     static Ref&lt;IDBKey&gt; createBinary(JSC::JSArrayBufferView&amp;);
105 
106     WEBCORE_EXPORT ~IDBKey();
107 
108     IndexedDB::KeyType type() const { return m_type; }
</pre>
</td>
</tr>
</table>
<center><a href="IDBIndex.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="IDBKeyData.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>