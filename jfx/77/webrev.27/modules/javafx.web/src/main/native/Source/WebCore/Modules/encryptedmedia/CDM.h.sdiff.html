<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/Modules/encryptedmedia/CDM.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CDM.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="InitDataRegistry.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/Modules/encryptedmedia/CDM.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 49 class ScriptExecutionContext;
 50 class SharedBuffer;
 51 
 52 class CDM : public RefCounted&lt;CDM&gt;, public CanMakeWeakPtr&lt;CDM&gt;, private ContextDestructionObserver {
 53 public:
 54     static bool supportsKeySystem(const String&amp;);
 55     static bool isPersistentType(MediaKeySessionType);
 56 
 57     static Ref&lt;CDM&gt; create(Document&amp;, const String&amp; keySystem);
 58     ~CDM();
 59 
 60     using SupportedConfigurationCallback = WTF::Function&lt;void(Optional&lt;MediaKeySystemConfiguration&gt;)&gt;;
 61     void getSupportedConfiguration(MediaKeySystemConfiguration&amp;&amp; candidateConfiguration, SupportedConfigurationCallback&amp;&amp;);
 62 
 63     const String&amp; keySystem() const { return m_keySystem; }
 64 
 65     void loadAndInitialize();
 66     RefPtr&lt;CDMInstance&gt; createInstance();
 67     bool supportsServerCertificates() const;
 68     bool supportsSessions() const;
<span class="line-modified"> 69     bool supportsInitDataType(const AtomicString&amp;) const;</span>
 70 
<span class="line-modified"> 71     RefPtr&lt;SharedBuffer&gt; sanitizeInitData(const AtomicString&amp; initDataType, const SharedBuffer&amp;);</span>
<span class="line-modified"> 72     bool supportsInitData(const AtomicString&amp; initDataType, const SharedBuffer&amp;);</span>
 73 
 74     RefPtr&lt;SharedBuffer&gt; sanitizeResponse(const SharedBuffer&amp;);
 75 
 76     Optional&lt;String&gt; sanitizeSessionId(const String&amp; sessionId);
 77 
 78     String storageDirectory() const;
 79 
 80 private:
 81     CDM(Document&amp;, const String&amp; keySystem);
 82 
 83     enum class ConfigurationStatus {
 84         Supported,
 85         NotSupported,
 86         ConsentDenied,
 87     };
 88 
 89     enum class ConsentStatus {
 90         ConsentDenied,
 91         InformUser,
 92         Allowed,
</pre>
</td>
<td>
<hr />
<pre>
 49 class ScriptExecutionContext;
 50 class SharedBuffer;
 51 
 52 class CDM : public RefCounted&lt;CDM&gt;, public CanMakeWeakPtr&lt;CDM&gt;, private ContextDestructionObserver {
 53 public:
 54     static bool supportsKeySystem(const String&amp;);
 55     static bool isPersistentType(MediaKeySessionType);
 56 
 57     static Ref&lt;CDM&gt; create(Document&amp;, const String&amp; keySystem);
 58     ~CDM();
 59 
 60     using SupportedConfigurationCallback = WTF::Function&lt;void(Optional&lt;MediaKeySystemConfiguration&gt;)&gt;;
 61     void getSupportedConfiguration(MediaKeySystemConfiguration&amp;&amp; candidateConfiguration, SupportedConfigurationCallback&amp;&amp;);
 62 
 63     const String&amp; keySystem() const { return m_keySystem; }
 64 
 65     void loadAndInitialize();
 66     RefPtr&lt;CDMInstance&gt; createInstance();
 67     bool supportsServerCertificates() const;
 68     bool supportsSessions() const;
<span class="line-modified"> 69     bool supportsInitDataType(const AtomString&amp;) const;</span>
 70 
<span class="line-modified"> 71     RefPtr&lt;SharedBuffer&gt; sanitizeInitData(const AtomString&amp; initDataType, const SharedBuffer&amp;);</span>
<span class="line-modified"> 72     bool supportsInitData(const AtomString&amp; initDataType, const SharedBuffer&amp;);</span>
 73 
 74     RefPtr&lt;SharedBuffer&gt; sanitizeResponse(const SharedBuffer&amp;);
 75 
 76     Optional&lt;String&gt; sanitizeSessionId(const String&amp; sessionId);
 77 
 78     String storageDirectory() const;
 79 
 80 private:
 81     CDM(Document&amp;, const String&amp; keySystem);
 82 
 83     enum class ConfigurationStatus {
 84         Supported,
 85         NotSupported,
 86         ConsentDenied,
 87     };
 88 
 89     enum class ConsentStatus {
 90         ConsentDenied,
 91         InformUser,
 92         Allowed,
</pre>
</td>
</tr>
</table>
<center><a href="CDM.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="InitDataRegistry.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>