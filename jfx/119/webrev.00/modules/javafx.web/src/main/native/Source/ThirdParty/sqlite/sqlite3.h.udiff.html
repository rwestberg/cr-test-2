<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/ThirdParty/sqlite/sqlite3.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="sqlite3.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="sqlite3ext.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/sqlite/sqlite3.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -121,13 +121,13 @@</span>
  **
  ** See also: [sqlite3_libversion()],
  ** [sqlite3_libversion_number()], [sqlite3_sourceid()],
  ** [sqlite_version()] and [sqlite_source_id()].
  */
<span class="udiff-line-modified-removed">- #define SQLITE_VERSION        &quot;3.30.1&quot;</span>
<span class="udiff-line-modified-removed">- #define SQLITE_VERSION_NUMBER 3030001</span>
<span class="udiff-line-modified-removed">- #define SQLITE_SOURCE_ID      &quot;2019-10-10 20:19:45 18db032d058f1436ce3dea84081f4ee5a0f2259ad97301d43c426bc7f3df1b0b&quot;</span>
<span class="udiff-line-modified-added">+ #define SQLITE_VERSION        &quot;3.31.1&quot;</span>
<span class="udiff-line-modified-added">+ #define SQLITE_VERSION_NUMBER 3031001</span>
<span class="udiff-line-modified-added">+ #define SQLITE_SOURCE_ID      &quot;2020-01-27 19:55:54 3bfa9cc97da10598521b342961df8f5f68c7388fa117345eeb516eaa837bb4d6&quot;</span>
  
  /*
  ** CAPI3REF: Run-Time Library Version Numbers
  ** KEYWORDS: sqlite3_version sqlite3_sourceid
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -514,10 +514,11 @@</span>
  #define SQLITE_CANTOPEN_NOTEMPDIR      (SQLITE_CANTOPEN | (1&lt;&lt;8))
  #define SQLITE_CANTOPEN_ISDIR          (SQLITE_CANTOPEN | (2&lt;&lt;8))
  #define SQLITE_CANTOPEN_FULLPATH       (SQLITE_CANTOPEN | (3&lt;&lt;8))
  #define SQLITE_CANTOPEN_CONVPATH       (SQLITE_CANTOPEN | (4&lt;&lt;8))
  #define SQLITE_CANTOPEN_DIRTYWAL       (SQLITE_CANTOPEN | (5&lt;&lt;8)) /* Not Used */
<span class="udiff-line-added">+ #define SQLITE_CANTOPEN_SYMLINK        (SQLITE_CANTOPEN | (6&lt;&lt;8))</span>
  #define SQLITE_CORRUPT_VTAB            (SQLITE_CORRUPT | (1&lt;&lt;8))
  #define SQLITE_CORRUPT_SEQUENCE        (SQLITE_CORRUPT | (2&lt;&lt;8))
  #define SQLITE_READONLY_RECOVERY       (SQLITE_READONLY | (1&lt;&lt;8))
  #define SQLITE_READONLY_CANTLOCK       (SQLITE_READONLY | (2&lt;&lt;8))
  #define SQLITE_READONLY_ROLLBACK       (SQLITE_READONLY | (3&lt;&lt;8))
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -533,15 +534,17 @@</span>
  #define SQLITE_CONSTRAINT_PRIMARYKEY   (SQLITE_CONSTRAINT | (6&lt;&lt;8))
  #define SQLITE_CONSTRAINT_TRIGGER      (SQLITE_CONSTRAINT | (7&lt;&lt;8))
  #define SQLITE_CONSTRAINT_UNIQUE       (SQLITE_CONSTRAINT | (8&lt;&lt;8))
  #define SQLITE_CONSTRAINT_VTAB         (SQLITE_CONSTRAINT | (9&lt;&lt;8))
  #define SQLITE_CONSTRAINT_ROWID        (SQLITE_CONSTRAINT |(10&lt;&lt;8))
<span class="udiff-line-added">+ #define SQLITE_CONSTRAINT_PINNED       (SQLITE_CONSTRAINT |(11&lt;&lt;8))</span>
  #define SQLITE_NOTICE_RECOVER_WAL      (SQLITE_NOTICE | (1&lt;&lt;8))
  #define SQLITE_NOTICE_RECOVER_ROLLBACK (SQLITE_NOTICE | (2&lt;&lt;8))
  #define SQLITE_WARNING_AUTOINDEX       (SQLITE_WARNING | (1&lt;&lt;8))
  #define SQLITE_AUTH_USER               (SQLITE_AUTH | (1&lt;&lt;8))
  #define SQLITE_OK_LOAD_PERMANENTLY     (SQLITE_OK | (1&lt;&lt;8))
<span class="udiff-line-added">+ #define SQLITE_OK_SYMLINK              (SQLITE_OK | (2&lt;&lt;8))</span>
  
  /*
  ** CAPI3REF: Flags For File Open Operations
  **
  ** These bit values are intended for use in the
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -566,10 +569,11 @@</span>
  #define SQLITE_OPEN_NOMUTEX          0x00008000  /* Ok for sqlite3_open_v2() */
  #define SQLITE_OPEN_FULLMUTEX        0x00010000  /* Ok for sqlite3_open_v2() */
  #define SQLITE_OPEN_SHAREDCACHE      0x00020000  /* Ok for sqlite3_open_v2() */
  #define SQLITE_OPEN_PRIVATECACHE     0x00040000  /* Ok for sqlite3_open_v2() */
  #define SQLITE_OPEN_WAL              0x00080000  /* VFS only */
<span class="udiff-line-added">+ #define SQLITE_OPEN_NOFOLLOW         0x01000000  /* Ok for sqlite3_open_v2() */</span>
  
  /* Reserved:                         0x00F00000 */
  
  /*
  ** CAPI3REF: Device Characteristics
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -977,20 +981,20 @@</span>
  **
  ** &lt;li&gt;[[SQLITE_FCNTL_BUSYHANDLER]]
  ** ^The [SQLITE_FCNTL_BUSYHANDLER]
  ** file-control may be invoked by SQLite on the database file handle
  ** shortly after it is opened in order to provide a custom VFS with access
<span class="udiff-line-modified-removed">- ** to the connections busy-handler callback. The argument is of type (void **)</span>
<span class="udiff-line-modified-added">+ ** to the connection&#39;s busy-handler callback. The argument is of type (void**)</span>
  ** - an array of two (void *) values. The first (void *) actually points
<span class="udiff-line-modified-removed">- ** to a function of type (int (*)(void *)). In order to invoke the connections</span>
<span class="udiff-line-modified-added">+ ** to a function of type (int (*)(void *)). In order to invoke the connection&#39;s</span>
  ** busy-handler, this function should be invoked with the second (void *) in
  ** the array as the only argument. If it returns non-zero, then the operation
  ** should be retried. If it returns zero, the custom VFS should abandon the
  ** current operation.
  **
  ** &lt;li&gt;[[SQLITE_FCNTL_TEMPFILENAME]]
<span class="udiff-line-modified-removed">- ** ^Application can invoke the [SQLITE_FCNTL_TEMPFILENAME] file-control</span>
<span class="udiff-line-modified-added">+ ** ^Applications can invoke the [SQLITE_FCNTL_TEMPFILENAME] file-control</span>
  ** to have SQLite generate a
  ** temporary filename using the same algorithm that is followed to generate
  ** temporary filenames for TEMP tables and other internal uses.  The
  ** argument should be a char** which will be filled with the filename
  ** written into memory obtained from [sqlite3_malloc()].  The caller should
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1099,16 +1103,22 @@</span>
  ** interface can be used to find if any database on the connection has changed,
  ** but that interface responds to changes on TEMP as well as MAIN and does
  ** not provide a mechanism to detect changes to MAIN only.  Also, the
  ** [sqlite3_total_changes()] interface responds to internal changes only and
  ** omits changes made by other database connections.  The
<span class="udiff-line-modified-removed">- ** [PRAGMA data_version] command provide a mechanism to detect changes to</span>
<span class="udiff-line-modified-added">+ ** [PRAGMA data_version] command provides a mechanism to detect changes to</span>
  ** a single attached database that occur due to other database connections,
  ** but omits changes implemented by the database connection on which it is
  ** called.  This file control is the only mechanism to detect changes that
  ** happen either internally or externally and that are associated with
  ** a particular attached database.
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** &lt;li&gt;[[SQLITE_FCNTL_CKPT_DONE]]</span>
<span class="udiff-line-added">+ ** The [SQLITE_FCNTL_CKPT_DONE] opcode is invoked from within a checkpoint</span>
<span class="udiff-line-added">+ ** in wal mode after the client has finished copying pages from the wal</span>
<span class="udiff-line-added">+ ** file to the database file, but before the *-shm file is updated to</span>
<span class="udiff-line-added">+ ** record the fact that the pages have been checkpointed.</span>
  ** &lt;/ul&gt;
  */
  #define SQLITE_FCNTL_LOCKSTATE               1
  #define SQLITE_FCNTL_GET_LOCKPROXYFILE       2
  #define SQLITE_FCNTL_SET_LOCKPROXYFILE       3
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1142,10 +1152,11 @@</span>
  #define SQLITE_FCNTL_COMMIT_ATOMIC_WRITE    32
  #define SQLITE_FCNTL_ROLLBACK_ATOMIC_WRITE  33
  #define SQLITE_FCNTL_LOCK_TIMEOUT           34
  #define SQLITE_FCNTL_DATA_VERSION           35
  #define SQLITE_FCNTL_SIZE_LIMIT             36
<span class="udiff-line-added">+ #define SQLITE_FCNTL_CKPT_DONE              37</span>
  
  /* deprecated names */
  #define SQLITE_GET_LOCKPROXYFILE      SQLITE_FCNTL_GET_LOCKPROXYFILE
  #define SQLITE_SET_LOCKPROXYFILE      SQLITE_FCNTL_SET_LOCKPROXYFILE
  #define SQLITE_LAST_ERRNO             SQLITE_FCNTL_LAST_ERRNO
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1187,14 +1198,14 @@</span>
  ** SQLite [version 3.5.0] on [dateof:3.5.0], then increased to 2
  ** with SQLite [version 3.7.0] on [dateof:3.7.0], and then increased
  ** to 3 with SQLite [version 3.7.6] on [dateof:3.7.6].  Additional fields
  ** may be appended to the sqlite3_vfs object and the iVersion value
  ** may increase again in future versions of SQLite.
<span class="udiff-line-modified-removed">- ** Note that the structure</span>
<span class="udiff-line-modified-removed">- ** of the sqlite3_vfs object changes in the transition from</span>
<span class="udiff-line-modified-added">+ ** Note that due to an oversight, the structure</span>
<span class="udiff-line-modified-added">+ ** of the sqlite3_vfs object changed in the transition from</span>
  ** SQLite [version 3.5.9] to [version 3.6.0] on [dateof:3.6.0]
<span class="udiff-line-modified-removed">- ** and yet the iVersion field was not modified.</span>
<span class="udiff-line-modified-added">+ ** and yet the iVersion field was not increased.</span>
  **
  ** The szOsFile field is the size of the subclassed [sqlite3_file]
  ** structure used by this VFS.  mxPathname is the maximum length of
  ** a pathname in this VFS.
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1281,11 +1292,11 @@</span>
  ** be created, and that it is an error if it already exists.
  ** It is &lt;i&gt;not&lt;/i&gt; used to indicate the file should be opened
  ** for exclusive access.
  **
  ** ^At least szOsFile bytes of memory are allocated by SQLite
<span class="udiff-line-modified-removed">- ** to hold the  [sqlite3_file] structure passed as the third</span>
<span class="udiff-line-modified-added">+ ** to hold the [sqlite3_file] structure passed as the third</span>
  ** argument to xOpen.  The xOpen method does not have to
  ** allocate the structure; it should just fill it in.  Note that
  ** the xOpen method must set the sqlite3_file.pMethods to either
  ** a valid [sqlite3_io_methods] object or to NULL.  xOpen must do
  ** this even if the open fails.  SQLite expects that the sqlite3_file.pMethods
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1618,11 +1629,11 @@</span>
  ** Every memory allocation request coming in through [sqlite3_malloc()]
  ** or [sqlite3_realloc()] first calls xRoundup.  If xRoundup returns 0,
  ** that causes the corresponding memory allocation to fail.
  **
  ** The xInit method initializes the memory allocator.  For example,
<span class="udiff-line-modified-removed">- ** it might allocate any require mutexes or initialize internal data</span>
<span class="udiff-line-modified-added">+ ** it might allocate any required mutexes or initialize internal data</span>
  ** structures.  The xShutdown method is invoked (indirectly) by
  ** [sqlite3_shutdown()] and should deallocate any resources acquired
  ** by xInit.  The pAppData pointer is used as the only parameter to
  ** xInit and xShutdown.
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1740,10 +1751,11 @@</span>
  ** &lt;dd&gt; ^The SQLITE_CONFIG_MEMSTATUS option takes single argument of type int,
  ** interpreted as a boolean, which enables or disables the collection of
  ** memory allocation statistics. ^(When memory allocation statistics are
  ** disabled, the following SQLite interfaces become non-operational:
  **   &lt;ul&gt;
<span class="udiff-line-added">+ **   &lt;li&gt; [sqlite3_hard_heap_limit64()]</span>
  **   &lt;li&gt; [sqlite3_memory_used()]
  **   &lt;li&gt; [sqlite3_memory_highwater()]
  **   &lt;li&gt; [sqlite3_soft_heap_limit64()]
  **   &lt;li&gt; [sqlite3_status64()]
  **   &lt;/ul&gt;)^
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1758,11 +1770,11 @@</span>
  **
  ** [[SQLITE_CONFIG_PAGECACHE]] &lt;dt&gt;SQLITE_CONFIG_PAGECACHE&lt;/dt&gt;
  ** &lt;dd&gt; ^The SQLITE_CONFIG_PAGECACHE option specifies a memory pool
  ** that SQLite can use for the database page cache with the default page
  ** cache implementation.
<span class="udiff-line-modified-removed">- ** This configuration option is a no-op if an application-define page</span>
<span class="udiff-line-modified-added">+ ** This configuration option is a no-op if an application-defined page</span>
  ** cache implementation is loaded using the [SQLITE_CONFIG_PCACHE2].
  ** ^There are three arguments to SQLITE_CONFIG_PAGECACHE: A pointer to
  ** 8-byte aligned memory (pMem), the size of each page cache line (sz),
  ** and the number of cache lines (N).
  ** The sz argument should be the size of the largest database page
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2243,11 +2255,11 @@</span>
  ** &lt;/dd&gt;
  **
  ** [[SQLITE_DBCONFIG_DQS_DML]]
  ** &lt;dt&gt;SQLITE_DBCONFIG_DQS_DML&lt;/td&gt;
  ** &lt;dd&gt;The SQLITE_DBCONFIG_DQS_DML option activates or deactivates
<span class="udiff-line-modified-removed">- ** the legacy [double-quoted string literal] misfeature for DML statement</span>
<span class="udiff-line-modified-added">+ ** the legacy [double-quoted string literal] misfeature for DML statements</span>
  ** only, that is DELETE, INSERT, SELECT, and UPDATE statements. The
  ** default value of this setting is determined by the [-DSQLITE_DQS]
  ** compile-time option.
  ** &lt;/dd&gt;
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2257,10 +2269,53 @@</span>
  ** the legacy [double-quoted string literal] misfeature for DDL statements,
  ** such as CREATE TABLE and CREATE INDEX. The
  ** default value of this setting is determined by the [-DSQLITE_DQS]
  ** compile-time option.
  ** &lt;/dd&gt;
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** [[SQLITE_DBCONFIG_TRUSTED_SCHEMA]]</span>
<span class="udiff-line-added">+ ** &lt;dt&gt;SQLITE_DBCONFIG_TRUSTED_SCHEMA&lt;/td&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The SQLITE_DBCONFIG_TRUSTED_SCHEMA option tells SQLite to</span>
<span class="udiff-line-added">+ ** assume that database schemas (the contents of the [sqlite_master] tables)</span>
<span class="udiff-line-added">+ ** are untainted by malicious content.</span>
<span class="udiff-line-added">+ ** When the SQLITE_DBCONFIG_TRUSTED_SCHEMA option is disabled, SQLite</span>
<span class="udiff-line-added">+ ** takes additional defensive steps to protect the application from harm</span>
<span class="udiff-line-added">+ ** including:</span>
<span class="udiff-line-added">+ ** &lt;ul&gt;</span>
<span class="udiff-line-added">+ ** &lt;li&gt; Prohibit the use of SQL functions inside triggers, views,</span>
<span class="udiff-line-added">+ ** CHECK constraints, DEFAULT clauses, expression indexes,</span>
<span class="udiff-line-added">+ ** partial indexes, or generated columns</span>
<span class="udiff-line-added">+ ** unless those functions are tagged with [SQLITE_INNOCUOUS].</span>
<span class="udiff-line-added">+ ** &lt;li&gt; Prohibit the use of virtual tables inside of triggers or views</span>
<span class="udiff-line-added">+ ** unless those virtual tables are tagged with [SQLITE_VTAB_INNOCUOUS].</span>
<span class="udiff-line-added">+ ** &lt;/ul&gt;</span>
<span class="udiff-line-added">+ ** This setting defaults to &quot;on&quot; for legacy compatibility, however</span>
<span class="udiff-line-added">+ ** all applications are advised to turn it off if possible. This setting</span>
<span class="udiff-line-added">+ ** can also be controlled using the [PRAGMA trusted_schema] statement.</span>
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** [[SQLITE_DBCONFIG_LEGACY_FILE_FORMAT]]</span>
<span class="udiff-line-added">+ ** &lt;dt&gt;SQLITE_DBCONFIG_LEGACY_FILE_FORMAT&lt;/td&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The SQLITE_DBCONFIG_LEGACY_FILE_FORMAT option activates or deactivates</span>
<span class="udiff-line-added">+ ** the legacy file format flag.  When activated, this flag causes all newly</span>
<span class="udiff-line-added">+ ** created database file to have a schema format version number (the 4-byte</span>
<span class="udiff-line-added">+ ** integer found at offset 44 into the database header) of 1.  This in turn</span>
<span class="udiff-line-added">+ ** means that the resulting database file will be readable and writable by</span>
<span class="udiff-line-added">+ ** any SQLite version back to 3.0.0 ([dateof:3.0.0]).  Without this setting,</span>
<span class="udiff-line-added">+ ** newly created databases are generally not understandable by SQLite versions</span>
<span class="udiff-line-added">+ ** prior to 3.3.0 ([dateof:3.3.0]).  As these words are written, there</span>
<span class="udiff-line-added">+ ** is now scarcely any need to generated database files that are compatible</span>
<span class="udiff-line-added">+ ** all the way back to version 3.0.0, and so this setting is of little</span>
<span class="udiff-line-added">+ ** practical use, but is provided so that SQLite can continue to claim the</span>
<span class="udiff-line-added">+ ** ability to generate new database files that are compatible with  version</span>
<span class="udiff-line-added">+ ** 3.0.0.</span>
<span class="udiff-line-added">+ ** &lt;p&gt;Note that when the SQLITE_DBCONFIG_LEGACY_FILE_FORMAT setting is on,</span>
<span class="udiff-line-added">+ ** the [VACUUM] command will fail with an obscure error when attempting to</span>
<span class="udiff-line-added">+ ** process a table with generated columns and a descending index.  This is</span>
<span class="udiff-line-added">+ ** not considered a bug since SQLite versions 3.3.0 and earlier do not support</span>
<span class="udiff-line-added">+ ** either generated columns or decending indexes.</span>
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
  ** &lt;/dl&gt;
  */
  #define SQLITE_DBCONFIG_MAINDBNAME            1000 /* const char* */
  #define SQLITE_DBCONFIG_LOOKASIDE             1001 /* void* int int */
  #define SQLITE_DBCONFIG_ENABLE_FKEY           1002 /* int int* */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2275,11 +2330,13 @@</span>
  #define SQLITE_DBCONFIG_WRITABLE_SCHEMA       1011 /* int int* */
  #define SQLITE_DBCONFIG_LEGACY_ALTER_TABLE    1012 /* int int* */
  #define SQLITE_DBCONFIG_DQS_DML               1013 /* int int* */
  #define SQLITE_DBCONFIG_DQS_DDL               1014 /* int int* */
  #define SQLITE_DBCONFIG_ENABLE_VIEW           1015 /* int int* */
<span class="udiff-line-modified-removed">- #define SQLITE_DBCONFIG_MAX                   1015 /* Largest DBCONFIG */</span>
<span class="udiff-line-modified-added">+ #define SQLITE_DBCONFIG_LEGACY_FILE_FORMAT    1016 /* int int* */</span>
<span class="udiff-line-added">+ #define SQLITE_DBCONFIG_TRUSTED_SCHEMA        1017 /* int int* */</span>
<span class="udiff-line-added">+ #define SQLITE_DBCONFIG_MAX                   1017 /* Largest DBCONFIG */</span>
  
  /*
  ** CAPI3REF: Enable Or Disable Extended Result Codes
  ** METHOD: sqlite3
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2481,11 +2538,11 @@</span>
  ** will be rolled back automatically.
  **
  ** ^The sqlite3_interrupt(D) call is in effect until all currently running
  ** SQL statements on [database connection] D complete.  ^Any new SQL statements
  ** that are started after the sqlite3_interrupt() call and before the
<span class="udiff-line-modified-removed">- ** running statements reaches zero are interrupted as if they had been</span>
<span class="udiff-line-modified-added">+ ** running statement count reaches zero are interrupted as if they had been</span>
  ** running prior to the sqlite3_interrupt() call.  ^New SQL statements
  ** that are started after the running statement count reaches zero are
  ** not effected by the sqlite3_interrupt().
  ** ^A call to sqlite3_interrupt(D) that occurs when there are no running
  ** SQL statements is a no-op and has no effect on SQL statements
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2649,13 +2706,13 @@</span>
  **        Alice       | 43
  **        Bob         | 28
  **        Cindy       | 21
  ** &lt;/pre&gt;&lt;/blockquote&gt;
  **
<span class="udiff-line-modified-removed">- ** There are two column (M==2) and three rows (N==3).  Thus the</span>
<span class="udiff-line-modified-added">+ ** There are two columns (M==2) and three rows (N==3).  Thus the</span>
  ** result table has 8 entries.  Suppose the result table is stored
<span class="udiff-line-modified-removed">- ** in an array names azResult.  Then azResult holds this content:</span>
<span class="udiff-line-modified-added">+ ** in an array named azResult.  Then azResult holds this content:</span>
  **
  ** &lt;blockquote&gt;&lt;pre&gt;
  **        azResult&amp;#91;0] = &quot;Name&quot;;
  **        azResult&amp;#91;1] = &quot;Age&quot;;
  **        azResult&amp;#91;2] = &quot;Alice&quot;;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2744,11 +2801,11 @@</span>
  /*
  ** CAPI3REF: Memory Allocation Subsystem
  **
  ** The SQLite core uses these three routines for all of its own
  ** internal memory allocation needs. &quot;Core&quot; in the previous sentence
<span class="udiff-line-modified-removed">- ** does not include operating-system specific VFS implementation.  The</span>
<span class="udiff-line-modified-added">+ ** does not include operating-system specific [VFS] implementation.  The</span>
  ** Windows VFS uses native malloc() and free() for some operations.
  **
  ** ^The sqlite3_malloc() routine returns a pointer to a block
  ** of memory at least N bytes in length, where N is the parameter.
  ** ^If sqlite3_malloc() is unable to obtain sufficient free
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2805,23 +2862,10 @@</span>
  ** sqlite3_malloc64(), and sqlite3_realloc64()
  ** is always aligned to at least an 8 byte boundary, or to a
  ** 4 byte boundary if the [SQLITE_4_BYTE_ALIGNED_MALLOC] compile-time
  ** option is used.
  **
<span class="udiff-line-removed">- ** In SQLite version 3.5.0 and 3.5.1, it was possible to define</span>
<span class="udiff-line-removed">- ** the SQLITE_OMIT_MEMORY_ALLOCATION which would cause the built-in</span>
<span class="udiff-line-removed">- ** implementation of these routines to be omitted.  That capability</span>
<span class="udiff-line-removed">- ** is no longer provided.  Only built-in memory allocators can be used.</span>
<span class="udiff-line-removed">- **</span>
<span class="udiff-line-removed">- ** Prior to SQLite version 3.7.10, the Windows OS interface layer called</span>
<span class="udiff-line-removed">- ** the system malloc() and free() directly when converting</span>
<span class="udiff-line-removed">- ** filenames between the UTF-8 encoding used by SQLite</span>
<span class="udiff-line-removed">- ** and whatever filename encoding is used by the particular Windows</span>
<span class="udiff-line-removed">- ** installation.  Memory allocation errors were detected, but</span>
<span class="udiff-line-removed">- ** they were reported back as [SQLITE_CANTOPEN] or</span>
<span class="udiff-line-removed">- ** [SQLITE_IOERR] rather than [SQLITE_NOMEM].</span>
<span class="udiff-line-removed">- **</span>
  ** The pointer arguments to [sqlite3_free()] and [sqlite3_realloc()]
  ** must be either NULL or else pointers obtained from a prior
  ** invocation of [sqlite3_malloc()] or [sqlite3_realloc()] that have
  ** not yet been released.
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2866,11 +2910,11 @@</span>
  ** CAPI3REF: Pseudo-Random Number Generator
  **
  ** SQLite contains a high-quality pseudo-random number generator (PRNG) used to
  ** select random [ROWID | ROWIDs] when inserting new records into a table that
  ** already uses the largest possible [ROWID].  The PRNG is also used for
<span class="udiff-line-modified-removed">- ** the build-in random() and randomblob() SQL functions.  This interface allows</span>
<span class="udiff-line-modified-added">+ ** the built-in random() and randomblob() SQL functions.  This interface allows</span>
  ** applications to access the same PRNG for other purposes.
  **
  ** ^A call to this routine stores N bytes of randomness into buffer P.
  ** ^The P parameter can be a NULL pointer.
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3240,14 +3284,12 @@</span>
  ** passing it to [sqlite3_close()] when it is no longer required.
  **
  ** The sqlite3_open_v2() interface works like sqlite3_open()
  ** except that it accepts two additional parameters for additional control
  ** over the new database connection.  ^(The flags parameter to
<span class="udiff-line-modified-removed">- ** sqlite3_open_v2() can take one of</span>
<span class="udiff-line-modified-removed">- ** the following three values, optionally combined with the</span>
<span class="udiff-line-removed">- ** [SQLITE_OPEN_NOMUTEX], [SQLITE_OPEN_FULLMUTEX], [SQLITE_OPEN_SHAREDCACHE],</span>
<span class="udiff-line-removed">- ** [SQLITE_OPEN_PRIVATECACHE], and/or [SQLITE_OPEN_URI] flags:)^</span>
<span class="udiff-line-modified-added">+ ** sqlite3_open_v2() must include, at a minimum, one of the following</span>
<span class="udiff-line-modified-added">+ ** three flag combinations:)^</span>
  **
  ** &lt;dl&gt;
  ** ^(&lt;dt&gt;[SQLITE_OPEN_READONLY]&lt;/dt&gt;
  ** &lt;dd&gt;The database is opened in read-only mode.  If the database does not
  ** already exist, an error is returned.&lt;/dd&gt;)^
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3261,27 +3303,55 @@</span>
  ** &lt;dd&gt;The database is opened for reading and writing, and is created if
  ** it does not already exist. This is the behavior that is always used for
  ** sqlite3_open() and sqlite3_open16().&lt;/dd&gt;)^
  ** &lt;/dl&gt;
  **
<span class="udiff-line-added">+ ** In addition to the required flags, the following optional flags are</span>
<span class="udiff-line-added">+ ** also supported:</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** &lt;dl&gt;</span>
<span class="udiff-line-added">+ ** ^(&lt;dt&gt;[SQLITE_OPEN_URI]&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The filename can be interpreted as a URI if this flag is set.&lt;/dd&gt;)^</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** ^(&lt;dt&gt;[SQLITE_OPEN_MEMORY]&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The database will be opened as an in-memory database.  The database</span>
<span class="udiff-line-added">+ ** is named by the &quot;filename&quot; argument for the purposes of cache-sharing,</span>
<span class="udiff-line-added">+ ** if shared cache mode is enabled, but the &quot;filename&quot; is otherwise ignored.</span>
<span class="udiff-line-added">+ ** &lt;/dd&gt;)^</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** ^(&lt;dt&gt;[SQLITE_OPEN_NOMUTEX]&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The new database connection will use the &quot;multi-thread&quot;</span>
<span class="udiff-line-added">+ ** [threading mode].)^  This means that separate threads are allowed</span>
<span class="udiff-line-added">+ ** to use SQLite at the same time, as long as each thread is using</span>
<span class="udiff-line-added">+ ** a different [database connection].</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** ^(&lt;dt&gt;[SQLITE_OPEN_FULLMUTEX]&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The new database connection will use the &quot;serialized&quot;</span>
<span class="udiff-line-added">+ ** [threading mode].)^  This means the multiple threads can safely</span>
<span class="udiff-line-added">+ ** attempt to use the same database connection at the same time.</span>
<span class="udiff-line-added">+ ** (Mutexes will block any actual concurrency, but in this mode</span>
<span class="udiff-line-added">+ ** there is no harm in trying.)</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** ^(&lt;dt&gt;[SQLITE_OPEN_SHAREDCACHE]&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The database is opened [shared cache] enabled, overriding</span>
<span class="udiff-line-added">+ ** the default shared cache setting provided by</span>
<span class="udiff-line-added">+ ** [sqlite3_enable_shared_cache()].)^</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** ^(&lt;dt&gt;[SQLITE_OPEN_PRIVATECACHE]&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The database is opened [shared cache] disabled, overriding</span>
<span class="udiff-line-added">+ ** the default shared cache setting provided by</span>
<span class="udiff-line-added">+ ** [sqlite3_enable_shared_cache()].)^</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** [[OPEN_NOFOLLOW]] ^(&lt;dt&gt;[SQLITE_OPEN_NOFOLLOW]&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;The database filename is not allowed to be a symbolic link&lt;/dd&gt;</span>
<span class="udiff-line-added">+ ** &lt;/dl&gt;)^</span>
<span class="udiff-line-added">+ **</span>
  ** If the 3rd parameter to sqlite3_open_v2() is not one of the
<span class="udiff-line-modified-removed">- ** combinations shown above optionally combined with other</span>
<span class="udiff-line-modified-added">+ ** required combinations shown above optionally combined with other</span>
  ** [SQLITE_OPEN_READONLY | SQLITE_OPEN_* bits]
  ** then the behavior is undefined.
  **
<span class="udiff-line-removed">- ** ^If the [SQLITE_OPEN_NOMUTEX] flag is set, then the database connection</span>
<span class="udiff-line-removed">- ** opens in the multi-thread [threading mode] as long as the single-thread</span>
<span class="udiff-line-removed">- ** mode has not been set at compile-time or start-time.  ^If the</span>
<span class="udiff-line-removed">- ** [SQLITE_OPEN_FULLMUTEX] flag is set then the database connection opens</span>
<span class="udiff-line-removed">- ** in the serialized [threading mode] unless single-thread was</span>
<span class="udiff-line-removed">- ** previously selected at compile-time or start-time.</span>
<span class="udiff-line-removed">- ** ^The [SQLITE_OPEN_SHAREDCACHE] flag causes the database connection to be</span>
<span class="udiff-line-removed">- ** eligible to use [shared cache mode], regardless of whether or not shared</span>
<span class="udiff-line-removed">- ** cache is enabled using [sqlite3_enable_shared_cache()].  ^The</span>
<span class="udiff-line-removed">- ** [SQLITE_OPEN_PRIVATECACHE] flag causes the database connection to not</span>
<span class="udiff-line-removed">- ** participate in [shared cache mode] even if it is enabled.</span>
<span class="udiff-line-removed">- **</span>
  ** ^The fourth parameter to sqlite3_open_v2() is the name of the
  ** [sqlite3_vfs] object that defines the operating system interface that
  ** the new database connection should use.  ^If the fourth parameter is
  ** a NULL pointer then the default [sqlite3_vfs] object is used.
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3457,21 +3527,20 @@</span>
  );
  
  /*
  ** CAPI3REF: Obtain Values For URI Parameters
  **
<span class="udiff-line-modified-removed">- ** These are utility routines, useful to VFS implementations, that check</span>
<span class="udiff-line-modified-removed">- ** to see if a database file was a URI that contained a specific query</span>
<span class="udiff-line-modified-added">+ ** These are utility routines, useful to [VFS|custom VFS implementations],</span>
<span class="udiff-line-modified-added">+ ** that check if a database file was a URI that contained a specific query</span>
  ** parameter, and if so obtains the value of that query parameter.
  **
  ** If F is the database filename pointer passed into the xOpen() method of
<span class="udiff-line-modified-removed">- ** a VFS implementation when the flags parameter to xOpen() has one or</span>
<span class="udiff-line-modified-removed">- ** more of the [SQLITE_OPEN_URI] or [SQLITE_OPEN_MAIN_DB] bits set and</span>
<span class="udiff-line-removed">- ** P is the name of the query parameter, then</span>
<span class="udiff-line-modified-added">+ ** a VFS implementation or it is the return value of [sqlite3_db_filename()]</span>
<span class="udiff-line-modified-added">+ ** and if P is the name of the query parameter, then</span>
  ** sqlite3_uri_parameter(F,P) returns the value of the P
  ** parameter if it exists or a NULL pointer if P does not appear as a
<span class="udiff-line-modified-removed">- ** query parameter on F.  If P is a query parameter of F</span>
<span class="udiff-line-modified-added">+ ** query parameter on F.  If P is a query parameter of F and it</span>
  ** has no explicit value, then sqlite3_uri_parameter(F,P) returns
  ** a pointer to an empty string.
  **
  ** The sqlite3_uri_boolean(F,P,B) routine assumes that P is a boolean
  ** parameter and returns true (1) or false (0) according to the value
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3479,29 +3548,76 @@</span>
  ** value of query parameter P is one of &quot;yes&quot;, &quot;true&quot;, or &quot;on&quot; in any
  ** case or if the value begins with a non-zero number.  The
  ** sqlite3_uri_boolean(F,P,B) routines returns false (0) if the value of
  ** query parameter P is one of &quot;no&quot;, &quot;false&quot;, or &quot;off&quot; in any case or
  ** if the value begins with a numeric zero.  If P is not a query
<span class="udiff-line-modified-removed">- ** parameter on F or if the value of P is does not match any of the</span>
<span class="udiff-line-modified-added">+ ** parameter on F or if the value of P does not match any of the</span>
  ** above, then sqlite3_uri_boolean(F,P,B) returns (B!=0).
  **
  ** The sqlite3_uri_int64(F,P,D) routine converts the value of P into a
  ** 64-bit signed integer and returns that integer, or D if P does not
  ** exist.  If the value of P is something other than an integer, then
  ** zero is returned.
  **
<span class="udiff-line-added">+ ** The sqlite3_uri_key(F,N) returns a pointer to the name (not</span>
<span class="udiff-line-added">+ ** the value) of the N-th query parameter for filename F, or a NULL</span>
<span class="udiff-line-added">+ ** pointer if N is less than zero or greater than the number of query</span>
<span class="udiff-line-added">+ ** parameters minus 1.  The N value is zero-based so N should be 0 to obtain</span>
<span class="udiff-line-added">+ ** the name of the first query parameter, 1 for the second parameter, and</span>
<span class="udiff-line-added">+ ** so forth.</span>
<span class="udiff-line-added">+ **</span>
  ** If F is a NULL pointer, then sqlite3_uri_parameter(F,P) returns NULL and
  ** sqlite3_uri_boolean(F,P,B) returns B.  If F is not a NULL pointer and
<span class="udiff-line-modified-removed">- ** is not a database file pathname pointer that SQLite passed into the xOpen</span>
<span class="udiff-line-modified-removed">- ** VFS method, then the behavior of this routine is undefined and probably</span>
<span class="udiff-line-modified-removed">- ** undesirable.</span>
<span class="udiff-line-modified-added">+ ** is not a database file pathname pointer that the SQLite core passed</span>
<span class="udiff-line-modified-added">+ ** into the xOpen VFS method, then the behavior of this routine is undefined</span>
<span class="udiff-line-modified-added">+ ** and probably undesirable.</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** Beginning with SQLite [version 3.31.0] ([dateof:3.31.0]) the input F</span>
<span class="udiff-line-added">+ ** parameter can also be the name of a rollback journal file or WAL file</span>
<span class="udiff-line-added">+ ** in addition to the main database file.  Prior to version 3.31.0, these</span>
<span class="udiff-line-added">+ ** routines would only work if F was the name of the main database file.</span>
<span class="udiff-line-added">+ ** When the F parameter is the name of the rollback journal or WAL file,</span>
<span class="udiff-line-added">+ ** it has access to all the same query parameters as were found on the</span>
<span class="udiff-line-added">+ ** main database file.</span>
  **
  ** See the [URI filename] documentation for additional information.
  */
  SQLITE_API const char *sqlite3_uri_parameter(const char *zFilename, const char *zParam);
  SQLITE_API int sqlite3_uri_boolean(const char *zFile, const char *zParam, int bDefault);
  SQLITE_API sqlite3_int64 sqlite3_uri_int64(const char*, const char*, sqlite3_int64);
<span class="udiff-line-added">+ SQLITE_API const char *sqlite3_uri_key(const char *zFilename, int N);</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /*</span>
<span class="udiff-line-added">+ ** CAPI3REF:  Translate filenames</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** These routines are available to [VFS|custom VFS implementations] for</span>
<span class="udiff-line-added">+ ** translating filenames between the main database file, the journal file,</span>
<span class="udiff-line-added">+ ** and the WAL file.</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** If F is the name of an sqlite database file, journal file, or WAL file</span>
<span class="udiff-line-added">+ ** passed by the SQLite core into the VFS, then sqlite3_filename_database(F)</span>
<span class="udiff-line-added">+ ** returns the name of the corresponding database file.</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** If F is the name of an sqlite database file, journal file, or WAL file</span>
<span class="udiff-line-added">+ ** passed by the SQLite core into the VFS, or if F is a database filename</span>
<span class="udiff-line-added">+ ** obtained from [sqlite3_db_filename()], then sqlite3_filename_journal(F)</span>
<span class="udiff-line-added">+ ** returns the name of the corresponding rollback journal file.</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** If F is the name of an sqlite database file, journal file, or WAL file</span>
<span class="udiff-line-added">+ ** that was passed by the SQLite core into the VFS, or if F is a database</span>
<span class="udiff-line-added">+ ** filename obtained from [sqlite3_db_filename()], then</span>
<span class="udiff-line-added">+ ** sqlite3_filename_wal(F) returns the name of the corresponding</span>
<span class="udiff-line-added">+ ** WAL file.</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** In all of the above, if F is not the name of a database, journal or WAL</span>
<span class="udiff-line-added">+ ** filename passed into the VFS from the SQLite core and F is not the</span>
<span class="udiff-line-added">+ ** return value from [sqlite3_db_filename()], then the result is</span>
<span class="udiff-line-added">+ ** undefined and is likely a memory access violation.</span>
<span class="udiff-line-added">+ */</span>
<span class="udiff-line-added">+ SQLITE_API const char *sqlite3_filename_database(const char*);</span>
<span class="udiff-line-added">+ SQLITE_API const char *sqlite3_filename_journal(const char*);</span>
<span class="udiff-line-added">+ SQLITE_API const char *sqlite3_filename_wal(const char*);</span>
  
  
  /*
  ** CAPI3REF: Error Codes And Messages
  ** METHOD: sqlite3
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3816,16 +3932,16 @@</span>
  ** in order to find the underlying cause of the problem. With the &quot;v2&quot; prepare
  ** interfaces, the underlying reason for the error is returned immediately.
  ** &lt;/li&gt;
  **
  ** &lt;li&gt;
<span class="udiff-line-modified-removed">- ** ^If the specific value bound to [parameter | host parameter] in the</span>
<span class="udiff-line-modified-added">+ ** ^If the specific value bound to a [parameter | host parameter] in the</span>
  ** WHERE clause might influence the choice of query plan for a statement,
  ** then the statement will be automatically recompiled, as if there had been
<span class="udiff-line-modified-removed">- ** a schema change, on the first  [sqlite3_step()] call following any change</span>
<span class="udiff-line-modified-added">+ ** a schema change, on the first [sqlite3_step()] call following any change</span>
  ** to the [sqlite3_bind_text | bindings] of that [parameter].
<span class="udiff-line-modified-removed">- ** ^The specific value of WHERE-clause [parameter] might influence the</span>
<span class="udiff-line-modified-added">+ ** ^The specific value of a WHERE-clause [parameter] might influence the</span>
  ** choice of query plan if the parameter is the left-hand side of a [LIKE]
  ** or [GLOB] operator or if the parameter is compared to an indexed column
  ** and the [SQLITE_ENABLE_STAT4] compile-time option is enabled.
  ** &lt;/li&gt;
  ** &lt;/ol&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4330,24 +4446,20 @@</span>
  ** the statement, where N is the second function argument.
  ** ^The left-most column is column 0 for these routines.
  **
  ** ^If the Nth column returned by the statement is an expression or
  ** subquery and is not a column value, then all of these functions return
<span class="udiff-line-modified-removed">- ** NULL.  ^These routine might also return NULL if a memory allocation error</span>
<span class="udiff-line-modified-added">+ ** NULL.  ^These routines might also return NULL if a memory allocation error</span>
  ** occurs.  ^Otherwise, they return the name of the attached database, table,
  ** or column that query result column was extracted from.
  **
  ** ^As with all other SQLite APIs, those whose names end with &quot;16&quot; return
  ** UTF-16 encoded strings and the other functions return UTF-8.
  **
  ** ^These APIs are only available if the library was compiled with the
  ** [SQLITE_ENABLE_COLUMN_METADATA] C-preprocessor symbol.
  **
<span class="udiff-line-removed">- ** If two or more threads call one or more of these routines against the same</span>
<span class="udiff-line-removed">- ** prepared statement and column at the same time then the results are</span>
<span class="udiff-line-removed">- ** undefined.</span>
<span class="udiff-line-removed">- **</span>
  ** If two or more threads call one or more
  ** [sqlite3_column_database_name | column metadata interfaces]
  ** for the same [prepared statement] and result column
  ** at the same time then the results are undefined.
  */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4480,11 +4592,11 @@</span>
  ** METHOD: sqlite3_stmt
  **
  ** ^The sqlite3_data_count(P) interface returns the number of columns in the
  ** current row of the result set of [prepared statement] P.
  ** ^If prepared statement P does not have results ready to return
<span class="udiff-line-modified-removed">- ** (via calls to the [sqlite3_column_int | sqlite3_column_*()] of</span>
<span class="udiff-line-modified-added">+ ** (via calls to the [sqlite3_column_int | sqlite3_column()] family of</span>
  ** interfaces) then sqlite3_data_count(P) returns 0.
  ** ^The sqlite3_data_count(P) routine also returns 0 if P is a NULL pointer.
  ** ^The sqlite3_data_count(P) routine returns 0 if the previous call to
  ** [sqlite3_step](P) returned [SQLITE_DONE].  ^The sqlite3_data_count(P)
  ** will return non-zero if previous call to [sqlite3_step](P) returned
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4804,12 +4916,10 @@</span>
  SQLITE_API int sqlite3_reset(sqlite3_stmt *pStmt);
  
  /*
  ** CAPI3REF: Create Or Redefine SQL Functions
  ** KEYWORDS: {function creation routines}
<span class="udiff-line-removed">- ** KEYWORDS: {application-defined SQL function}</span>
<span class="udiff-line-removed">- ** KEYWORDS: {application-defined SQL functions}</span>
  ** METHOD: sqlite3
  **
  ** ^These functions (collectively known as &quot;function creation routines&quot;)
  ** are used to add SQL functions or aggregates or to redefine the behavior
  ** of existing SQL functions or aggregates. The only differences between
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4861,13 +4971,24 @@</span>
  ** perform additional optimizations on deterministic functions, so use
  ** of the [SQLITE_DETERMINISTIC] flag is recommended where possible.
  **
  ** ^The fourth parameter may also optionally include the [SQLITE_DIRECTONLY]
  ** flag, which if present prevents the function from being invoked from
<span class="udiff-line-modified-removed">- ** within VIEWs or TRIGGERs.  For security reasons, the [SQLITE_DIRECTONLY]</span>
<span class="udiff-line-modified-removed">- ** flag is recommended for any application-defined SQL function that has</span>
<span class="udiff-line-modified-removed">- ** side-effects.</span>
<span class="udiff-line-modified-added">+ ** within VIEWs, TRIGGERs, CHECK constraints, generated column expressions,</span>
<span class="udiff-line-modified-added">+ ** index expressions, or the WHERE clause of partial indexes.</span>
<span class="udiff-line-modified-added">+ **</span>
<span class="udiff-line-added">+ ** &lt;span style=&quot;background-color:#ffff90;&quot;&gt;</span>
<span class="udiff-line-added">+ ** For best security, the [SQLITE_DIRECTONLY] flag is recommended for</span>
<span class="udiff-line-added">+ ** all application-defined SQL functions that do not need to be</span>
<span class="udiff-line-added">+ ** used inside of triggers, view, CHECK constraints, or other elements of</span>
<span class="udiff-line-added">+ ** the database schema.  This flags is especially recommended for SQL</span>
<span class="udiff-line-added">+ ** functions that have side effects or reveal internal application state.</span>
<span class="udiff-line-added">+ ** Without this flag, an attacker might be able to modify the schema of</span>
<span class="udiff-line-added">+ ** a database file to include invocations of the function with parameters</span>
<span class="udiff-line-added">+ ** chosen by the attacker, which the application will then execute when</span>
<span class="udiff-line-added">+ ** the database file is opened and read.</span>
<span class="udiff-line-added">+ ** &lt;/span&gt;</span>
  **
  ** ^(The fifth parameter is an arbitrary pointer.  The implementation of the
  ** function can gain access to this pointer using [sqlite3_user_data()].)^
  **
  ** ^The sixth, seventh and eighth parameters passed to the three
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4982,33 +5103,71 @@</span>
  ** These constants may be ORed together with the
  ** [SQLITE_UTF8 | preferred text encoding] as the fourth argument
  ** to [sqlite3_create_function()], [sqlite3_create_function16()], or
  ** [sqlite3_create_function_v2()].
  **
<span class="udiff-line-modified-removed">- ** The SQLITE_DETERMINISTIC flag means that the new function will always</span>
<span class="udiff-line-modified-removed">- ** maps the same inputs into the same output.  The abs() function is</span>
<span class="udiff-line-modified-removed">- ** deterministic, for example, but randomblob() is not.</span>
<span class="udiff-line-modified-added">+ ** &lt;dl&gt;</span>
<span class="udiff-line-modified-added">+ ** [[SQLITE_DETERMINISTIC]] &lt;dt&gt;SQLITE_DETERMINISTIC&lt;/dt&gt;&lt;dd&gt;</span>
<span class="udiff-line-modified-added">+ ** The SQLITE_DETERMINISTIC flag means that the new function always gives</span>
<span class="udiff-line-added">+ ** the same output when the input parameters are the same.</span>
<span class="udiff-line-added">+ ** The [abs|abs() function] is deterministic, for example, but</span>
<span class="udiff-line-added">+ ** [randomblob|randomblob()] is not.  Functions must</span>
<span class="udiff-line-added">+ ** be deterministic in order to be used in certain contexts such as</span>
<span class="udiff-line-added">+ ** with the WHERE clause of [partial indexes] or in [generated columns].</span>
<span class="udiff-line-added">+ ** SQLite might also optimize deterministic functions by factoring them</span>
<span class="udiff-line-added">+ ** out of inner loops.</span>
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
  **
<span class="udiff-line-added">+ ** [[SQLITE_DIRECTONLY]] &lt;dt&gt;SQLITE_DIRECTONLY&lt;/dt&gt;&lt;dd&gt;</span>
  ** The SQLITE_DIRECTONLY flag means that the function may only be invoked
<span class="udiff-line-modified-removed">- ** from top-level SQL, and cannot be used in VIEWs or TRIGGERs.  This is</span>
<span class="udiff-line-modified-removed">- ** a security feature which is recommended for all</span>
<span class="udiff-line-modified-removed">- ** [application-defined SQL functions] that have side-effects.  This flag</span>
<span class="udiff-line-modified-removed">- ** prevents an attacker from adding triggers and views to a schema then</span>
<span class="udiff-line-modified-removed">- ** tricking a high-privilege application into causing unintended side-effects</span>
<span class="udiff-line-modified-removed">- ** while performing ordinary queries.</span>
<span class="udiff-line-modified-added">+ ** from top-level SQL, and cannot be used in VIEWs or TRIGGERs nor in</span>
<span class="udiff-line-modified-added">+ ** schema structures such as [CHECK constraints], [DEFAULT clauses],</span>
<span class="udiff-line-modified-added">+ ** [expression indexes], [partial indexes], or [generated columns].</span>
<span class="udiff-line-modified-added">+ ** The SQLITE_DIRECTONLY flags is a security feature which is recommended</span>
<span class="udiff-line-modified-added">+ ** for all [application-defined SQL functions], and especially for functions</span>
<span class="udiff-line-modified-added">+ ** that have side-effects or that could potentially leak sensitive</span>
<span class="udiff-line-added">+ ** information.</span>
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** [[SQLITE_INNOCUOUS]] &lt;dt&gt;SQLITE_INNOCUOUS&lt;/dt&gt;&lt;dd&gt;</span>
<span class="udiff-line-added">+ ** The SQLITE_INNOCUOUS flag means that the function is unlikely</span>
<span class="udiff-line-added">+ ** to cause problems even if misused.  An innocuous function should have</span>
<span class="udiff-line-added">+ ** no side effects and should not depend on any values other than its</span>
<span class="udiff-line-added">+ ** input parameters. The [abs|abs() function] is an example of an</span>
<span class="udiff-line-added">+ ** innocuous function.</span>
<span class="udiff-line-added">+ ** The [load_extension() SQL function] is not innocuous because of its</span>
<span class="udiff-line-added">+ ** side effects.</span>
<span class="udiff-line-added">+ ** &lt;p&gt; SQLITE_INNOCUOUS is similar to SQLITE_DETERMINISTIC, but is not</span>
<span class="udiff-line-added">+ ** exactly the same.  The [random|random() function] is an example of a</span>
<span class="udiff-line-added">+ ** function that is innocuous but not deterministic.</span>
<span class="udiff-line-added">+ ** &lt;p&gt;Some heightened security settings</span>
<span class="udiff-line-added">+ ** ([SQLITE_DBCONFIG_TRUSTED_SCHEMA] and [PRAGMA trusted_schema=OFF])</span>
<span class="udiff-line-added">+ ** disable the use of SQL functions inside views and triggers and in</span>
<span class="udiff-line-added">+ ** schema structures such as [CHECK constraints], [DEFAULT clauses],</span>
<span class="udiff-line-added">+ ** [expression indexes], [partial indexes], and [generated columns] unless</span>
<span class="udiff-line-added">+ ** the function is tagged with SQLITE_INNOCUOUS.  Most built-in functions</span>
<span class="udiff-line-added">+ ** are innocuous.  Developers are advised to avoid using the</span>
<span class="udiff-line-added">+ ** SQLITE_INNOCUOUS flag for application-defined functions unless the</span>
<span class="udiff-line-added">+ ** function has been carefully audited and found to be free of potentially</span>
<span class="udiff-line-added">+ ** security-adverse side-effects and information-leaks.</span>
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
  **
<span class="udiff-line-added">+ ** [[SQLITE_SUBTYPE]] &lt;dt&gt;SQLITE_SUBTYPE&lt;/dt&gt;&lt;dd&gt;</span>
  ** The SQLITE_SUBTYPE flag indicates to SQLite that a function may call
  ** [sqlite3_value_subtype()] to inspect the sub-types of its arguments.
  ** Specifying this flag makes no difference for scalar or aggregate user
  ** functions. However, if it is not specified for a user-defined window
  ** function, then any sub-types belonging to arguments passed to the window
  ** function may be discarded before the window function is called (i.e.
  ** sqlite3_value_subtype() will always return 0).
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
<span class="udiff-line-added">+ ** &lt;/dl&gt;</span>
  */
  #define SQLITE_DETERMINISTIC    0x000000800
  #define SQLITE_DIRECTONLY       0x000080000
  #define SQLITE_SUBTYPE          0x000100000
<span class="udiff-line-added">+ #define SQLITE_INNOCUOUS        0x000200000</span>
  
  /*
  ** CAPI3REF: Deprecated Functions
  ** DEPRECATED
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5063,12 +5222,12 @@</span>
  **
  ** &lt;b&gt;Details:&lt;/b&gt;
  **
  ** These routines extract type, size, and content information from
  ** [protected sqlite3_value] objects.  Protected sqlite3_value objects
<span class="udiff-line-modified-removed">- ** are used to pass parameter information into implementation of</span>
<span class="udiff-line-modified-removed">- ** [application-defined SQL functions] and [virtual tables].</span>
<span class="udiff-line-modified-added">+ ** are used to pass parameter information into the functions that</span>
<span class="udiff-line-modified-added">+ ** implement [application-defined SQL functions] and [virtual tables].</span>
  **
  ** These routines work only with [protected sqlite3_value] objects.
  ** Any attempt to use these routines on an [unprotected sqlite3_value]
  ** is not threadsafe.
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5121,11 +5280,11 @@</span>
  ** the return value is arbitrary and meaningless.
  **
  ** ^The sqlite3_value_frombind(X) interface returns non-zero if the
  ** value X originated from one of the [sqlite3_bind_int|sqlite3_bind()]
  ** interfaces.  ^If X comes from an SQL literal value, or a table column,
<span class="udiff-line-modified-removed">- ** and expression, then sqlite3_value_frombind(X) returns zero.</span>
<span class="udiff-line-modified-added">+ ** or an expression, then sqlite3_value_frombind(X) returns zero.</span>
  **
  ** Please pay particular attention to the fact that the pointer returned
  ** from [sqlite3_value_blob()], [sqlite3_value_text()], or
  ** [sqlite3_value_text16()] can be invalidated by a subsequent call to
  ** [sqlite3_value_bytes()], [sqlite3_value_bytes16()], [sqlite3_value_text()],
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5207,12 +5366,12 @@</span>
  **
  ** Implementations of aggregate SQL functions use this
  ** routine to allocate memory for storing their state.
  **
  ** ^The first time the sqlite3_aggregate_context(C,N) routine is called
<span class="udiff-line-modified-removed">- ** for a particular aggregate function, SQLite</span>
<span class="udiff-line-modified-removed">- ** allocates N of memory, zeroes out that memory, and returns a pointer</span>
<span class="udiff-line-modified-added">+ ** for a particular aggregate function, SQLite allocates</span>
<span class="udiff-line-modified-added">+ ** N bytes of memory, zeroes out that memory, and returns a pointer</span>
  ** to the new memory. ^On second and subsequent calls to
  ** sqlite3_aggregate_context() for the same aggregate function instance,
  ** the same buffer is returned.  Sqlite3_aggregate_context() is normally
  ** called once for each invocation of the xStep callback and then one
  ** last time when the xFinal callback is invoked.  ^(When no rows match
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5225,11 +5384,11 @@</span>
  ** when first called if N is less than or equal to zero or if a memory
  ** allocate error occurs.
  **
  ** ^(The amount of space allocated by sqlite3_aggregate_context(C,N) is
  ** determined by the N parameter on first successful call.  Changing the
<span class="udiff-line-modified-removed">- ** value of N in subsequent call to sqlite3_aggregate_context() within</span>
<span class="udiff-line-modified-added">+ ** value of N in any subsequents call to sqlite3_aggregate_context() within</span>
  ** the same aggregate function instance will not resize the memory
  ** allocation.)^  Within the xFinal callback, it is customary to set
  ** N=0 in calls to sqlite3_aggregate_context(C,N) so that no
  ** pointless memory allocations occur.
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5536,31 +5695,32 @@</span>
  ** &lt;li&gt; [SQLITE_UTF16BE],
  ** &lt;li&gt; [SQLITE_UTF16], or
  ** &lt;li&gt; [SQLITE_UTF16_ALIGNED].
  ** &lt;/ul&gt;)^
  ** ^The eTextRep argument determines the encoding of strings passed
<span class="udiff-line-modified-removed">- ** to the collating function callback, xCallback.</span>
<span class="udiff-line-modified-added">+ ** to the collating function callback, xCompare.</span>
  ** ^The [SQLITE_UTF16] and [SQLITE_UTF16_ALIGNED] values for eTextRep
  ** force strings to be UTF16 with native byte order.
  ** ^The [SQLITE_UTF16_ALIGNED] value for eTextRep forces strings to begin
  ** on an even byte address.
  **
  ** ^The fourth argument, pArg, is an application data pointer that is passed
  ** through as the first argument to the collating function callback.
  **
<span class="udiff-line-modified-removed">- ** ^The fifth argument, xCallback, is a pointer to the collating function.</span>
<span class="udiff-line-modified-added">+ ** ^The fifth argument, xCompare, is a pointer to the collating function.</span>
  ** ^Multiple collating functions can be registered using the same name but
  ** with different eTextRep parameters and SQLite will use whichever
  ** function requires the least amount of data transformation.
<span class="udiff-line-modified-removed">- ** ^If the xCallback argument is NULL then the collating function is</span>
<span class="udiff-line-modified-added">+ ** ^If the xCompare argument is NULL then the collating function is</span>
  ** deleted.  ^When all collating functions having the same name are deleted,
  ** that collation is no longer usable.
  **
  ** ^The collating function callback is invoked with a copy of the pArg
  ** application data pointer and with two strings in the encoding specified
<span class="udiff-line-modified-removed">- ** by the eTextRep argument.  The collating function must return an</span>
<span class="udiff-line-modified-removed">- ** integer that is negative, zero, or positive</span>
<span class="udiff-line-modified-added">+ ** by the eTextRep argument.  The two integer parameters to the collating</span>
<span class="udiff-line-modified-added">+ ** function callback are the length of the two strings, in bytes. The collating</span>
<span class="udiff-line-added">+ ** function must return an integer that is negative, zero, or positive</span>
  ** if the first string is less than, equal to, or greater than the second,
  ** respectively.  A collating function must always return the same answer
  ** given the same inputs.  If two or more collating functions are registered
  ** to the same collation name (using different eTextRep values) then all
  ** must give an equivalent answer when invoked with equivalent strings.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5573,11 +5733,11 @@</span>
  ** &lt;li&gt; If A&amp;lt;B THEN B&amp;gt;A.
  ** &lt;li&gt; If A&amp;lt;B and B&amp;lt;C then A&amp;lt;C.
  ** &lt;/ol&gt;
  **
  ** If a collating function fails any of the above constraints and that
<span class="udiff-line-modified-removed">- ** collating function is  registered and used, then the behavior of SQLite</span>
<span class="udiff-line-modified-added">+ ** collating function is registered and used, then the behavior of SQLite</span>
  ** is undefined.
  **
  ** ^The sqlite3_create_collation_v2() works like sqlite3_create_collation()
  ** with the addition that the xDestroy callback is invoked on pArg when
  ** the collating function is deleted.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5900,20 +6060,35 @@</span>
  
  /*
  ** CAPI3REF: Return The Filename For A Database Connection
  ** METHOD: sqlite3
  **
<span class="udiff-line-modified-removed">- ** ^The sqlite3_db_filename(D,N) interface returns a pointer to a filename</span>
<span class="udiff-line-modified-removed">- ** associated with database N of connection D.  ^The main database file</span>
<span class="udiff-line-modified-removed">- ** has the name &quot;main&quot;.  If there is no attached database N on the database</span>
<span class="udiff-line-modified-added">+ ** ^The sqlite3_db_filename(D,N) interface returns a pointer to the filename</span>
<span class="udiff-line-modified-added">+ ** associated with database N of connection D.</span>
<span class="udiff-line-modified-added">+ ** ^If there is no attached database N on the database</span>
  ** connection D, or if database N is a temporary or in-memory database, then
  ** this function will return either a NULL pointer or an empty string.
  **
<span class="udiff-line-added">+ ** ^The string value returned by this routine is owned and managed by</span>
<span class="udiff-line-added">+ ** the database connection.  ^The value will be valid until the database N</span>
<span class="udiff-line-added">+ ** is [DETACH]-ed or until the database connection closes.</span>
<span class="udiff-line-added">+ **</span>
  ** ^The filename returned by this function is the output of the
  ** xFullPathname method of the [VFS].  ^In other words, the filename
  ** will be an absolute pathname, even if the filename used
  ** to open the database originally was a URI or relative pathname.
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** If the filename pointer returned by this routine is not NULL, then it</span>
<span class="udiff-line-added">+ ** can be used as the filename input parameter to these routines:</span>
<span class="udiff-line-added">+ ** &lt;ul&gt;</span>
<span class="udiff-line-added">+ ** &lt;li&gt; [sqlite3_uri_parameter()]</span>
<span class="udiff-line-added">+ ** &lt;li&gt; [sqlite3_uri_boolean()]</span>
<span class="udiff-line-added">+ ** &lt;li&gt; [sqlite3_uri_int64()]</span>
<span class="udiff-line-added">+ ** &lt;li&gt; [sqlite3_filename_database()]</span>
<span class="udiff-line-added">+ ** &lt;li&gt; [sqlite3_filename_journal()]</span>
<span class="udiff-line-added">+ ** &lt;li&gt; [sqlite3_filename_wal()]</span>
<span class="udiff-line-added">+ ** &lt;/ul&gt;</span>
  */
  SQLITE_API const char *sqlite3_db_filename(sqlite3 *db, const char *zDbName);
  
  /*
  ** CAPI3REF: Determine if a database is read-only
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6059,19 +6234,23 @@</span>
  ** In prior versions of SQLite,
  ** sharing was enabled or disabled for each thread separately.
  **
  ** ^(The cache sharing mode set by this interface effects all subsequent
  ** calls to [sqlite3_open()], [sqlite3_open_v2()], and [sqlite3_open16()].
<span class="udiff-line-modified-removed">- ** Existing database connections continue use the sharing mode</span>
<span class="udiff-line-modified-added">+ ** Existing database connections continue to use the sharing mode</span>
  ** that was in effect at the time they were opened.)^
  **
  ** ^(This routine returns [SQLITE_OK] if shared cache was enabled or disabled
  ** successfully.  An [error code] is returned otherwise.)^
  **
<span class="udiff-line-modified-removed">- ** ^Shared cache is disabled by default. But this might change in</span>
<span class="udiff-line-modified-removed">- ** future releases of SQLite.  Applications that care about shared</span>
<span class="udiff-line-modified-removed">- ** cache setting should set it explicitly.</span>
<span class="udiff-line-modified-added">+ ** ^Shared cache is disabled by default. It is recommended that it stay</span>
<span class="udiff-line-modified-added">+ ** that way.  In other words, do not use this routine.  This interface</span>
<span class="udiff-line-modified-added">+ ** continues to be provided for historical compatibility, but its use is</span>
<span class="udiff-line-added">+ ** discouraged.  Any use of shared cache is discouraged.  If shared cache</span>
<span class="udiff-line-added">+ ** must be used, it is recommended that shared cache only be enabled for</span>
<span class="udiff-line-added">+ ** individual database connections using the [sqlite3_open_v2()] interface</span>
<span class="udiff-line-added">+ ** with the [SQLITE_OPEN_SHAREDCACHE] flag.</span>
  **
  ** Note: This method is disabled on MacOS X 10.7 and iOS version 5.0
  ** and will always return SQLITE_MISUSE. On those systems,
  ** shared cache mode should be enabled per-database connection via
  ** [sqlite3_open_v2()] with [SQLITE_OPEN_SHAREDCACHE].
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6114,59 +6293,73 @@</span>
  SQLITE_API int sqlite3_db_release_memory(sqlite3*);
  
  /*
  ** CAPI3REF: Impose A Limit On Heap Size
  **
<span class="udiff-line-added">+ ** These interfaces impose limits on the amount of heap memory that will be</span>
<span class="udiff-line-added">+ ** by all database connections within a single process.</span>
<span class="udiff-line-added">+ **</span>
  ** ^The sqlite3_soft_heap_limit64() interface sets and/or queries the
  ** soft limit on the amount of heap memory that may be allocated by SQLite.
  ** ^SQLite strives to keep heap memory utilization below the soft heap
  ** limit by reducing the number of pages held in the page cache
  ** as heap memory usages approaches the limit.
  ** ^The soft heap limit is &quot;soft&quot; because even though SQLite strives to stay
  ** below the limit, it will exceed the limit rather than generate
  ** an [SQLITE_NOMEM] error.  In other words, the soft heap limit
  ** is advisory only.
  **
<span class="udiff-line-modified-removed">- ** ^The return value from sqlite3_soft_heap_limit64() is the size of</span>
<span class="udiff-line-modified-removed">- ** the soft heap limit prior to the call, or negative in the case of an</span>
<span class="udiff-line-modified-removed">- ** error.  ^If the argument N is negative</span>
<span class="udiff-line-modified-removed">- ** then no change is made to the soft heap limit.  Hence, the current</span>
<span class="udiff-line-modified-removed">- ** size of the soft heap limit can be determined by invoking</span>
<span class="udiff-line-removed">- ** sqlite3_soft_heap_limit64() with a negative argument.</span>
<span class="udiff-line-removed">- **</span>
<span class="udiff-line-removed">- ** ^If the argument N is zero then the soft heap limit is disabled.</span>
<span class="udiff-line-modified-added">+ ** ^The sqlite3_hard_heap_limit64(N) interface sets a hard upper bound of</span>
<span class="udiff-line-modified-added">+ ** N bytes on the amount of memory that will be allocated.  ^The</span>
<span class="udiff-line-modified-added">+ ** sqlite3_hard_heap_limit64(N) interface is similar to</span>
<span class="udiff-line-modified-added">+ ** sqlite3_soft_heap_limit64(N) except that memory allocations will fail</span>
<span class="udiff-line-modified-added">+ ** when the hard heap limit is reached.</span>
  **
<span class="udiff-line-modified-removed">- ** ^(The soft heap limit is not enforced in the current implementation</span>
<span class="udiff-line-modified-added">+ ** ^The return value from both sqlite3_soft_heap_limit64() and</span>
<span class="udiff-line-added">+ ** sqlite3_hard_heap_limit64() is the size of</span>
<span class="udiff-line-added">+ ** the heap limit prior to the call, or negative in the case of an</span>
<span class="udiff-line-added">+ ** error.  ^If the argument N is negative</span>
<span class="udiff-line-added">+ ** then no change is made to the heap limit.  Hence, the current</span>
<span class="udiff-line-added">+ ** size of heap limits can be determined by invoking</span>
<span class="udiff-line-added">+ ** sqlite3_soft_heap_limit64(-1) or sqlite3_hard_heap_limit(-1).</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** ^Setting the heap limits to zero disables the heap limiter mechanism.</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** ^The soft heap limit may not be greater than the hard heap limit.</span>
<span class="udiff-line-added">+ ** ^If the hard heap limit is enabled and if sqlite3_soft_heap_limit(N)</span>
<span class="udiff-line-added">+ ** is invoked with a value of N that is greater than the hard heap limit,</span>
<span class="udiff-line-added">+ ** the the soft heap limit is set to the value of the hard heap limit.</span>
<span class="udiff-line-added">+ ** ^The soft heap limit is automatically enabled whenever the hard heap</span>
<span class="udiff-line-added">+ ** limit is enabled. ^When sqlite3_hard_heap_limit64(N) is invoked and</span>
<span class="udiff-line-added">+ ** the soft heap limit is outside the range of 1..N, then the soft heap</span>
<span class="udiff-line-added">+ ** limit is set to N.  ^Invoking sqlite3_soft_heap_limit64(0) when the</span>
<span class="udiff-line-added">+ ** hard heap limit is enabled makes the soft heap limit equal to the</span>
<span class="udiff-line-added">+ ** hard heap limit.</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** The memory allocation limits can also be adjusted using</span>
<span class="udiff-line-added">+ ** [PRAGMA soft_heap_limit] and [PRAGMA hard_heap_limit].</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** ^(The heap limits are not enforced in the current implementation</span>
  ** if one or more of following conditions are true:
  **
  ** &lt;ul&gt;
<span class="udiff-line-modified-removed">- ** &lt;li&gt; The soft heap limit is set to zero.</span>
<span class="udiff-line-modified-added">+ ** &lt;li&gt; The limit value is set to zero.</span>
  ** &lt;li&gt; Memory accounting is disabled using a combination of the
  **      [sqlite3_config]([SQLITE_CONFIG_MEMSTATUS],...) start-time option and
  **      the [SQLITE_DEFAULT_MEMSTATUS] compile-time option.
  ** &lt;li&gt; An alternative page cache implementation is specified using
  **      [sqlite3_config]([SQLITE_CONFIG_PCACHE2],...).
  ** &lt;li&gt; The page cache allocates from its own memory pool supplied
  **      by [sqlite3_config]([SQLITE_CONFIG_PAGECACHE],...) rather than
  **      from the heap.
  ** &lt;/ul&gt;)^
  **
<span class="udiff-line-modified-removed">- ** Beginning with SQLite [version 3.7.3] ([dateof:3.7.3]),</span>
<span class="udiff-line-removed">- ** the soft heap limit is enforced</span>
<span class="udiff-line-removed">- ** regardless of whether or not the [SQLITE_ENABLE_MEMORY_MANAGEMENT]</span>
<span class="udiff-line-removed">- ** compile-time option is invoked.  With [SQLITE_ENABLE_MEMORY_MANAGEMENT],</span>
<span class="udiff-line-removed">- ** the soft heap limit is enforced on every memory allocation.  Without</span>
<span class="udiff-line-removed">- ** [SQLITE_ENABLE_MEMORY_MANAGEMENT], the soft heap limit is only enforced</span>
<span class="udiff-line-removed">- ** when memory is allocated by the page cache.  Testing suggests that because</span>
<span class="udiff-line-removed">- ** the page cache is the predominate memory user in SQLite, most</span>
<span class="udiff-line-removed">- ** applications will achieve adequate soft heap limit enforcement without</span>
<span class="udiff-line-removed">- ** the use of [SQLITE_ENABLE_MEMORY_MANAGEMENT].</span>
<span class="udiff-line-removed">- **</span>
<span class="udiff-line-removed">- ** The circumstances under which SQLite will enforce the soft heap limit may</span>
<span class="udiff-line-modified-added">+ ** The circumstances under which SQLite will enforce the heap limits may</span>
  ** changes in future releases of SQLite.
  */
  SQLITE_API sqlite3_int64 sqlite3_soft_heap_limit64(sqlite3_int64 N);
<span class="udiff-line-added">+ SQLITE_API sqlite3_int64 sqlite3_hard_heap_limit64(sqlite3_int64 N);</span>
  
  /*
  ** CAPI3REF: Deprecated Soft Heap Limit Interface
  ** DEPRECATED
  **
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6186,11 +6379,11 @@</span>
  ** information about column C of table T in database D
  ** on [database connection] X.)^  ^The sqlite3_table_column_metadata()
  ** interface returns SQLITE_OK and fills in the non-NULL pointers in
  ** the final five arguments with appropriate values if the specified
  ** column exists.  ^The sqlite3_table_column_metadata() interface returns
<span class="udiff-line-modified-removed">- ** SQLITE_ERROR and if the specified column does not exist.</span>
<span class="udiff-line-modified-added">+ ** SQLITE_ERROR if the specified column does not exist.</span>
  ** ^If the column-name parameter to sqlite3_table_column_metadata() is a
  ** NULL pointer, then this routine simply checks for the existence of the
  ** table and returns SQLITE_OK if the table exists and SQLITE_ERROR if it
  ** does not.  If the table name parameter T in a call to
  ** sqlite3_table_column_metadata(X,D,T,C,...) is NULL then the result is
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6328,11 +6521,11 @@</span>
  ** [sqlite3_load_extension()] and the SQL function [load_extension()].
  ** ^(Use [sqlite3_db_config](db,[SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION],..)
  ** to enable or disable only the C-API.)^
  **
  ** &lt;b&gt;Security warning:&lt;/b&gt; It is recommended that extension loading
<span class="udiff-line-modified-removed">- ** be disabled using the [SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION] method</span>
<span class="udiff-line-modified-added">+ ** be enabled using the [SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION] method</span>
  ** rather than this interface, so the [load_extension()] SQL function
  ** remains disabled. This will prevent SQL injections from giving attackers
  ** access to extension loading capabilities.
  */
  SQLITE_API int sqlite3_enable_load_extension(sqlite3 *db, int onoff);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6415,11 +6608,11 @@</span>
  /*
  ** CAPI3REF: Virtual Table Object
  ** KEYWORDS: sqlite3_module {virtual table module}
  **
  ** This structure, sometimes called a &quot;virtual table module&quot;,
<span class="udiff-line-modified-removed">- ** defines the implementation of a [virtual tables].</span>
<span class="udiff-line-modified-added">+ ** defines the implementation of a [virtual table].</span>
  ** This structure consists mostly of methods for the module.
  **
  ** ^A virtual table module is created by filling in a persistent
  ** instance of this structure and passing a pointer to that instance
  ** to [sqlite3_create_module()] or [sqlite3_create_module_v2()].
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6512,11 +6705,17 @@</span>
  ** The [xBestIndex] method must fill aConstraintUsage[] with information
  ** about what parameters to pass to xFilter.  ^If argvIndex&gt;0 then
  ** the right-hand side of the corresponding aConstraint[] is evaluated
  ** and becomes the argvIndex-th entry in argv.  ^(If aConstraintUsage[].omit
  ** is true, then the constraint is assumed to be fully handled by the
<span class="udiff-line-modified-removed">- ** virtual table and is not checked again by SQLite.)^</span>
<span class="udiff-line-modified-added">+ ** virtual table and might not be checked again by the byte code.)^ ^(The</span>
<span class="udiff-line-added">+ ** aConstraintUsage[].omit flag is an optimization hint. When the omit flag</span>
<span class="udiff-line-added">+ ** is left in its default setting of false, the constraint will always be</span>
<span class="udiff-line-added">+ ** checked separately in byte code.  If the omit flag is change to true, then</span>
<span class="udiff-line-added">+ ** the constraint may or may not be checked in byte code.  In other words,</span>
<span class="udiff-line-added">+ ** when the omit flag is true there is no guarantee that the constraint will</span>
<span class="udiff-line-added">+ ** not be checked again using byte code.)^</span>
  **
  ** ^The idxNum and idxPtr values are recorded and passed into the
  ** [xFilter] method.
  ** ^[sqlite3_free()] is used to free idxPtr if and only if
  ** needToFreeIdxPtr is true.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6552,11 +6751,11 @@</span>
  ** IMPORTANT: The estimatedRows field was added to the sqlite3_index_info
  ** structure for SQLite [version 3.8.2] ([dateof:3.8.2]).
  ** If a virtual table extension is
  ** used with an SQLite version earlier than 3.8.2, the results of attempting
  ** to read or write the estimatedRows field are undefined (but are likely
<span class="udiff-line-modified-removed">- ** to included crashing the application). The estimatedRows field should</span>
<span class="udiff-line-modified-added">+ ** to include crashing the application). The estimatedRows field should</span>
  ** therefore only be used if [sqlite3_libversion_number()] returns a
  ** value greater than or equal to 3008002. Similarly, the idxFlags field
  ** was added for [version 3.9.0] ([dateof:3.9.0]).
  ** It may therefore only be used if
  ** sqlite3_libversion_number() returns a value greater than or equal to
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6604,11 +6803,11 @@</span>
  #define SQLITE_INDEX_SCAN_UNIQUE      1     /* Scan visits at most 1 row */
  
  /*
  ** CAPI3REF: Virtual Table Constraint Operator Codes
  **
<span class="udiff-line-modified-removed">- ** These macros defined the allowed values for the</span>
<span class="udiff-line-modified-added">+ ** These macros define the allowed values for the</span>
  ** [sqlite3_index_info].aConstraint[].op field.  Each value represents
  ** an operator that is part of a constraint term in the wHERE clause of
  ** a query that uses a [virtual table].
  */
  #define SQLITE_INDEX_CONSTRAINT_EQ         2
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7214,11 +7413,11 @@</span>
  ** &lt;/ul&gt;)^
  **
  ** The only difference is that the public sqlite3_XXX functions enumerated
  ** above silently ignore any invocations that pass a NULL pointer instead
  ** of a valid mutex handle. The implementations of the methods defined
<span class="udiff-line-modified-removed">- ** by this structure are not required to handle this case, the results</span>
<span class="udiff-line-modified-added">+ ** by this structure are not required to handle this case. The results</span>
  ** of passing a NULL pointer instead of a valid mutex handle are undefined
  ** (i.e. it is acceptable to provide an implementation that segfaults if
  ** it is passed a NULL pointer).
  **
  ** The xMutexInit() method must be threadsafe.  It must be harmless to
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7687,11 +7886,11 @@</span>
  ** [SQLITE_CONFIG_PAGECACHE]) and allocations that overflowed because
  ** no space was left in the page cache.&lt;/dd&gt;)^
  **
  ** [[SQLITE_STATUS_PAGECACHE_SIZE]] ^(&lt;dt&gt;SQLITE_STATUS_PAGECACHE_SIZE&lt;/dt&gt;
  ** &lt;dd&gt;This parameter records the largest memory allocation request
<span class="udiff-line-modified-removed">- ** handed to [pagecache memory allocator].  Only the value returned in the</span>
<span class="udiff-line-modified-added">+ ** handed to the [pagecache memory allocator].  Only the value returned in the</span>
  ** *pHighwater parameter to [sqlite3_status()] is of interest.
  ** The value written into the *pCurrent parameter is undefined.&lt;/dd&gt;)^
  **
  ** [[SQLITE_STATUS_SCRATCH_USED]] &lt;dt&gt;SQLITE_STATUS_SCRATCH_USED&lt;/dt&gt;
  ** &lt;dd&gt;No longer used.&lt;/dd&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7763,11 +7962,11 @@</span>
  ** [[SQLITE_DBSTATUS_LOOKASIDE_USED]] ^(&lt;dt&gt;SQLITE_DBSTATUS_LOOKASIDE_USED&lt;/dt&gt;
  ** &lt;dd&gt;This parameter returns the number of lookaside memory slots currently
  ** checked out.&lt;/dd&gt;)^
  **
  ** [[SQLITE_DBSTATUS_LOOKASIDE_HIT]] ^(&lt;dt&gt;SQLITE_DBSTATUS_LOOKASIDE_HIT&lt;/dt&gt;
<span class="udiff-line-modified-removed">- ** &lt;dd&gt;This parameter returns the number malloc attempts that were</span>
<span class="udiff-line-modified-added">+ ** &lt;dd&gt;This parameter returns the number of malloc attempts that were</span>
  ** satisfied using lookaside memory. Only the high-water value is meaningful;
  ** the current value is always zero.)^
  **
  ** [[SQLITE_DBSTATUS_LOOKASIDE_MISS_SIZE]]
  ** ^(&lt;dt&gt;SQLITE_DBSTATUS_LOOKASIDE_MISS_SIZE&lt;/dt&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7845,11 +8044,11 @@</span>
  ** &lt;dd&gt;This parameter returns the number of dirty cache entries that have
  ** been written to disk in the middle of a transaction due to the page
  ** cache overflowing. Transactions are more efficient if they are written
  ** to disk all at once. When pages spill mid-transaction, that introduces
  ** additional overhead. This parameter can be used help identify
<span class="udiff-line-modified-removed">- ** inefficiencies that can be resolve by increasing the cache size.</span>
<span class="udiff-line-modified-added">+ ** inefficiencies that can be resolved by increasing the cache size.</span>
  ** &lt;/dd&gt;
  **
  ** [[SQLITE_DBSTATUS_DEFERRED_FKS]] ^(&lt;dt&gt;SQLITE_DBSTATUS_DEFERRED_FKS&lt;/dt&gt;
  ** &lt;dd&gt;This parameter returns zero for the current value if and only if
  ** all foreign key constraints (deferred or immediate) have been
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7934,11 +8133,11 @@</span>
  ** If the number of virtual machine operations exceeds 2147483647
  ** then the value returned by this statement status code is undefined.
  **
  ** [[SQLITE_STMTSTATUS_REPREPARE]] &lt;dt&gt;SQLITE_STMTSTATUS_REPREPARE&lt;/dt&gt;
  ** &lt;dd&gt;^This is the number of times that the prepare statement has been
<span class="udiff-line-modified-removed">- ** automatically regenerated due to schema changes or change to</span>
<span class="udiff-line-modified-added">+ ** automatically regenerated due to schema changes or changes to</span>
  ** [bound parameters] that might affect the query plan.
  **
  ** [[SQLITE_STMTSTATUS_RUN]] &lt;dt&gt;SQLITE_STMTSTATUS_RUN&lt;/dt&gt;
  ** &lt;dd&gt;^This is the number of times that the prepared statement has
  ** been run.  A single &quot;run&quot; for the purposes of this counter is one
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -8105,11 +8304,11 @@</span>
  **                 NULL if allocating a new page is effectively impossible.
  ** &lt;/table&gt;
  **
  ** ^(SQLite will normally invoke xFetch() with a createFlag of 0 or 1.  SQLite
  ** will only use a createFlag of 2 after a prior call with a createFlag of 1
<span class="udiff-line-modified-removed">- ** failed.)^  In between the to xFetch() calls, SQLite may</span>
<span class="udiff-line-modified-added">+ ** failed.)^  In between the xFetch() calls, SQLite may</span>
  ** attempt to unpin one or more cache pages by spilling the content of
  ** pinned pages to disk and synching the operating system disk cache.
  **
  ** [[the xUnpin() page cache method]]
  ** ^xUnpin() is called by SQLite with a pointer to a currently pinned page
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -8423,11 +8622,11 @@</span>
  ** application receives an SQLITE_LOCKED error, it may call the
  ** sqlite3_unlock_notify() method with the blocked connection handle as
  ** the first argument to register for a callback that will be invoked
  ** when the blocking connections current transaction is concluded. ^The
  ** callback is invoked from within the [sqlite3_step] or [sqlite3_close]
<span class="udiff-line-modified-removed">- ** call that concludes the blocking connections transaction.</span>
<span class="udiff-line-modified-added">+ ** call that concludes the blocking connection&#39;s transaction.</span>
  **
  ** ^(If sqlite3_unlock_notify() is called in a multi-threaded application,
  ** there is a chance that the blocking connection will have already
  ** concluded its transaction by the time sqlite3_unlock_notify() is invoked.
  ** If this happens, then the specified callback is invoked immediately,
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -8461,11 +8660,11 @@</span>
  ** However, the signature of the callback function allows SQLite to pass
  ** it an array of void* context pointers. The first argument passed to
  ** an unlock-notify callback is a pointer to an array of void* pointers,
  ** and the second is the number of entries in the array.
  **
<span class="udiff-line-modified-removed">- ** When a blocking connections transaction is concluded, there may be</span>
<span class="udiff-line-modified-added">+ ** When a blocking connection&#39;s transaction is concluded, there may be</span>
  ** more than one blocked connection that has registered for an unlock-notify
  ** callback. ^If two or more such blocked connections have specified the
  ** same callback function, then instead of invoking the callback function
  ** multiple times, it is invoked once with the set of void* context pointers
  ** specified by the blocked connections bundled together into an array.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -8809,26 +9008,32 @@</span>
  ** various facets of the virtual table interface.
  **
  ** If this interface is invoked outside the context of an xConnect or
  ** xCreate virtual table method then the behavior is undefined.
  **
<span class="udiff-line-modified-removed">- ** At present, there is only one option that may be configured using</span>
<span class="udiff-line-modified-removed">- ** this function. (See [SQLITE_VTAB_CONSTRAINT_SUPPORT].)  Further options</span>
<span class="udiff-line-modified-removed">- ** may be added in the future.</span>
<span class="udiff-line-modified-added">+ ** In the call sqlite3_vtab_config(D,C,...) the D parameter is the</span>
<span class="udiff-line-modified-added">+ ** [database connection] in which the virtual table is being created and</span>
<span class="udiff-line-modified-added">+ ** which is passed in as the first argument to the [xConnect] or [xCreate]</span>
<span class="udiff-line-added">+ ** method that is invoking sqlite3_vtab_config().  The C parameter is one</span>
<span class="udiff-line-added">+ ** of the [virtual table configuration options].  The presence and meaning</span>
<span class="udiff-line-added">+ ** of parameters after C depend on which [virtual table configuration option]</span>
<span class="udiff-line-added">+ ** is used.</span>
  */
  SQLITE_API int sqlite3_vtab_config(sqlite3*, int op, ...);
  
  /*
  ** CAPI3REF: Virtual Table Configuration Options
<span class="udiff-line-added">+ ** KEYWORDS: {virtual table configuration options}</span>
<span class="udiff-line-added">+ ** KEYWORDS: {virtual table configuration option}</span>
  **
  ** These macros define the various options to the
  ** [sqlite3_vtab_config()] interface that [virtual table] implementations
  ** can use to customize and optimize their behavior.
  **
  ** &lt;dl&gt;
  ** [[SQLITE_VTAB_CONSTRAINT_SUPPORT]]
<span class="udiff-line-modified-removed">- ** &lt;dt&gt;SQLITE_VTAB_CONSTRAINT_SUPPORT</span>
<span class="udiff-line-modified-added">+ ** &lt;dt&gt;SQLITE_VTAB_CONSTRAINT_SUPPORT&lt;/dt&gt;</span>
  ** &lt;dd&gt;Calls of the form
  ** [sqlite3_vtab_config](db,SQLITE_VTAB_CONSTRAINT_SUPPORT,X) are supported,
  ** where X is an integer.  If X is zero, then the [virtual table] whose
  ** [xCreate] or [xConnect] method invoked [sqlite3_vtab_config()] does not
  ** support constraints.  In this configuration (which is the default) if
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -8853,13 +9058,35 @@</span>
  ** CONFLICT policy is REPLACE, the virtual table implementation should
  ** silently replace the appropriate rows within the xUpdate callback and
  ** return SQLITE_OK. Or, if this is not possible, it may return
  ** SQLITE_CONSTRAINT, in which case SQLite falls back to OR ABORT
  ** constraint handling.
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** [[SQLITE_VTAB_DIRECTONLY]]&lt;dt&gt;SQLITE_VTAB_DIRECTONLY&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;Calls of the form</span>
<span class="udiff-line-added">+ ** [sqlite3_vtab_config](db,SQLITE_VTAB_DIRECTONLY) from within the</span>
<span class="udiff-line-added">+ ** the [xConnect] or [xCreate] methods of a [virtual table] implmentation</span>
<span class="udiff-line-added">+ ** prohibits that virtual table from being used from within triggers and</span>
<span class="udiff-line-added">+ ** views.</span>
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
<span class="udiff-line-added">+ **</span>
<span class="udiff-line-added">+ ** [[SQLITE_VTAB_INNOCUOUS]]&lt;dt&gt;SQLITE_VTAB_INNOCUOUS&lt;/dt&gt;</span>
<span class="udiff-line-added">+ ** &lt;dd&gt;Calls of the form</span>
<span class="udiff-line-added">+ ** [sqlite3_vtab_config](db,SQLITE_VTAB_INNOCUOUS) from within the</span>
<span class="udiff-line-added">+ ** the [xConnect] or [xCreate] methods of a [virtual table] implmentation</span>
<span class="udiff-line-added">+ ** identify that virtual table as being safe to use from within triggers</span>
<span class="udiff-line-added">+ ** and views.  Conceptually, the SQLITE_VTAB_INNOCUOUS tag means that the</span>
<span class="udiff-line-added">+ ** virtual table can do no serious harm even if it is controlled by a</span>
<span class="udiff-line-added">+ ** malicious hacker.  Developers should avoid setting the SQLITE_VTAB_INNOCUOUS</span>
<span class="udiff-line-added">+ ** flag unless absolutely necessary.</span>
<span class="udiff-line-added">+ ** &lt;/dd&gt;</span>
  ** &lt;/dl&gt;
  */
  #define SQLITE_VTAB_CONSTRAINT_SUPPORT 1
<span class="udiff-line-added">+ #define SQLITE_VTAB_INNOCUOUS          2</span>
<span class="udiff-line-added">+ #define SQLITE_VTAB_DIRECTONLY         3</span>
  
  /*
  ** CAPI3REF: Determine The Virtual Table Conflict Policy
  **
  ** This function may only be called from within a call to the [xUpdate] method
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -8935,37 +9162,37 @@</span>
  ** managed by the prepared statement S and will be automatically freed when
  ** S is finalized.
  **
  ** &lt;dl&gt;
  ** [[SQLITE_SCANSTAT_NLOOP]] &lt;dt&gt;SQLITE_SCANSTAT_NLOOP&lt;/dt&gt;
<span class="udiff-line-modified-removed">- ** &lt;dd&gt;^The [sqlite3_int64] variable pointed to by the T parameter will be</span>
<span class="udiff-line-modified-added">+ ** &lt;dd&gt;^The [sqlite3_int64] variable pointed to by the V parameter will be</span>
  ** set to the total number of times that the X-th loop has run.&lt;/dd&gt;
  **
  ** [[SQLITE_SCANSTAT_NVISIT]] &lt;dt&gt;SQLITE_SCANSTAT_NVISIT&lt;/dt&gt;
<span class="udiff-line-modified-removed">- ** &lt;dd&gt;^The [sqlite3_int64] variable pointed to by the T parameter will be set</span>
<span class="udiff-line-modified-added">+ ** &lt;dd&gt;^The [sqlite3_int64] variable pointed to by the V parameter will be set</span>
  ** to the total number of rows examined by all iterations of the X-th loop.&lt;/dd&gt;
  **
  ** [[SQLITE_SCANSTAT_EST]] &lt;dt&gt;SQLITE_SCANSTAT_EST&lt;/dt&gt;
<span class="udiff-line-modified-removed">- ** &lt;dd&gt;^The &quot;double&quot; variable pointed to by the T parameter will be set to the</span>
<span class="udiff-line-modified-added">+ ** &lt;dd&gt;^The &quot;double&quot; variable pointed to by the V parameter will be set to the</span>
  ** query planner&#39;s estimate for the average number of rows output from each
  ** iteration of the X-th loop.  If the query planner&#39;s estimates was accurate,
  ** then this value will approximate the quotient NVISIT/NLOOP and the
  ** product of this value for all prior loops with the same SELECTID will
  ** be the NLOOP value for the current loop.
  **
  ** [[SQLITE_SCANSTAT_NAME]] &lt;dt&gt;SQLITE_SCANSTAT_NAME&lt;/dt&gt;
<span class="udiff-line-modified-removed">- ** &lt;dd&gt;^The &quot;const char *&quot; variable pointed to by the T parameter will be set</span>
<span class="udiff-line-modified-added">+ ** &lt;dd&gt;^The &quot;const char *&quot; variable pointed to by the V parameter will be set</span>
  ** to a zero-terminated UTF-8 string containing the name of the index or table
  ** used for the X-th loop.
  **
  ** [[SQLITE_SCANSTAT_EXPLAIN]] &lt;dt&gt;SQLITE_SCANSTAT_EXPLAIN&lt;/dt&gt;
<span class="udiff-line-modified-removed">- ** &lt;dd&gt;^The &quot;const char *&quot; variable pointed to by the T parameter will be set</span>
<span class="udiff-line-modified-added">+ ** &lt;dd&gt;^The &quot;const char *&quot; variable pointed to by the V parameter will be set</span>
  ** to a zero-terminated UTF-8 string containing the [EXPLAIN QUERY PLAN]
  ** description for the X-th loop.
  **
  ** [[SQLITE_SCANSTAT_SELECTID]] &lt;dt&gt;SQLITE_SCANSTAT_SELECT&lt;/dt&gt;
<span class="udiff-line-modified-removed">- ** &lt;dd&gt;^The &quot;int&quot; variable pointed to by the T parameter will be set to the</span>
<span class="udiff-line-modified-added">+ ** &lt;dd&gt;^The &quot;int&quot; variable pointed to by the V parameter will be set to the</span>
  ** &quot;select-id&quot; for the X-th loop.  The select-id identifies which query or
  ** subquery the loop is part of.  The main query has a select-id of zero.
  ** The select-id is the same value as is output in the first column
  ** of an [EXPLAIN QUERY PLAN] query.
  ** &lt;/dl&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -9816,11 +10043,11 @@</span>
  ** METHOD: sqlite3_session
  **
  ** The second argument (xFilter) is the &quot;filter callback&quot;. For changes to rows
  ** in tables that are not attached to the Session object, the filter is called
  ** to determine whether changes to the table&#39;s rows should be tracked or not.
<span class="udiff-line-modified-removed">- ** If xFilter returns 0, changes is not tracked. Note that once a table is</span>
<span class="udiff-line-modified-added">+ ** If xFilter returns 0, changes are not tracked. Note that once a table is</span>
  ** attached, xFilter will not be called again.
  */
  SQLITE_API void sqlite3session_table_filter(
    sqlite3_session *pSession,      /* Session object */
    int(*xFilter)(
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -9990,11 +10217,11 @@</span>
  ** identical.
  **
  ** It an error if database zFrom does not exist or does not contain the
  ** required compatible table.
  **
<span class="udiff-line-modified-removed">- ** If the operation successful, SQLITE_OK is returned. Otherwise, an SQLite</span>
<span class="udiff-line-modified-added">+ ** If the operation is successful, SQLITE_OK is returned. Otherwise, an SQLite</span>
  ** error code. In this case, if argument pzErrMsg is not NULL, *pzErrMsg
  ** may be set to point to a buffer containing an English language error
  ** message. It is the responsibility of the caller to free this buffer using
  ** sqlite3_free().
  */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -10127,11 +10354,11 @@</span>
  
  /*
  ** CAPI3REF: Advance A Changeset Iterator
  ** METHOD: sqlite3_changeset_iter
  **
<span class="udiff-line-modified-removed">- ** This function may only be used with iterators created by function</span>
<span class="udiff-line-modified-added">+ ** This function may only be used with iterators created by the function</span>
  ** [sqlite3changeset_start()]. If it is called on an iterator passed to
  ** a conflict-handler callback by [sqlite3changeset_apply()], SQLITE_MISUSE
  ** is returned and the call has no effect.
  **
  ** Immediately after an iterator is created by sqlite3changeset_start(), it
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -10543,12 +10770,12 @@</span>
  ** in the changegroup, then the number of columns and the position of the
  ** primary key columns for the table must be consistent. If this is not the
  ** case, this function fails with SQLITE_SCHEMA. If the input changeset
  ** appears to be corrupt and the corruption is detected, SQLITE_CORRUPT is
  ** returned. Or, if an out-of-memory condition occurs during processing, this
<span class="udiff-line-modified-removed">- ** function returns SQLITE_NOMEM. In all cases, if an error occurs the</span>
<span class="udiff-line-modified-removed">- ** final contents of the changegroup is undefined.</span>
<span class="udiff-line-modified-added">+ ** function returns SQLITE_NOMEM. In all cases, if an error occurs the state</span>
<span class="udiff-line-modified-added">+ ** of the final contents of the changegroup is undefined.</span>
  **
  ** If no error occurs, SQLITE_OK is returned.
  */
  SQLITE_API int sqlite3changegroup_add(sqlite3_changegroup*, int nData, void *pData);
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -10719,11 +10946,11 @@</span>
  **   [SQLITE_CHANGESET_REPLACE].
  ** &lt;/dl&gt;
  **
  ** It is safe to execute SQL statements, including those that write to the
  ** table that the callback related to, from within the xConflict callback.
<span class="udiff-line-modified-removed">- ** This can be used to further customize the applications conflict</span>
<span class="udiff-line-modified-added">+ ** This can be used to further customize the application&#39;s conflict</span>
  ** resolution strategy.
  **
  ** All changes made by these functions are enclosed in a savepoint transaction.
  ** If any other error (aside from a constraint failure when attempting to
  ** write to the target database) occurs, then the savepoint transaction is
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -11029,11 +11256,11 @@</span>
  ** CAPI3REF: Rebase a changeset
  ** EXPERIMENTAL
  **
  ** Argument pIn must point to a buffer containing a changeset nIn bytes
  ** in size. This function allocates and populates a buffer with a copy
<span class="udiff-line-modified-removed">- ** of the changeset rebased rebased according to the configuration of the</span>
<span class="udiff-line-modified-added">+ ** of the changeset rebased according to the configuration of the</span>
  ** rebaser object passed as the first argument. If successful, (*ppOut)
  ** is set to point to the new buffer containing the rebased changeset and
  ** (*pnOut) to its size in bytes and SQLITE_OK returned. It is the
  ** responsibility of the caller to eventually free the new buffer using
  ** sqlite3_free(). Otherwise, if an error occurs, (*ppOut) and (*pnOut)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -11437,11 +11664,11 @@</span>
  **   the callback, an SQLite error code is returned.
  **
  **
  ** xSetAuxdata(pFts5, pAux, xDelete)
  **
<span class="udiff-line-modified-removed">- **   Save the pointer passed as the second argument as the extension functions</span>
<span class="udiff-line-modified-added">+ **   Save the pointer passed as the second argument as the extension function&#39;s</span>
  **   &quot;auxiliary data&quot;. The pointer may then be retrieved by the current or any
  **   future invocation of the same fts5 extension function made as part of
  **   the same MATCH query using the xGetAuxdata() API.
  **
  **   Each extension function is allocated a single auxiliary data slot for
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -11679,12 +11906,12 @@</span>
  **   all instances of &quot;first place&quot; or &quot;1st place&quot; regardless of which form
  **   the user specified in the MATCH query text.
  **
  **   There are several ways to approach this in FTS5:
  **
<span class="udiff-line-modified-removed">- **   &lt;ol&gt;&lt;li&gt; By mapping all synonyms to a single token. In this case, the</span>
<span class="udiff-line-modified-removed">- **            In the above example, this means that the tokenizer returns the</span>
<span class="udiff-line-modified-added">+ **   &lt;ol&gt;&lt;li&gt; By mapping all synonyms to a single token. In this case, using</span>
<span class="udiff-line-modified-added">+ **            the above example, this means that the tokenizer returns the</span>
  **            same token for inputs &quot;first&quot; and &quot;1st&quot;. Say that token is in
  **            fact &quot;first&quot;, so that when the user inserts the document &quot;I won
  **            1st place&quot; entries are added to the index for tokens &quot;i&quot;, &quot;won&quot;,
  **            &quot;first&quot; and &quot;place&quot;. If the user then queries for &#39;1st + place&#39;,
  **            the tokenizer substitutes &quot;first&quot; for &quot;1st&quot; and the query works
</pre>
<center><a href="sqlite3.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="sqlite3ext.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>