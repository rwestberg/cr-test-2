<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.web/src/main/java/com/sun/javafx/webkit/KeyCodeMap.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2011, 2014, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package com.sun.javafx.webkit;
 27 
 28 import com.sun.webkit.event.WCKeyEvent;
 29 import java.util.Collections;
 30 import java.util.HashMap;
 31 import java.util.Map;
 32 import javafx.scene.input.KeyCode;
 33 
 34 /**
 35  * The static mapping from JavaFX {@code KeyCode}s to Windows virtual key
 36  * codes and WebKit key identifiers.
 37  * For why there is a need to map to Windows virtual key codes and WebKit
 38  * key identifiers, see Source/WebCore/platform/PlatformKeyboardEvent.h,
 39  * Source/WebKit/chromium/public/WebInputEvent.h
 40  * (WebKeyboardEvent::windowsKeyCode and WebKeyboardEvent::nativeKeyCode),
 41  * and Source/WebCore/platform/chromium/KeyboardCodes.h.
 42  */
 43 public final class KeyCodeMap {
 44 
 45     /**
 46      * The information associated with a {@code KeyCode}.
 47      */
 48     public static final class Entry {
 49         private final int windowsVirtualKeyCode;
 50         private final String keyIdentifier;
 51 
 52         private Entry(int windowsVirtualKeyCode, String keyIdentifier) {
 53             this.windowsVirtualKeyCode = windowsVirtualKeyCode;
 54             this.keyIdentifier = keyIdentifier;
 55         }
 56 
 57         public int getWindowsVirtualKeyCode() {
 58             return windowsVirtualKeyCode;
 59         }
 60 
 61         public String getKeyIdentifier() {
 62             return keyIdentifier;
 63         }
 64     };
 65 
 66 
 67     private static final Map&lt;KeyCode,Entry&gt; MAP;
 68     static {
 69         Map&lt;KeyCode,Entry&gt; map = new HashMap&lt;KeyCode,Entry&gt;();
 70 
 71         put(map, KeyCode.ENTER, WCKeyEvent.VK_RETURN, &quot;Enter&quot;);
 72         put(map, KeyCode.BACK_SPACE, WCKeyEvent.VK_BACK);
 73         put(map, KeyCode.TAB, WCKeyEvent.VK_TAB);
 74         put(map, KeyCode.CANCEL, 0x03);
 75         put(map, KeyCode.CLEAR, 0x0C, &quot;Clear&quot;);
 76         put(map, KeyCode.SHIFT, 0x10, &quot;Shift&quot;);
 77         put(map, KeyCode.CONTROL, 0x11, &quot;Control&quot;);
 78         put(map, KeyCode.ALT, 0x12, &quot;Alt&quot;);
 79         put(map, KeyCode.PAUSE, 0x13, &quot;Pause&quot;);
 80         put(map, KeyCode.CAPS, 0x14, &quot;CapsLock&quot;);
 81         put(map, KeyCode.ESCAPE, WCKeyEvent.VK_ESCAPE);
 82         put(map, KeyCode.SPACE, 0x20);
 83         put(map, KeyCode.PAGE_UP, WCKeyEvent.VK_PRIOR, &quot;PageUp&quot;);
 84         put(map, KeyCode.PAGE_DOWN, WCKeyEvent.VK_NEXT, &quot;PageDown&quot;);
 85         put(map, KeyCode.END, WCKeyEvent.VK_END, &quot;End&quot;);
 86         put(map, KeyCode.HOME, WCKeyEvent.VK_HOME, &quot;Home&quot;);
 87         put(map, KeyCode.LEFT, WCKeyEvent.VK_LEFT, &quot;Left&quot;);
 88         put(map, KeyCode.UP, WCKeyEvent.VK_UP, &quot;Up&quot;);
 89         put(map, KeyCode.RIGHT, WCKeyEvent.VK_RIGHT, &quot;Right&quot;);
 90         put(map, KeyCode.DOWN, WCKeyEvent.VK_DOWN, &quot;Down&quot;);
 91         put(map, KeyCode.COMMA, 0xBC);
 92         put(map, KeyCode.MINUS, 0xBD);
 93         put(map, KeyCode.PERIOD, WCKeyEvent.VK_OEM_PERIOD);
 94         put(map, KeyCode.SLASH, 0xBF);
 95         put(map, KeyCode.DIGIT0, 0x30);
 96         put(map, KeyCode.DIGIT1, 0x31);
 97         put(map, KeyCode.DIGIT2, 0x32);
 98         put(map, KeyCode.DIGIT3, 0x33);
 99         put(map, KeyCode.DIGIT4, 0x34);
100         put(map, KeyCode.DIGIT5, 0x35);
101         put(map, KeyCode.DIGIT6, 0x36);
102         put(map, KeyCode.DIGIT7, 0x37);
103         put(map, KeyCode.DIGIT8, 0x38);
104         put(map, KeyCode.DIGIT9, 0x39);
105         put(map, KeyCode.SEMICOLON, 0xBA);
106         put(map, KeyCode.EQUALS, 0xBB);
107         put(map, KeyCode.A, 0x41);
108         put(map, KeyCode.B, 0x42);
109         put(map, KeyCode.C, 0x43);
110         put(map, KeyCode.D, 0x44);
111         put(map, KeyCode.E, 0x45);
112         put(map, KeyCode.F, 0x46);
113         put(map, KeyCode.G, 0x47);
114         put(map, KeyCode.H, 0x48);
115         put(map, KeyCode.I, 0x49);
116         put(map, KeyCode.J, 0x4A);
117         put(map, KeyCode.K, 0x4B);
118         put(map, KeyCode.L, 0x4C);
119         put(map, KeyCode.M, 0x4D);
120         put(map, KeyCode.N, 0x4E);
121         put(map, KeyCode.O, 0x4F);
122         put(map, KeyCode.P, 0x50);
123         put(map, KeyCode.Q, 0x51);
124         put(map, KeyCode.R, 0x52);
125         put(map, KeyCode.S, 0x53);
126         put(map, KeyCode.T, 0x54);
127         put(map, KeyCode.U, 0x55);
128         put(map, KeyCode.V, 0x56);
129         put(map, KeyCode.W, 0x57);
130         put(map, KeyCode.X, 0x58);
131         put(map, KeyCode.Y, 0x59);
132         put(map, KeyCode.Z, 0x5A);
133         put(map, KeyCode.OPEN_BRACKET, 0xDB);
134         put(map, KeyCode.BACK_SLASH, 0xDC);
135         put(map, KeyCode.CLOSE_BRACKET, 0xDD);
136         put(map, KeyCode.NUMPAD0, 0x60);
137         put(map, KeyCode.NUMPAD1, 0x61);
138         put(map, KeyCode.NUMPAD2, 0x62);
139         put(map, KeyCode.NUMPAD3, 0x63);
140         put(map, KeyCode.NUMPAD4, 0x64);
141         put(map, KeyCode.NUMPAD5, 0x65);
142         put(map, KeyCode.NUMPAD6, 0x66);
143         put(map, KeyCode.NUMPAD7, 0x67);
144         put(map, KeyCode.NUMPAD8, 0x68);
145         put(map, KeyCode.NUMPAD9, 0x69);
146         put(map, KeyCode.MULTIPLY, 0x6A);
147         put(map, KeyCode.ADD, 0x6B);
148         put(map, KeyCode.SEPARATOR, 0x6C);
149         put(map, KeyCode.SUBTRACT, 0x6D);
150         put(map, KeyCode.DECIMAL, 0x6E);
151         put(map, KeyCode.DIVIDE, 0x6F);
152         put(map, KeyCode.DELETE, WCKeyEvent.VK_DELETE, &quot;U+007F&quot;);
153         put(map, KeyCode.NUM_LOCK, 0x90);
154         put(map, KeyCode.SCROLL_LOCK, 0x91, &quot;Scroll&quot;);
155         put(map, KeyCode.F1, 0x70, &quot;F1&quot;);
156         put(map, KeyCode.F2, 0x71, &quot;F2&quot;);
157         put(map, KeyCode.F3, 0x72, &quot;F3&quot;);
158         put(map, KeyCode.F4, 0x73, &quot;F4&quot;);
159         put(map, KeyCode.F5, 0x74, &quot;F5&quot;);
160         put(map, KeyCode.F6, 0x75, &quot;F6&quot;);
161         put(map, KeyCode.F7, 0x76, &quot;F7&quot;);
162         put(map, KeyCode.F8, 0x77, &quot;F8&quot;);
163         put(map, KeyCode.F9, 0x78, &quot;F9&quot;);
164         put(map, KeyCode.F10, 0x79, &quot;F10&quot;);
165         put(map, KeyCode.F11, 0x7A, &quot;F11&quot;);
166         put(map, KeyCode.F12, 0x7B, &quot;F12&quot;);
167         put(map, KeyCode.F13, 0x7C, &quot;F13&quot;);
168         put(map, KeyCode.F14, 0x7D, &quot;F14&quot;);
169         put(map, KeyCode.F15, 0x7E, &quot;F15&quot;);
170         put(map, KeyCode.F16, 0x7F, &quot;F16&quot;);
171         put(map, KeyCode.F17, 0x80, &quot;F17&quot;);
172         put(map, KeyCode.F18, 0x81, &quot;F18&quot;);
173         put(map, KeyCode.F19, 0x82, &quot;F19&quot;);
174         put(map, KeyCode.F20, 0x83, &quot;F20&quot;);
175         put(map, KeyCode.F21, 0x84, &quot;F21&quot;);
176         put(map, KeyCode.F22, 0x85, &quot;F22&quot;);
177         put(map, KeyCode.F23, 0x86, &quot;F23&quot;);
178         put(map, KeyCode.F24, 0x87, &quot;F24&quot;);
179         put(map, KeyCode.PRINTSCREEN, 0x2C, &quot;PrintScreen&quot;);
180         put(map, KeyCode.INSERT, WCKeyEvent.VK_INSERT, &quot;Insert&quot;);
181         put(map, KeyCode.HELP, 0x2F, &quot;Help&quot;);
182         put(map, KeyCode.META, 0x00, &quot;Meta&quot;);
183         put(map, KeyCode.BACK_QUOTE, 0xC0);
184         put(map, KeyCode.QUOTE, 0xDE);
185         put(map, KeyCode.KP_UP, WCKeyEvent.VK_UP, &quot;Up&quot;);
186         put(map, KeyCode.KP_DOWN, WCKeyEvent.VK_DOWN, &quot;Down&quot;);
187         put(map, KeyCode.KP_LEFT, WCKeyEvent.VK_LEFT, &quot;Left&quot;);
188         put(map, KeyCode.KP_RIGHT, WCKeyEvent.VK_RIGHT, &quot;Right&quot;);
189         put(map, KeyCode.AMPERSAND, 0x37);
190         put(map, KeyCode.ASTERISK, 0x38);
191         put(map, KeyCode.QUOTEDBL, 0xDE);
192         put(map, KeyCode.LESS, 0xBC);
193         put(map, KeyCode.GREATER, WCKeyEvent.VK_OEM_PERIOD);
194         put(map, KeyCode.BRACELEFT, 0xDB);
195         put(map, KeyCode.BRACERIGHT, 0xDD);
196         put(map, KeyCode.AT, 0x32);
197         put(map, KeyCode.COLON, 0xBA);
198         put(map, KeyCode.CIRCUMFLEX, 0x36);
199         put(map, KeyCode.DOLLAR, 0x34);
200         put(map, KeyCode.EXCLAMATION_MARK, 0x31);
201         put(map, KeyCode.LEFT_PARENTHESIS, 0x39);
202         put(map, KeyCode.NUMBER_SIGN, 0x33);
203         put(map, KeyCode.PLUS, 0xBB);
204         put(map, KeyCode.RIGHT_PARENTHESIS, 0x30);
205         put(map, KeyCode.UNDERSCORE, 0xBD);
206         put(map, KeyCode.WINDOWS, 0x5B, &quot;Win&quot;);
207         put(map, KeyCode.CONTEXT_MENU, 0x5D);
208         put(map, KeyCode.FINAL, 0x18);
209         put(map, KeyCode.CONVERT, 0x1C);
210         put(map, KeyCode.NONCONVERT, 0x1D);
211         put(map, KeyCode.ACCEPT, 0x1E);
212         put(map, KeyCode.MODECHANGE, 0x1F);
213         put(map, KeyCode.KANA, 0x15);
214         put(map, KeyCode.KANJI, 0x19);
215         put(map, KeyCode.ALT_GRAPH, 0xA5);
216         put(map, KeyCode.PLAY, 0xFA);
217         put(map, KeyCode.TRACK_PREV, 0xB1);
218         put(map, KeyCode.TRACK_NEXT, 0xB0);
219         put(map, KeyCode.VOLUME_UP, 0xAF);
220         put(map, KeyCode.VOLUME_DOWN, 0xAE);
221         put(map, KeyCode.MUTE, 0xAD);
222 
223         MAP = Collections.unmodifiableMap(map);
224     }
225 
226 
227     private static void put(Map&lt;KeyCode,Entry&gt; map, KeyCode keyCode,
228                             int windowsVirtualKeyCode, String keyIdentifier)
229     {
230         map.put(keyCode, new Entry(windowsVirtualKeyCode, keyIdentifier));
231     }
232 
233     private static void put(Map&lt;KeyCode,Entry&gt; map, KeyCode keyCode,
234                             int windowsVirtualKeyCode)
235     {
236         put(map, keyCode, windowsVirtualKeyCode, null);
237     }
238 
239     /**
240      * Returns an {@link Entry} object containing the Windows
241      * virtual key code and the key identifier associated with
242      * a given {@link KeyCode}.
243      */
244     public static Entry lookup(KeyCode keyCode) {
245         Entry entry = MAP.get(keyCode);
246         if (entry == null || entry.getKeyIdentifier() == null) {
247             int windowsVirtualKeyCode = entry != null
248                     ? entry.getWindowsVirtualKeyCode() : 0;
249             String keyIdentifier =
250                     String.format(&quot;U+%04X&quot;, windowsVirtualKeyCode);
251             entry = new Entry(windowsVirtualKeyCode, keyIdentifier);
252         }
253         return entry;
254     }
255 }
    </pre>
  </body>
</html>