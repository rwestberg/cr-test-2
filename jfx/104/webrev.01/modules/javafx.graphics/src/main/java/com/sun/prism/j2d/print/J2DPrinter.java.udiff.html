<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.graphics/src/main/java/com/sun/prism/j2d/print/J2DPrinter.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../impl/PrismSettings.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../scenario/effect/impl/prism/PrRenderer.java.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/java/com/sun/prism/j2d/print/J2DPrinter.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -627,69 +627,58 @@</span>
              populateMedia();
          }
          return paperSet;
      }
  
<span class="udiff-line-modified-removed">-     private static Map&lt;MediaTray, PaperSource&gt; preDefinedTrayMap = null;</span>
<span class="udiff-line-modified-removed">-     private static Map&lt;MediaSizeName, Paper&gt; predefinedPaperMap = null;</span>
<span class="udiff-line-removed">-     private static void initPrefinedMediaMaps() {</span>
<span class="udiff-line-modified-added">+     private static Map&lt;MediaSizeName, Paper&gt; predefinedPaperMap;</span>
<span class="udiff-line-modified-added">+     private static Map&lt;MediaTray, PaperSource&gt; predefinedTrayMap;</span>
  
<span class="udiff-line-added">+     private static void initPredefinedMediaMaps() {</span>
          if (predefinedPaperMap == null) {
              // North American papers
<span class="udiff-line-modified-removed">-             HashMap&lt;MediaSizeName, Paper&gt; map =</span>
<span class="udiff-line-modified-removed">-                 new HashMap&lt;MediaSizeName, Paper&gt;();</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.NA_LETTER, Paper.NA_LETTER);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.TABLOID, Paper.TABLOID);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.NA_LEGAL, Paper.LEGAL);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.EXECUTIVE, Paper.EXECUTIVE);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.NA_8X10, Paper.NA_8X10);</span>
<span class="udiff-line-modified-removed">-             // Envelopes</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.MONARCH_ENVELOPE,</span>
<span class="udiff-line-modified-removed">-                     Paper.MONARCH_ENVELOPE);</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.NA_NUMBER_10_ENVELOPE,</span>
<span class="udiff-line-modified-removed">-                     Paper.NA_NUMBER_10_ENVELOPE);</span>
<span class="udiff-line-modified-removed">-             // ISO sizes.</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.ISO_A0, Paper.A0);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.ISO_A1, Paper.A1);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.ISO_A2, Paper.A2);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.ISO_A3, Paper.A3);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.ISO_A4, Paper.A4);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.ISO_A5, Paper.A5);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.ISO_A6, Paper.A6);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.C, Paper.C); // Eng. size</span>
<span class="udiff-line-modified-removed">-             // I&#39;ve seen this as &quot;Envelope DL&quot; on HP inkjet drivers</span>
<span class="udiff-line-modified-removed">-             // for OS X and WIndows.</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.ISO_DESIGNATED_LONG,</span>
<span class="udiff-line-modified-removed">-                     Paper.DESIGNATED_LONG);</span>
<span class="udiff-line-modified-removed">-             // Common Japanese sizes.</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.JIS_B4, Paper.JIS_B4);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.JIS_B5, Paper.JIS_B5);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.JIS_B6, Paper.JIS_B6);</span>
<span class="udiff-line-modified-removed">-             map.put(MediaSizeName.JAPANESE_POSTCARD,</span>
<span class="udiff-line-modified-removed">-                     Paper.JAPANESE_POSTCARD);</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">-             predefinedPaperMap = map;</span>
<span class="udiff-line-modified-removed">-         }</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">-         if (preDefinedTrayMap == null) {</span>
<span class="udiff-line-removed">-             HashMap&lt;MediaTray, PaperSource&gt; map =</span>
<span class="udiff-line-removed">-                 new HashMap&lt;MediaTray, PaperSource&gt;();</span>
<span class="udiff-line-removed">-             map.put(MediaTray.MAIN, PaperSource.MAIN);</span>
<span class="udiff-line-removed">-             map.put(MediaTray.MANUAL, PaperSource.MANUAL);</span>
<span class="udiff-line-removed">-             map.put(MediaTray.BOTTOM, PaperSource.BOTTOM);</span>
<span class="udiff-line-removed">-             map.put(MediaTray.MIDDLE, PaperSource.MIDDLE);</span>
<span class="udiff-line-removed">-             map.put(MediaTray.TOP, PaperSource.TOP);</span>
<span class="udiff-line-removed">-             map.put(MediaTray.SIDE, PaperSource.SIDE);</span>
<span class="udiff-line-removed">-             map.put(MediaTray.ENVELOPE, PaperSource.ENVELOPE);</span>
<span class="udiff-line-removed">-             map.put(MediaTray.LARGE_CAPACITY, PaperSource.LARGE_CAPACITY);</span>
<span class="udiff-line-removed">-             preDefinedTrayMap = map;</span>
<span class="udiff-line-modified-added">+             predefinedPaperMap = Map.ofEntries(</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.NA_LETTER,             Paper.NA_LETTER),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.TABLOID,               Paper.TABLOID),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.NA_LEGAL,              Paper.LEGAL),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.EXECUTIVE,             Paper.EXECUTIVE),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.NA_8X10,               Paper.NA_8X10),</span>
<span class="udiff-line-modified-added">+                 // Envelopes</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.MONARCH_ENVELOPE,      Paper.MONARCH_ENVELOPE),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.NA_NUMBER_10_ENVELOPE, Paper.NA_NUMBER_10_ENVELOPE),</span>
<span class="udiff-line-modified-added">+                 // ISO sizes.</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.ISO_A0,                Paper.A0),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.ISO_A1,                Paper.A1),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.ISO_A2,                Paper.A2),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.ISO_A3,                Paper.A3),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.ISO_A4,                Paper.A4),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.ISO_A5,                Paper.A5),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.ISO_A6,                Paper.A6),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.C,                     Paper.C), // Eng. size</span>
<span class="udiff-line-modified-added">+                 // I&#39;ve seen this as &quot;Envelope DL&quot; on HP inkjet drivers for OS X and WIndows.</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.ISO_DESIGNATED_LONG,   Paper.DESIGNATED_LONG),</span>
<span class="udiff-line-modified-added">+                 // Common Japanese sizes.</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.JIS_B4,                Paper.JIS_B4),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.JIS_B5,                Paper.JIS_B5),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.JIS_B6,                Paper.JIS_B6),</span>
<span class="udiff-line-modified-added">+                 Map.entry(MediaSizeName.JAPANESE_POSTCARD,     Paper.JAPANESE_POSTCARD));</span>
<span class="udiff-line-modified-added">+         }</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-modified-added">+         if (predefinedTrayMap == null) {</span>
<span class="udiff-line-modified-added">+             predefinedTrayMap = Map.of(</span>
<span class="udiff-line-modified-added">+                 MediaTray.MAIN,           PaperSource.MAIN,</span>
<span class="udiff-line-modified-added">+                 MediaTray.MANUAL,         PaperSource.MANUAL,</span>
<span class="udiff-line-modified-added">+                 MediaTray.BOTTOM,         PaperSource.BOTTOM,</span>
<span class="udiff-line-modified-added">+                 MediaTray.MIDDLE,         PaperSource.MIDDLE,</span>
<span class="udiff-line-modified-added">+                 MediaTray.TOP,            PaperSource.TOP,</span>
<span class="udiff-line-modified-added">+                 MediaTray.SIDE,           PaperSource.SIDE,</span>
<span class="udiff-line-modified-added">+                 MediaTray.ENVELOPE,       PaperSource.ENVELOPE,</span>
<span class="udiff-line-modified-added">+                 MediaTray.LARGE_CAPACITY, PaperSource.LARGE_CAPACITY);</span>
          }
      }
  
      private void populateMedia() {
<span class="udiff-line-modified-removed">-         initPrefinedMediaMaps();</span>
<span class="udiff-line-modified-added">+         initPredefinedMediaMaps();</span>
  
          if (paperSet != null) {
              return; // already inited
          }
          Media[] media =
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -763,11 +752,11 @@</span>
          return sourceToTrayMap.get(source);
      }
  
      private synchronized final PaperSource addPaperSource(MediaTray tray) {
  
<span class="udiff-line-modified-removed">-         PaperSource source = preDefinedTrayMap.get(tray);</span>
<span class="udiff-line-modified-added">+         PaperSource source = predefinedTrayMap.get(tray);</span>
  
          if (source == null) {
              source = PrintHelper.createPaperSource(tray.toString());
          }
  
</pre>
<center><a href="../../impl/PrismSettings.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../scenario/effect/impl/prism/PrRenderer.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>