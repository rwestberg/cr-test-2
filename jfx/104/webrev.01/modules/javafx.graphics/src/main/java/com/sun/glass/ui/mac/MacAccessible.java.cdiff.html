<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.graphics/src/main/java/com/sun/glass/ui/mac/MacAccessible.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../jslc/java/com/sun/scenario/effect/compiler/backend/hw/HLSLBackend.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../javafx/iio/ios/IosImageLoader.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/java/com/sun/glass/ui/mac/MacAccessible.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 597,11 ***</span>
  
      /*
       * Do not access the following lists directly from the Mac enums.
       * It can cause the static initialization to happen in an unexpected order.
       */
<span class="line-modified">!     private static final List&lt;MacAttribute&gt; baseAttributes = Arrays.asList(</span>
          MacAttribute.NSAccessibilityRoleAttribute,
          MacAttribute.NSAccessibilityRoleDescriptionAttribute,
          MacAttribute.NSAccessibilityHelpAttribute,
          MacAttribute.NSAccessibilityFocusedAttribute,
          MacAttribute.NSAccessibilityParentAttribute,
<span class="line-new-header">--- 597,11 ---</span>
  
      /*
       * Do not access the following lists directly from the Mac enums.
       * It can cause the static initialization to happen in an unexpected order.
       */
<span class="line-modified">!     private static final List&lt;MacAttribute&gt; BASE_ATTRIBUTES = List.of(</span>
          MacAttribute.NSAccessibilityRoleAttribute,
          MacAttribute.NSAccessibilityRoleDescriptionAttribute,
          MacAttribute.NSAccessibilityHelpAttribute,
          MacAttribute.NSAccessibilityFocusedAttribute,
          MacAttribute.NSAccessibilityParentAttribute,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 611,21 ***</span>
          MacAttribute.NSAccessibilityWindowAttribute,
          MacAttribute.NSAccessibilityTopLevelUIElementAttribute,
          MacAttribute.NSAccessibilityTitleUIElementAttribute
      );
  
<span class="line-modified">!     private static final List&lt;MacAttribute&gt; textAttributes = Arrays.asList(</span>
          MacAttribute.NSAccessibilityEnabledAttribute,
          MacAttribute.NSAccessibilityValueAttribute,
          MacAttribute.NSAccessibilityNumberOfCharactersAttribute,
          MacAttribute.NSAccessibilitySelectedTextAttribute,
          MacAttribute.NSAccessibilitySelectedTextRangeAttribute,
          MacAttribute.NSAccessibilityInsertionPointLineNumberAttribute,
          MacAttribute.NSAccessibilityVisibleCharacterRangeAttribute
      );
  
<span class="line-modified">!     private static final List&lt;MacAttribute&gt; textParameterizedAttributes = Arrays.asList(</span>
          MacAttribute.NSAccessibilityLineForIndexParameterizedAttribute,
          MacAttribute.NSAccessibilityRangeForLineParameterizedAttribute,
          MacAttribute.NSAccessibilityAttributedStringForRangeParameterizedAttribute,
          MacAttribute.NSAccessibilityStringForRangeParameterizedAttribute
      );
<span class="line-new-header">--- 611,21 ---</span>
          MacAttribute.NSAccessibilityWindowAttribute,
          MacAttribute.NSAccessibilityTopLevelUIElementAttribute,
          MacAttribute.NSAccessibilityTitleUIElementAttribute
      );
  
<span class="line-modified">!     private static final List&lt;MacAttribute&gt; TEXT_ATTRIBUTES = List.of(</span>
          MacAttribute.NSAccessibilityEnabledAttribute,
          MacAttribute.NSAccessibilityValueAttribute,
          MacAttribute.NSAccessibilityNumberOfCharactersAttribute,
          MacAttribute.NSAccessibilitySelectedTextAttribute,
          MacAttribute.NSAccessibilitySelectedTextRangeAttribute,
          MacAttribute.NSAccessibilityInsertionPointLineNumberAttribute,
          MacAttribute.NSAccessibilityVisibleCharacterRangeAttribute
      );
  
<span class="line-modified">!     private static final List&lt;MacAttribute&gt; TEXT_PARAMETRIZED_ATTRIBUTES = List.of(</span>
          MacAttribute.NSAccessibilityLineForIndexParameterizedAttribute,
          MacAttribute.NSAccessibilityRangeForLineParameterizedAttribute,
          MacAttribute.NSAccessibilityAttributedStringForRangeParameterizedAttribute,
          MacAttribute.NSAccessibilityStringForRangeParameterizedAttribute
      );
</pre>
<hr />
<pre>
<span class="line-old-header">*** 966,11 ***</span>
      /* NSAccessibility Protocol - JNI entry points */
      private long[] accessibilityAttributeNames() {
          if (getView() != null) return null; /* Let NSView answer for the Scene */
          AccessibleRole role = (AccessibleRole)getAttribute(ROLE);
          if (role != null) {
<span class="line-modified">!             List&lt;MacAttribute&gt; attrs = new ArrayList&lt;&gt;(baseAttributes);</span>
              MacRole macRole = getRole(role);
              if (macRole != null &amp;&amp; macRole.macAttributes != null) {
                  attrs.addAll(macRole.macAttributes);
              }
  
<span class="line-new-header">--- 966,11 ---</span>
      /* NSAccessibility Protocol - JNI entry points */
      private long[] accessibilityAttributeNames() {
          if (getView() != null) return null; /* Let NSView answer for the Scene */
          AccessibleRole role = (AccessibleRole)getAttribute(ROLE);
          if (role != null) {
<span class="line-modified">!             List&lt;MacAttribute&gt; attrs = new ArrayList&lt;&gt;(BASE_ATTRIBUTES);</span>
              MacRole macRole = getRole(role);
              if (macRole != null &amp;&amp; macRole.macAttributes != null) {
                  attrs.addAll(macRole.macAttributes);
              }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 999,11 ***</span>
                  case TEXT:
                  case TEXT_FIELD:
                  case TEXT_AREA:
                  case PASSWORD_FIELD:
                  case COMBO_BOX:
<span class="line-modified">!                     attrs.addAll(textAttributes);</span>
                      break;
                  default:
              }
              return attrs.stream().mapToLong(a -&gt; a.ptr).toArray();
          }
<span class="line-new-header">--- 999,11 ---</span>
                  case TEXT:
                  case TEXT_FIELD:
                  case TEXT_AREA:
                  case PASSWORD_FIELD:
                  case COMBO_BOX:
<span class="line-modified">!                     attrs.addAll(TEXT_ATTRIBUTES);</span>
                      break;
                  default:
              }
              return attrs.stream().mapToLong(a -&gt; a.ptr).toArray();
          }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1702,11 ***</span>
                  case TEXT:
                  case TEXT_FIELD:
                  case TEXT_AREA:
                  case PASSWORD_FIELD:
                  case COMBO_BOX:
<span class="line-modified">!                     attrs.addAll(textParameterizedAttributes);</span>
                      break;
                  default:
              }
              return attrs.stream().mapToLong(a -&gt; a.ptr).toArray();
          }
<span class="line-new-header">--- 1702,11 ---</span>
                  case TEXT:
                  case TEXT_FIELD:
                  case TEXT_AREA:
                  case PASSWORD_FIELD:
                  case COMBO_BOX:
<span class="line-modified">!                     attrs.addAll(TEXT_PARAMETRIZED_ATTRIBUTES);</span>
                      break;
                  default:
              }
              return attrs.stream().mapToLong(a -&gt; a.ptr).toArray();
          }
</pre>
<center><a href="../../../../../../../jslc/java/com/sun/scenario/effect/compiler/backend/hw/HLSLBackend.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../javafx/iio/ios/IosImageLoader.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>