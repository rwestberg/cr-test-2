<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.graphics/src/jslc/java/com/sun/scenario/effect/compiler/backend/hw/ES2Backend.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../../../javafx.fxml/src/main/java/com/sun/javafx/fxml/builder/ProxyBuilder.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="GLSLBackend.java.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/jslc/java/com/sun/scenario/effect/compiler/backend/hw/ES2Backend.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -23,11 +23,10 @@</span>
   * questions.
   */
  
  package com.sun.scenario.effect.compiler.backend.hw;
  
<span class="udiff-line-removed">- import java.util.HashMap;</span>
  import java.util.Map;
  import com.sun.scenario.effect.compiler.JSLParser;
  import com.sun.scenario.effect.compiler.model.Precision;
  import com.sun.scenario.effect.compiler.tree.FuncDef;
  import com.sun.scenario.effect.compiler.tree.JSLVisitor;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -40,35 +39,31 @@</span>
          super(parser, visitor);
      }
  
      // GLSL v1.10 no longer has gl_TexCoord*; these are now passed in
      // from vertex shader as texCoord0/1
<span class="udiff-line-modified-removed">-     private static final Map&lt;String, String&gt; varMap = new HashMap&lt;String, String&gt;();</span>
<span class="udiff-line-modified-removed">-     static {</span>
<span class="udiff-line-modified-removed">-         varMap.put(&quot;pos0&quot;,     &quot;texCoord0&quot;);</span>
<span class="udiff-line-modified-removed">-         varMap.put(&quot;pos1&quot;,     &quot;texCoord1&quot;);</span>
<span class="udiff-line-modified-removed">-         varMap.put(&quot;color&quot;,    &quot;gl_FragColor&quot;);</span>
<span class="udiff-line-removed">-         varMap.put(&quot;jsl_vertexColor&quot;, &quot;perVertexColor&quot;);</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-modified-added">+     private static final Map&lt;String, String&gt; VAR_MAP = Map.of(</span>
<span class="udiff-line-modified-added">+         &quot;pos0&quot;,            &quot;texCoord0&quot;,</span>
<span class="udiff-line-modified-added">+         &quot;pos1&quot;,            &quot;texCoord1&quot;,</span>
<span class="udiff-line-modified-added">+         &quot;color&quot;,           &quot;gl_FragColor&quot;,</span>
<span class="udiff-line-modified-added">+         &quot;jsl_vertexColor&quot;, &quot;perVertexColor&quot;);</span>
  
<span class="udiff-line-modified-removed">-     private static final Map&lt;String, String&gt; funcMap = new HashMap&lt;String, String&gt;();</span>
<span class="udiff-line-modified-removed">-     static {</span>
<span class="udiff-line-modified-removed">-         funcMap.put(&quot;sample&quot;, &quot;texture2D&quot;);</span>
<span class="udiff-line-modified-removed">-         funcMap.put(&quot;ddx&quot;, &quot;dFdx&quot;);</span>
<span class="udiff-line-modified-removed">-         funcMap.put(&quot;ddy&quot;, &quot;dFdy&quot;);</span>
<span class="udiff-line-removed">-         funcMap.put(&quot;intcast&quot;, &quot;int&quot;);</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-modified-added">+     private static final Map&lt;String, String&gt; FUNC_MAP = Map.of(</span>
<span class="udiff-line-modified-added">+         &quot;sample&quot;,  &quot;texture2D&quot;,</span>
<span class="udiff-line-modified-added">+         &quot;ddx&quot;,     &quot;dFdx&quot;,</span>
<span class="udiff-line-modified-added">+         &quot;ddy&quot;,     &quot;dFdy&quot;,</span>
<span class="udiff-line-modified-added">+         &quot;intcast&quot;, &quot;int&quot;);</span>
  
      @Override
      protected String getVar(String v) {
<span class="udiff-line-modified-removed">-         String s = varMap.get(v);</span>
<span class="udiff-line-modified-added">+         String s = VAR_MAP.get(v);</span>
          return (s != null) ? s : v;
      }
  
      @Override
      protected String getFuncName(String f) {
<span class="udiff-line-modified-removed">-         String s = funcMap.get(f);</span>
<span class="udiff-line-modified-added">+         String s = FUNC_MAP.get(f);</span>
          return (s != null) ? s : f;
      }
  
      @Override
      protected String getPrecision(Precision p) {
</pre>
<center><a href="../../../../../../../../../../../javafx.fxml/src/main/java/com/sun/javafx/fxml/builder/ProxyBuilder.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="GLSLBackend.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>