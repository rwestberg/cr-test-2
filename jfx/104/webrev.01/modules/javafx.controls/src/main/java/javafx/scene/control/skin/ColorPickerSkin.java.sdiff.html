<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/javafx/scene/control/skin/ColorPickerSkin.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../javafx.fxml/src/main/java/com/sun/javafx/fxml/builder/ProxyBuilder.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/main/java/javafx/scene/control/skin/ColorPickerSkin.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 37 
 38 import javafx.css.converter.BooleanConverter;
 39 
 40 import java.util.ArrayList;
 41 import java.util.Collections;
 42 import java.util.List;
 43 
 44 import javafx.css.StyleableDoubleProperty;
 45 import javafx.css.StyleableStringProperty;
 46 import javafx.geometry.Pos;
 47 import javafx.scene.Node;
 48 import javafx.scene.control.Control;
 49 import javafx.scene.image.ImageView;
 50 import javafx.scene.layout.StackPane;
 51 import javafx.scene.shape.Rectangle;
 52 
 53 import javafx.css.converter.SizeConverter;
 54 import javafx.css.converter.StringConverter;
 55 import com.sun.javafx.scene.control.behavior.ColorPickerBehavior;
 56 
<span class="line-removed"> 57 import java.util.HashMap;</span>
 58 import java.util.Map;
 59 
 60 import javafx.scene.control.ColorPicker;
 61 import javafx.scene.control.TextField;
 62 import javafx.beans.property.BooleanProperty;
 63 import javafx.beans.value.WritableValue;
 64 import javafx.css.Styleable;
 65 import javafx.css.StyleableProperty;
 66 import javafx.scene.control.Label;
 67 import javafx.scene.paint.Color;
 68 
 69 import static javafx.scene.paint.Color.*;
 70 
 71 /**
 72  * Default skin implementation for the {@link ColorPicker} control.
 73  *
 74  * @see ColorPicker
 75  * @since 9
 76  */
 77 public class ColorPickerSkin extends ComboBoxPopupControl&lt;Color&gt; {
</pre>
<hr />
<pre>
264      * Public API                                                              *
265      *                                                                         *
266      **************************************************************************/
267 
268     /** {@inheritDoc} */
269     @Override public void dispose() {
270         super.dispose();
271 
272         if (behavior != null) {
273             behavior.dispose();
274         }
275     }
276 
277     /** {@inheritDoc} */
278     @Override protected double computePrefWidth(double height, double topInset, double rightInset, double bottomInset, double leftInset) {
279         if (!colorLabelVisible.get()) {
280             return super.computePrefWidth(height, topInset, rightInset, bottomInset, leftInset);
281         }
282         String displayNodeText = displayNode.getText();
283         double width = 0;
<span class="line-modified">284         for (String name : colorNameMap.values()) {</span>
285             displayNode.setText(name);
286             width = Math.max(width, super.computePrefWidth(height, topInset, rightInset, bottomInset, leftInset));
287         }
288         displayNode.setText(Utils.formatHexString(Color.BLACK)); // #000000
289         width = Math.max(width, super.computePrefWidth(height, topInset, rightInset, bottomInset, leftInset));
290         displayNode.setText(displayNodeText);
291         return width;
292     }
293 
294     /** {@inheritDoc} */
295     @Override protected Node getPopupContent() {
296         if (popupContent == null) {
297 //            popupContent = new ColorPalette(colorPicker.getValue(), colorPicker);
298             popupContent = new ColorPalette((ColorPicker)getSkinnable());
299             popupContent.setPopupControl(getPopup());
300         }
301         return popupContent;
302     }
303 
304     /** {@inheritDoc} */
</pre>
<hr />
<pre>
330 
331     /** {@inheritDoc} */
332     @Override void focusLost() {
333         // do nothing
334     }
335 
336     /** {@inheritDoc} */
337     @Override ComboBoxBaseBehavior getBehavior() {
338         return behavior;
339     }
340 
341     private void updateComboBoxMode() {
342         List&lt;String&gt; styleClass = getSkinnable().getStyleClass();
343         if (styleClass.contains(ColorPicker.STYLE_CLASS_BUTTON)) {
344             setMode(ComboBoxMode.BUTTON);
345         } else if (styleClass.contains(ColorPicker.STYLE_CLASS_SPLIT_BUTTON)) {
346             setMode(ComboBoxMode.SPLITBUTTON);
347         }
348     }
349 
<span class="line-modified">350     private static final Map&lt;Color, String&gt; colorNameMap = new HashMap&lt;&gt;(30);</span>
<span class="line-modified">351     private static final Map&lt;Color, String&gt; cssNameMap = new HashMap&lt;&gt;(139);</span>
<span class="line-modified">352     static {</span>
<span class="line-modified">353         // Translatable display names for the most common colors</span>
<span class="line-modified">354         colorNameMap.put(TRANSPARENT, Properties.getColorPickerString(&quot;colorName.transparent&quot;));</span>
<span class="line-modified">355         colorNameMap.put(BLACK,       Properties.getColorPickerString(&quot;colorName.black&quot;));</span>
<span class="line-modified">356         colorNameMap.put(BLUE,        Properties.getColorPickerString(&quot;colorName.blue&quot;));</span>
<span class="line-modified">357         colorNameMap.put(CYAN,        Properties.getColorPickerString(&quot;colorName.cyan&quot;));</span>
<span class="line-modified">358         colorNameMap.put(DARKBLUE,    Properties.getColorPickerString(&quot;colorName.darkblue&quot;));</span>
<span class="line-modified">359         colorNameMap.put(DARKCYAN,    Properties.getColorPickerString(&quot;colorName.darkcyan&quot;));</span>
<span class="line-modified">360         colorNameMap.put(DARKGRAY,    Properties.getColorPickerString(&quot;colorName.darkgray&quot;));</span>
<span class="line-modified">361         colorNameMap.put(DARKGREEN,   Properties.getColorPickerString(&quot;colorName.darkgreen&quot;));</span>
<span class="line-modified">362         colorNameMap.put(DARKMAGENTA, Properties.getColorPickerString(&quot;colorName.darkmagenta&quot;));</span>
<span class="line-modified">363         colorNameMap.put(DARKRED,     Properties.getColorPickerString(&quot;colorName.darkred&quot;));</span>
<span class="line-modified">364         colorNameMap.put(GRAY,        Properties.getColorPickerString(&quot;colorName.gray&quot;));</span>
<span class="line-modified">365         colorNameMap.put(GREEN,       Properties.getColorPickerString(&quot;colorName.green&quot;));</span>
<span class="line-modified">366         colorNameMap.put(LIGHTBLUE,   Properties.getColorPickerString(&quot;colorName.lightblue&quot;));</span>
<span class="line-modified">367         colorNameMap.put(LIGHTCYAN,   Properties.getColorPickerString(&quot;colorName.lightcyan&quot;));</span>
<span class="line-modified">368         colorNameMap.put(LIGHTGRAY,   Properties.getColorPickerString(&quot;colorName.lightgray&quot;));</span>
<span class="line-modified">369         colorNameMap.put(LIGHTGREEN,  Properties.getColorPickerString(&quot;colorName.lightgreen&quot;));</span>
<span class="line-modified">370         colorNameMap.put(LIGHTYELLOW, Properties.getColorPickerString(&quot;colorName.lightyellow&quot;));</span>
<span class="line-modified">371         colorNameMap.put(LIME,        Properties.getColorPickerString(&quot;colorName.lime&quot;));</span>
<span class="line-modified">372         colorNameMap.put(MAGENTA,     Properties.getColorPickerString(&quot;colorName.magenta&quot;));</span>
<span class="line-modified">373         colorNameMap.put(MAROON,      Properties.getColorPickerString(&quot;colorName.maroon&quot;));</span>
<span class="line-modified">374         colorNameMap.put(MEDIUMBLUE,  Properties.getColorPickerString(&quot;colorName.mediumblue&quot;));</span>
<span class="line-modified">375         colorNameMap.put(NAVY,        Properties.getColorPickerString(&quot;colorName.navy&quot;));</span>
<span class="line-modified">376         colorNameMap.put(OLIVE,       Properties.getColorPickerString(&quot;colorName.olive&quot;));</span>
<span class="line-modified">377         colorNameMap.put(ORANGE,      Properties.getColorPickerString(&quot;colorName.orange&quot;));</span>
<span class="line-modified">378         colorNameMap.put(PINK,        Properties.getColorPickerString(&quot;colorName.pink&quot;));</span>
<span class="line-modified">379         colorNameMap.put(PURPLE,      Properties.getColorPickerString(&quot;colorName.purple&quot;));</span>
<span class="line-modified">380         colorNameMap.put(RED,         Properties.getColorPickerString(&quot;colorName.red&quot;));</span>
<span class="line-modified">381         colorNameMap.put(TEAL,        Properties.getColorPickerString(&quot;colorName.teal&quot;));</span>
<span class="line-modified">382         colorNameMap.put(WHITE,       Properties.getColorPickerString(&quot;colorName.white&quot;));</span>
<span class="line-modified">383         colorNameMap.put(YELLOW,      Properties.getColorPickerString(&quot;colorName.yellow&quot;));</span>
<span class="line-modified">384 </span>
<span class="line-modified">385         // CSS names.</span>
<span class="line-modified">386         // Note that synonyms (such as &quot;grey&quot;) have been removed here,</span>
<span class="line-modified">387         // since a color can be presented with only one name in this</span>
<span class="line-modified">388         // skin. If a reverse map is created for parsing names in the</span>
<span class="line-modified">389         // future, then the synonyms should be included there. For a</span>
<span class="line-modified">390         // full list of CSS names, see Color.java.</span>
<span class="line-modified">391         cssNameMap.put(ALICEBLUE,            &quot;aliceblue&quot;);</span>
<span class="line-modified">392         cssNameMap.put(ANTIQUEWHITE,         &quot;antiquewhite&quot;);</span>
<span class="line-modified">393         cssNameMap.put(AQUAMARINE,           &quot;aquamarine&quot;);</span>
<span class="line-modified">394         cssNameMap.put(AZURE,                &quot;azure&quot;);</span>
<span class="line-modified">395         cssNameMap.put(BEIGE,                &quot;beige&quot;);</span>
<span class="line-modified">396         cssNameMap.put(BISQUE,               &quot;bisque&quot;);</span>
<span class="line-modified">397         cssNameMap.put(BLACK,                &quot;black&quot;);</span>
<span class="line-modified">398         cssNameMap.put(BLANCHEDALMOND,       &quot;blanchedalmond&quot;);</span>
<span class="line-modified">399         cssNameMap.put(BLUE,                 &quot;blue&quot;);</span>
<span class="line-modified">400         cssNameMap.put(BLUEVIOLET,           &quot;blueviolet&quot;);</span>
<span class="line-modified">401         cssNameMap.put(BROWN,                &quot;brown&quot;);</span>
<span class="line-modified">402         cssNameMap.put(BURLYWOOD,            &quot;burlywood&quot;);</span>
<span class="line-modified">403         cssNameMap.put(CADETBLUE,            &quot;cadetblue&quot;);</span>
<span class="line-modified">404         cssNameMap.put(CHARTREUSE,           &quot;chartreuse&quot;);</span>
<span class="line-modified">405         cssNameMap.put(CHOCOLATE,            &quot;chocolate&quot;);</span>
<span class="line-modified">406         cssNameMap.put(CORAL,                &quot;coral&quot;);</span>
<span class="line-modified">407         cssNameMap.put(CORNFLOWERBLUE,       &quot;cornflowerblue&quot;);</span>
<span class="line-modified">408         cssNameMap.put(CORNSILK,             &quot;cornsilk&quot;);</span>
<span class="line-modified">409         cssNameMap.put(CRIMSON,              &quot;crimson&quot;);</span>
<span class="line-modified">410         cssNameMap.put(CYAN,                 &quot;cyan&quot;);</span>
<span class="line-modified">411         cssNameMap.put(DARKBLUE,             &quot;darkblue&quot;);</span>
<span class="line-modified">412         cssNameMap.put(DARKCYAN,             &quot;darkcyan&quot;);</span>
<span class="line-modified">413         cssNameMap.put(DARKGOLDENROD,        &quot;darkgoldenrod&quot;);</span>
<span class="line-modified">414         cssNameMap.put(DARKGRAY,             &quot;darkgray&quot;);</span>
<span class="line-modified">415         cssNameMap.put(DARKGREEN,            &quot;darkgreen&quot;);</span>
<span class="line-modified">416         cssNameMap.put(DARKKHAKI,            &quot;darkkhaki&quot;);</span>
<span class="line-modified">417         cssNameMap.put(DARKMAGENTA,          &quot;darkmagenta&quot;);</span>
<span class="line-modified">418         cssNameMap.put(DARKOLIVEGREEN,       &quot;darkolivegreen&quot;);</span>
<span class="line-modified">419         cssNameMap.put(DARKORANGE,           &quot;darkorange&quot;);</span>
<span class="line-modified">420         cssNameMap.put(DARKORCHID,           &quot;darkorchid&quot;);</span>
<span class="line-modified">421         cssNameMap.put(DARKRED,              &quot;darkred&quot;);</span>
<span class="line-modified">422         cssNameMap.put(DARKSALMON,           &quot;darksalmon&quot;);</span>
<span class="line-modified">423         cssNameMap.put(DARKSEAGREEN,         &quot;darkseagreen&quot;);</span>
<span class="line-modified">424         cssNameMap.put(DARKSLATEBLUE,        &quot;darkslateblue&quot;);</span>
<span class="line-modified">425         cssNameMap.put(DARKSLATEGRAY,        &quot;darkslategray&quot;);</span>
<span class="line-modified">426         cssNameMap.put(DARKTURQUOISE,        &quot;darkturquoise&quot;);</span>
<span class="line-modified">427         cssNameMap.put(DARKVIOLET,           &quot;darkviolet&quot;);</span>
<span class="line-modified">428         cssNameMap.put(DEEPPINK,             &quot;deeppink&quot;);</span>
<span class="line-modified">429         cssNameMap.put(DEEPSKYBLUE,          &quot;deepskyblue&quot;);</span>
<span class="line-modified">430         cssNameMap.put(DIMGRAY,              &quot;dimgray&quot;);</span>
<span class="line-modified">431         cssNameMap.put(DODGERBLUE,           &quot;dodgerblue&quot;);</span>
<span class="line-modified">432         cssNameMap.put(FIREBRICK,            &quot;firebrick&quot;);</span>
<span class="line-modified">433         cssNameMap.put(FLORALWHITE,          &quot;floralwhite&quot;);</span>
<span class="line-modified">434         cssNameMap.put(FORESTGREEN,          &quot;forestgreen&quot;);</span>
<span class="line-modified">435         cssNameMap.put(GAINSBORO,            &quot;gainsboro&quot;);</span>
<span class="line-modified">436         cssNameMap.put(GHOSTWHITE,           &quot;ghostwhite&quot;);</span>
<span class="line-modified">437         cssNameMap.put(GOLD,                 &quot;gold&quot;);</span>
<span class="line-modified">438         cssNameMap.put(GOLDENROD,            &quot;goldenrod&quot;);</span>
<span class="line-modified">439         cssNameMap.put(GRAY,                 &quot;gray&quot;);</span>
<span class="line-modified">440         cssNameMap.put(GREEN,                &quot;green&quot;);</span>
<span class="line-modified">441         cssNameMap.put(GREENYELLOW,          &quot;greenyellow&quot;);</span>
<span class="line-modified">442         cssNameMap.put(HONEYDEW,             &quot;honeydew&quot;);</span>
<span class="line-modified">443         cssNameMap.put(HOTPINK,              &quot;hotpink&quot;);</span>
<span class="line-modified">444         cssNameMap.put(INDIANRED,            &quot;indianred&quot;);</span>
<span class="line-modified">445         cssNameMap.put(INDIGO,               &quot;indigo&quot;);</span>
<span class="line-modified">446         cssNameMap.put(IVORY,                &quot;ivory&quot;);</span>
<span class="line-modified">447         cssNameMap.put(KHAKI,                &quot;khaki&quot;);</span>
<span class="line-modified">448         cssNameMap.put(LAVENDER,             &quot;lavender&quot;);</span>
<span class="line-modified">449         cssNameMap.put(LAVENDERBLUSH,        &quot;lavenderblush&quot;);</span>
<span class="line-modified">450         cssNameMap.put(LAWNGREEN,            &quot;lawngreen&quot;);</span>
<span class="line-modified">451         cssNameMap.put(LEMONCHIFFON,         &quot;lemonchiffon&quot;);</span>
<span class="line-modified">452         cssNameMap.put(LIGHTBLUE,            &quot;lightblue&quot;);</span>
<span class="line-modified">453         cssNameMap.put(LIGHTCORAL,           &quot;lightcoral&quot;);</span>
<span class="line-modified">454         cssNameMap.put(LIGHTCYAN,            &quot;lightcyan&quot;);</span>
<span class="line-modified">455         cssNameMap.put(LIGHTGOLDENRODYELLOW, &quot;lightgoldenrodyellow&quot;);</span>
<span class="line-modified">456         cssNameMap.put(LIGHTGRAY,            &quot;lightgray&quot;);</span>
<span class="line-modified">457         cssNameMap.put(LIGHTGREEN,           &quot;lightgreen&quot;);</span>
<span class="line-modified">458         cssNameMap.put(LIGHTPINK,            &quot;lightpink&quot;);</span>
<span class="line-modified">459         cssNameMap.put(LIGHTSALMON,          &quot;lightsalmon&quot;);</span>
<span class="line-modified">460         cssNameMap.put(LIGHTSEAGREEN,        &quot;lightseagreen&quot;);</span>
<span class="line-modified">461         cssNameMap.put(LIGHTSKYBLUE,         &quot;lightskyblue&quot;);</span>
<span class="line-modified">462         cssNameMap.put(LIGHTSLATEGRAY,       &quot;lightslategray&quot;);</span>
<span class="line-modified">463         cssNameMap.put(LIGHTSTEELBLUE,       &quot;lightsteelblue&quot;);</span>
<span class="line-modified">464         cssNameMap.put(LIGHTYELLOW,          &quot;lightyellow&quot;);</span>
<span class="line-modified">465         cssNameMap.put(LIME,                 &quot;lime&quot;);</span>
<span class="line-modified">466         cssNameMap.put(LIMEGREEN,            &quot;limegreen&quot;);</span>
<span class="line-modified">467         cssNameMap.put(LINEN,                &quot;linen&quot;);</span>
<span class="line-modified">468         cssNameMap.put(MAGENTA,              &quot;magenta&quot;);</span>
<span class="line-modified">469         cssNameMap.put(MAROON,               &quot;maroon&quot;);</span>
<span class="line-modified">470         cssNameMap.put(MEDIUMAQUAMARINE,     &quot;mediumaquamarine&quot;);</span>
<span class="line-modified">471         cssNameMap.put(MEDIUMBLUE,           &quot;mediumblue&quot;);</span>
<span class="line-modified">472         cssNameMap.put(MEDIUMORCHID,         &quot;mediumorchid&quot;);</span>
<span class="line-modified">473         cssNameMap.put(MEDIUMPURPLE,         &quot;mediumpurple&quot;);</span>
<span class="line-modified">474         cssNameMap.put(MEDIUMSEAGREEN,       &quot;mediumseagreen&quot;);</span>
<span class="line-modified">475         cssNameMap.put(MEDIUMSLATEBLUE,      &quot;mediumslateblue&quot;);</span>
<span class="line-modified">476         cssNameMap.put(MEDIUMSPRINGGREEN,    &quot;mediumspringgreen&quot;);</span>
<span class="line-modified">477         cssNameMap.put(MEDIUMTURQUOISE,      &quot;mediumturquoise&quot;);</span>
<span class="line-modified">478         cssNameMap.put(MEDIUMVIOLETRED,      &quot;mediumvioletred&quot;);</span>
<span class="line-modified">479         cssNameMap.put(MIDNIGHTBLUE,         &quot;midnightblue&quot;);</span>
<span class="line-modified">480         cssNameMap.put(MINTCREAM,            &quot;mintcream&quot;);</span>
<span class="line-modified">481         cssNameMap.put(MISTYROSE,            &quot;mistyrose&quot;);</span>
<span class="line-modified">482         cssNameMap.put(MOCCASIN,             &quot;moccasin&quot;);</span>
<span class="line-modified">483         cssNameMap.put(NAVAJOWHITE,          &quot;navajowhite&quot;);</span>
<span class="line-modified">484         cssNameMap.put(NAVY,                 &quot;navy&quot;);</span>
<span class="line-modified">485         cssNameMap.put(OLDLACE,              &quot;oldlace&quot;);</span>
<span class="line-modified">486         cssNameMap.put(OLIVE,                &quot;olive&quot;);</span>
<span class="line-modified">487         cssNameMap.put(OLIVEDRAB,            &quot;olivedrab&quot;);</span>
<span class="line-modified">488         cssNameMap.put(ORANGE,               &quot;orange&quot;);</span>
<span class="line-modified">489         cssNameMap.put(ORANGERED,            &quot;orangered&quot;);</span>
<span class="line-modified">490         cssNameMap.put(ORCHID,               &quot;orchid&quot;);</span>
<span class="line-modified">491         cssNameMap.put(PALEGOLDENROD,        &quot;palegoldenrod&quot;);</span>
<span class="line-modified">492         cssNameMap.put(PALEGREEN,            &quot;palegreen&quot;);</span>
<span class="line-modified">493         cssNameMap.put(PALETURQUOISE,        &quot;paleturquoise&quot;);</span>
<span class="line-modified">494         cssNameMap.put(PALEVIOLETRED,        &quot;palevioletred&quot;);</span>
<span class="line-modified">495         cssNameMap.put(PAPAYAWHIP,           &quot;papayawhip&quot;);</span>
<span class="line-modified">496         cssNameMap.put(PEACHPUFF,            &quot;peachpuff&quot;);</span>
<span class="line-modified">497         cssNameMap.put(PERU,                 &quot;peru&quot;);</span>
<span class="line-modified">498         cssNameMap.put(PINK,                 &quot;pink&quot;);</span>
<span class="line-modified">499         cssNameMap.put(PLUM,                 &quot;plum&quot;);</span>
<span class="line-modified">500         cssNameMap.put(POWDERBLUE,           &quot;powderblue&quot;);</span>
<span class="line-modified">501         cssNameMap.put(PURPLE,               &quot;purple&quot;);</span>
<span class="line-modified">502         cssNameMap.put(RED,                  &quot;red&quot;);</span>
<span class="line-modified">503         cssNameMap.put(ROSYBROWN,            &quot;rosybrown&quot;);</span>
<span class="line-modified">504         cssNameMap.put(ROYALBLUE,            &quot;royalblue&quot;);</span>
<span class="line-modified">505         cssNameMap.put(SADDLEBROWN,          &quot;saddlebrown&quot;);</span>
<span class="line-modified">506         cssNameMap.put(SALMON,               &quot;salmon&quot;);</span>
<span class="line-modified">507         cssNameMap.put(SANDYBROWN,           &quot;sandybrown&quot;);</span>
<span class="line-modified">508         cssNameMap.put(SEAGREEN,             &quot;seagreen&quot;);</span>
<span class="line-modified">509         cssNameMap.put(SEASHELL,             &quot;seashell&quot;);</span>
<span class="line-modified">510         cssNameMap.put(SIENNA,               &quot;sienna&quot;);</span>
<span class="line-modified">511         cssNameMap.put(SILVER,               &quot;silver&quot;);</span>
<span class="line-modified">512         cssNameMap.put(SKYBLUE,              &quot;skyblue&quot;);</span>
<span class="line-modified">513         cssNameMap.put(SLATEBLUE,            &quot;slateblue&quot;);</span>
<span class="line-modified">514         cssNameMap.put(SLATEGRAY,            &quot;slategray&quot;);</span>
<span class="line-modified">515         cssNameMap.put(SNOW,                 &quot;snow&quot;);</span>
<span class="line-modified">516         cssNameMap.put(SPRINGGREEN,          &quot;springgreen&quot;);</span>
<span class="line-modified">517         cssNameMap.put(STEELBLUE,            &quot;steelblue&quot;);</span>
<span class="line-modified">518         cssNameMap.put(TAN,                  &quot;tan&quot;);</span>
<span class="line-modified">519         cssNameMap.put(TEAL,                 &quot;teal&quot;);</span>
<span class="line-modified">520         cssNameMap.put(THISTLE,              &quot;thistle&quot;);</span>
<span class="line-modified">521         cssNameMap.put(TOMATO,               &quot;tomato&quot;);</span>
<span class="line-modified">522         cssNameMap.put(TRANSPARENT,          &quot;transparent&quot;);</span>
<span class="line-modified">523         cssNameMap.put(TURQUOISE,            &quot;turquoise&quot;);</span>
<span class="line-modified">524         cssNameMap.put(VIOLET,               &quot;violet&quot;);</span>
<span class="line-modified">525         cssNameMap.put(WHEAT,                &quot;wheat&quot;);</span>
<span class="line-modified">526         cssNameMap.put(WHITE,                &quot;white&quot;);</span>
<span class="line-modified">527         cssNameMap.put(WHITESMOKE,           &quot;whitesmoke&quot;);</span>
<span class="line-modified">528         cssNameMap.put(YELLOW,               &quot;yellow&quot;);</span>
<span class="line-removed">529         cssNameMap.put(YELLOWGREEN,          &quot;yellowgreen&quot;);</span>
<span class="line-removed">530     }</span>
531 
532     static String colorDisplayName(Color c) {
533         if (c != null) {
<span class="line-modified">534             String displayName = colorNameMap.get(c);</span>
535             if (displayName == null) {
536                 displayName = Utils.formatHexString(c);
537             }
538             return displayName;
539         } else {
540             return null;
541         }
542     }
543 
544     static String tooltipString(Color c) {
545         if (c != null) {
546             String tooltipStr = &quot;&quot;;
<span class="line-modified">547             String displayName = colorNameMap.get(c);</span>
548             if (displayName != null) {
549                 tooltipStr += displayName + &quot; &quot;;
550             }
551 
552             tooltipStr += Utils.formatHexString(c);
553 
<span class="line-modified">554             String cssName = cssNameMap.get(c);</span>
555             if (cssName != null) {
556                 tooltipStr += &quot; (css: &quot; + cssName + &quot;)&quot;;
557             }
558             return tooltipStr;
559         } else {
560             return null;
561         }
562     }
563 
564     private void updateColor() {
565         final ColorPicker colorPicker = (ColorPicker)getSkinnable();
566         colorRect.setFill(colorPicker.getValue());
567         if (colorLabelVisible.get()) {
568             displayNode.setText(colorDisplayName(colorPicker.getValue()));
569         } else {
570             displayNode.setText(&quot;&quot;);
571         }
572     }
573 
574 
</pre>
</td>
<td>
<hr />
<pre>
 37 
 38 import javafx.css.converter.BooleanConverter;
 39 
 40 import java.util.ArrayList;
 41 import java.util.Collections;
 42 import java.util.List;
 43 
 44 import javafx.css.StyleableDoubleProperty;
 45 import javafx.css.StyleableStringProperty;
 46 import javafx.geometry.Pos;
 47 import javafx.scene.Node;
 48 import javafx.scene.control.Control;
 49 import javafx.scene.image.ImageView;
 50 import javafx.scene.layout.StackPane;
 51 import javafx.scene.shape.Rectangle;
 52 
 53 import javafx.css.converter.SizeConverter;
 54 import javafx.css.converter.StringConverter;
 55 import com.sun.javafx.scene.control.behavior.ColorPickerBehavior;
 56 

 57 import java.util.Map;
 58 
 59 import javafx.scene.control.ColorPicker;
 60 import javafx.scene.control.TextField;
 61 import javafx.beans.property.BooleanProperty;
 62 import javafx.beans.value.WritableValue;
 63 import javafx.css.Styleable;
 64 import javafx.css.StyleableProperty;
 65 import javafx.scene.control.Label;
 66 import javafx.scene.paint.Color;
 67 
 68 import static javafx.scene.paint.Color.*;
 69 
 70 /**
 71  * Default skin implementation for the {@link ColorPicker} control.
 72  *
 73  * @see ColorPicker
 74  * @since 9
 75  */
 76 public class ColorPickerSkin extends ComboBoxPopupControl&lt;Color&gt; {
</pre>
<hr />
<pre>
263      * Public API                                                              *
264      *                                                                         *
265      **************************************************************************/
266 
267     /** {@inheritDoc} */
268     @Override public void dispose() {
269         super.dispose();
270 
271         if (behavior != null) {
272             behavior.dispose();
273         }
274     }
275 
276     /** {@inheritDoc} */
277     @Override protected double computePrefWidth(double height, double topInset, double rightInset, double bottomInset, double leftInset) {
278         if (!colorLabelVisible.get()) {
279             return super.computePrefWidth(height, topInset, rightInset, bottomInset, leftInset);
280         }
281         String displayNodeText = displayNode.getText();
282         double width = 0;
<span class="line-modified">283         for (String name : COLOR_NAME_MAP.values()) {</span>
284             displayNode.setText(name);
285             width = Math.max(width, super.computePrefWidth(height, topInset, rightInset, bottomInset, leftInset));
286         }
287         displayNode.setText(Utils.formatHexString(Color.BLACK)); // #000000
288         width = Math.max(width, super.computePrefWidth(height, topInset, rightInset, bottomInset, leftInset));
289         displayNode.setText(displayNodeText);
290         return width;
291     }
292 
293     /** {@inheritDoc} */
294     @Override protected Node getPopupContent() {
295         if (popupContent == null) {
296 //            popupContent = new ColorPalette(colorPicker.getValue(), colorPicker);
297             popupContent = new ColorPalette((ColorPicker)getSkinnable());
298             popupContent.setPopupControl(getPopup());
299         }
300         return popupContent;
301     }
302 
303     /** {@inheritDoc} */
</pre>
<hr />
<pre>
329 
330     /** {@inheritDoc} */
331     @Override void focusLost() {
332         // do nothing
333     }
334 
335     /** {@inheritDoc} */
336     @Override ComboBoxBaseBehavior getBehavior() {
337         return behavior;
338     }
339 
340     private void updateComboBoxMode() {
341         List&lt;String&gt; styleClass = getSkinnable().getStyleClass();
342         if (styleClass.contains(ColorPicker.STYLE_CLASS_BUTTON)) {
343             setMode(ComboBoxMode.BUTTON);
344         } else if (styleClass.contains(ColorPicker.STYLE_CLASS_SPLIT_BUTTON)) {
345             setMode(ComboBoxMode.SPLITBUTTON);
346         }
347     }
348 
<span class="line-modified">349     // Translatable display names for the most common colors</span>
<span class="line-modified">350     private static final Map&lt;Color, String&gt; COLOR_NAME_MAP = Map.ofEntries(</span>
<span class="line-modified">351         Map.entry(TRANSPARENT, Properties.getColorPickerString(&quot;colorName.transparent&quot;)),</span>
<span class="line-modified">352         Map.entry(BLACK,       Properties.getColorPickerString(&quot;colorName.black&quot;)),</span>
<span class="line-modified">353         Map.entry(BLUE,        Properties.getColorPickerString(&quot;colorName.blue&quot;)),</span>
<span class="line-modified">354         Map.entry(CYAN,        Properties.getColorPickerString(&quot;colorName.cyan&quot;)),</span>
<span class="line-modified">355         Map.entry(DARKBLUE,    Properties.getColorPickerString(&quot;colorName.darkblue&quot;)),</span>
<span class="line-modified">356         Map.entry(DARKCYAN,    Properties.getColorPickerString(&quot;colorName.darkcyan&quot;)),</span>
<span class="line-modified">357         Map.entry(DARKGRAY,    Properties.getColorPickerString(&quot;colorName.darkgray&quot;)),</span>
<span class="line-modified">358         Map.entry(DARKGREEN,   Properties.getColorPickerString(&quot;colorName.darkgreen&quot;)),</span>
<span class="line-modified">359         Map.entry(DARKMAGENTA, Properties.getColorPickerString(&quot;colorName.darkmagenta&quot;)),</span>
<span class="line-modified">360         Map.entry(DARKRED,     Properties.getColorPickerString(&quot;colorName.darkred&quot;)),</span>
<span class="line-modified">361         Map.entry(GRAY,        Properties.getColorPickerString(&quot;colorName.gray&quot;)),</span>
<span class="line-modified">362         Map.entry(GREEN,       Properties.getColorPickerString(&quot;colorName.green&quot;)),</span>
<span class="line-modified">363         Map.entry(LIGHTBLUE,   Properties.getColorPickerString(&quot;colorName.lightblue&quot;)),</span>
<span class="line-modified">364         Map.entry(LIGHTCYAN,   Properties.getColorPickerString(&quot;colorName.lightcyan&quot;)),</span>
<span class="line-modified">365         Map.entry(LIGHTGRAY,   Properties.getColorPickerString(&quot;colorName.lightgray&quot;)),</span>
<span class="line-modified">366         Map.entry(LIGHTGREEN,  Properties.getColorPickerString(&quot;colorName.lightgreen&quot;)),</span>
<span class="line-modified">367         Map.entry(LIGHTYELLOW, Properties.getColorPickerString(&quot;colorName.lightyellow&quot;)),</span>
<span class="line-modified">368         Map.entry(LIME,        Properties.getColorPickerString(&quot;colorName.lime&quot;)),</span>
<span class="line-modified">369         Map.entry(MAGENTA,     Properties.getColorPickerString(&quot;colorName.magenta&quot;)),</span>
<span class="line-modified">370         Map.entry(MAROON,      Properties.getColorPickerString(&quot;colorName.maroon&quot;)),</span>
<span class="line-modified">371         Map.entry(MEDIUMBLUE,  Properties.getColorPickerString(&quot;colorName.mediumblue&quot;)),</span>
<span class="line-modified">372         Map.entry(NAVY,        Properties.getColorPickerString(&quot;colorName.navy&quot;)),</span>
<span class="line-modified">373         Map.entry(OLIVE,       Properties.getColorPickerString(&quot;colorName.olive&quot;)),</span>
<span class="line-modified">374         Map.entry(ORANGE,      Properties.getColorPickerString(&quot;colorName.orange&quot;)),</span>
<span class="line-modified">375         Map.entry(PINK,        Properties.getColorPickerString(&quot;colorName.pink&quot;)),</span>
<span class="line-modified">376         Map.entry(PURPLE,      Properties.getColorPickerString(&quot;colorName.purple&quot;)),</span>
<span class="line-modified">377         Map.entry(RED,         Properties.getColorPickerString(&quot;colorName.red&quot;)),</span>
<span class="line-modified">378         Map.entry(TEAL,        Properties.getColorPickerString(&quot;colorName.teal&quot;)),</span>
<span class="line-modified">379         Map.entry(WHITE,       Properties.getColorPickerString(&quot;colorName.white&quot;)),</span>
<span class="line-modified">380         Map.entry(YELLOW,      Properties.getColorPickerString(&quot;colorName.yellow&quot;)));</span>
<span class="line-modified">381 </span>
<span class="line-modified">382     // CSS names.</span>
<span class="line-modified">383     // Note that synonyms (such as &quot;grey&quot;) have been removed here,</span>
<span class="line-modified">384     // since a color can be presented with only one name in this</span>
<span class="line-modified">385     // skin. If a reverse map is created for parsing names in the</span>
<span class="line-modified">386     // future, then the synonyms should be included there. For a</span>
<span class="line-modified">387     // full list of CSS names, see Color.java.</span>
<span class="line-modified">388     private static final Map&lt;Color, String&gt; CSS_NAME_MAP = Map.ofEntries(</span>
<span class="line-modified">389         Map.entry(ALICEBLUE,            &quot;aliceblue&quot;),</span>
<span class="line-modified">390         Map.entry(ANTIQUEWHITE,         &quot;antiquewhite&quot;),</span>
<span class="line-modified">391         Map.entry(AQUAMARINE,           &quot;aquamarine&quot;),</span>
<span class="line-modified">392         Map.entry(AZURE,                &quot;azure&quot;),</span>
<span class="line-modified">393         Map.entry(BEIGE,                &quot;beige&quot;),</span>
<span class="line-modified">394         Map.entry(BISQUE,               &quot;bisque&quot;),</span>
<span class="line-modified">395         Map.entry(BLACK,                &quot;black&quot;),</span>
<span class="line-modified">396         Map.entry(BLANCHEDALMOND,       &quot;blanchedalmond&quot;),</span>
<span class="line-modified">397         Map.entry(BLUE,                 &quot;blue&quot;),</span>
<span class="line-modified">398         Map.entry(BLUEVIOLET,           &quot;blueviolet&quot;),</span>
<span class="line-modified">399         Map.entry(BROWN,                &quot;brown&quot;),</span>
<span class="line-modified">400         Map.entry(BURLYWOOD,            &quot;burlywood&quot;),</span>
<span class="line-modified">401         Map.entry(CADETBLUE,            &quot;cadetblue&quot;),</span>
<span class="line-modified">402         Map.entry(CHARTREUSE,           &quot;chartreuse&quot;),</span>
<span class="line-modified">403         Map.entry(CHOCOLATE,            &quot;chocolate&quot;),</span>
<span class="line-modified">404         Map.entry(CORAL,                &quot;coral&quot;),</span>
<span class="line-modified">405         Map.entry(CORNFLOWERBLUE,       &quot;cornflowerblue&quot;),</span>
<span class="line-modified">406         Map.entry(CORNSILK,             &quot;cornsilk&quot;),</span>
<span class="line-modified">407         Map.entry(CRIMSON,              &quot;crimson&quot;),</span>
<span class="line-modified">408         Map.entry(CYAN,                 &quot;cyan&quot;),</span>
<span class="line-modified">409         Map.entry(DARKBLUE,             &quot;darkblue&quot;),</span>
<span class="line-modified">410         Map.entry(DARKCYAN,             &quot;darkcyan&quot;),</span>
<span class="line-modified">411         Map.entry(DARKGOLDENROD,        &quot;darkgoldenrod&quot;),</span>
<span class="line-modified">412         Map.entry(DARKGRAY,             &quot;darkgray&quot;),</span>
<span class="line-modified">413         Map.entry(DARKGREEN,            &quot;darkgreen&quot;),</span>
<span class="line-modified">414         Map.entry(DARKKHAKI,            &quot;darkkhaki&quot;),</span>
<span class="line-modified">415         Map.entry(DARKMAGENTA,          &quot;darkmagenta&quot;),</span>
<span class="line-modified">416         Map.entry(DARKOLIVEGREEN,       &quot;darkolivegreen&quot;),</span>
<span class="line-modified">417         Map.entry(DARKORANGE,           &quot;darkorange&quot;),</span>
<span class="line-modified">418         Map.entry(DARKORCHID,           &quot;darkorchid&quot;),</span>
<span class="line-modified">419         Map.entry(DARKRED,              &quot;darkred&quot;),</span>
<span class="line-modified">420         Map.entry(DARKSALMON,           &quot;darksalmon&quot;),</span>
<span class="line-modified">421         Map.entry(DARKSEAGREEN,         &quot;darkseagreen&quot;),</span>
<span class="line-modified">422         Map.entry(DARKSLATEBLUE,        &quot;darkslateblue&quot;),</span>
<span class="line-modified">423         Map.entry(DARKSLATEGRAY,        &quot;darkslategray&quot;),</span>
<span class="line-modified">424         Map.entry(DARKTURQUOISE,        &quot;darkturquoise&quot;),</span>
<span class="line-modified">425         Map.entry(DARKVIOLET,           &quot;darkviolet&quot;),</span>
<span class="line-modified">426         Map.entry(DEEPPINK,             &quot;deeppink&quot;),</span>
<span class="line-modified">427         Map.entry(DEEPSKYBLUE,          &quot;deepskyblue&quot;),</span>
<span class="line-modified">428         Map.entry(DIMGRAY,              &quot;dimgray&quot;),</span>
<span class="line-modified">429         Map.entry(DODGERBLUE,           &quot;dodgerblue&quot;),</span>
<span class="line-modified">430         Map.entry(FIREBRICK,            &quot;firebrick&quot;),</span>
<span class="line-modified">431         Map.entry(FLORALWHITE,          &quot;floralwhite&quot;),</span>
<span class="line-modified">432         Map.entry(FORESTGREEN,          &quot;forestgreen&quot;),</span>
<span class="line-modified">433         Map.entry(GAINSBORO,            &quot;gainsboro&quot;),</span>
<span class="line-modified">434         Map.entry(GHOSTWHITE,           &quot;ghostwhite&quot;),</span>
<span class="line-modified">435         Map.entry(GOLD,                 &quot;gold&quot;),</span>
<span class="line-modified">436         Map.entry(GOLDENROD,            &quot;goldenrod&quot;),</span>
<span class="line-modified">437         Map.entry(GRAY,                 &quot;gray&quot;),</span>
<span class="line-modified">438         Map.entry(GREEN,                &quot;green&quot;),</span>
<span class="line-modified">439         Map.entry(GREENYELLOW,          &quot;greenyellow&quot;),</span>
<span class="line-modified">440         Map.entry(HONEYDEW,             &quot;honeydew&quot;),</span>
<span class="line-modified">441         Map.entry(HOTPINK,              &quot;hotpink&quot;),</span>
<span class="line-modified">442         Map.entry(INDIANRED,            &quot;indianred&quot;),</span>
<span class="line-modified">443         Map.entry(INDIGO,               &quot;indigo&quot;),</span>
<span class="line-modified">444         Map.entry(IVORY,                &quot;ivory&quot;),</span>
<span class="line-modified">445         Map.entry(KHAKI,                &quot;khaki&quot;),</span>
<span class="line-modified">446         Map.entry(LAVENDER,             &quot;lavender&quot;),</span>
<span class="line-modified">447         Map.entry(LAVENDERBLUSH,        &quot;lavenderblush&quot;),</span>
<span class="line-modified">448         Map.entry(LAWNGREEN,            &quot;lawngreen&quot;),</span>
<span class="line-modified">449         Map.entry(LEMONCHIFFON,         &quot;lemonchiffon&quot;),</span>
<span class="line-modified">450         Map.entry(LIGHTBLUE,            &quot;lightblue&quot;),</span>
<span class="line-modified">451         Map.entry(LIGHTCORAL,           &quot;lightcoral&quot;),</span>
<span class="line-modified">452         Map.entry(LIGHTCYAN,            &quot;lightcyan&quot;),</span>
<span class="line-modified">453         Map.entry(LIGHTGOLDENRODYELLOW, &quot;lightgoldenrodyellow&quot;),</span>
<span class="line-modified">454         Map.entry(LIGHTGRAY,            &quot;lightgray&quot;),</span>
<span class="line-modified">455         Map.entry(LIGHTGREEN,           &quot;lightgreen&quot;),</span>
<span class="line-modified">456         Map.entry(LIGHTPINK,            &quot;lightpink&quot;),</span>
<span class="line-modified">457         Map.entry(LIGHTSALMON,          &quot;lightsalmon&quot;),</span>
<span class="line-modified">458         Map.entry(LIGHTSEAGREEN,        &quot;lightseagreen&quot;),</span>
<span class="line-modified">459         Map.entry(LIGHTSKYBLUE,         &quot;lightskyblue&quot;),</span>
<span class="line-modified">460         Map.entry(LIGHTSLATEGRAY,       &quot;lightslategray&quot;),</span>
<span class="line-modified">461         Map.entry(LIGHTSTEELBLUE,       &quot;lightsteelblue&quot;),</span>
<span class="line-modified">462         Map.entry(LIGHTYELLOW,          &quot;lightyellow&quot;),</span>
<span class="line-modified">463         Map.entry(LIME,                 &quot;lime&quot;),</span>
<span class="line-modified">464         Map.entry(LIMEGREEN,            &quot;limegreen&quot;),</span>
<span class="line-modified">465         Map.entry(LINEN,                &quot;linen&quot;),</span>
<span class="line-modified">466         Map.entry(MAGENTA,              &quot;magenta&quot;),</span>
<span class="line-modified">467         Map.entry(MAROON,               &quot;maroon&quot;),</span>
<span class="line-modified">468         Map.entry(MEDIUMAQUAMARINE,     &quot;mediumaquamarine&quot;),</span>
<span class="line-modified">469         Map.entry(MEDIUMBLUE,           &quot;mediumblue&quot;),</span>
<span class="line-modified">470         Map.entry(MEDIUMORCHID,         &quot;mediumorchid&quot;),</span>
<span class="line-modified">471         Map.entry(MEDIUMPURPLE,         &quot;mediumpurple&quot;),</span>
<span class="line-modified">472         Map.entry(MEDIUMSEAGREEN,       &quot;mediumseagreen&quot;),</span>
<span class="line-modified">473         Map.entry(MEDIUMSLATEBLUE,      &quot;mediumslateblue&quot;),</span>
<span class="line-modified">474         Map.entry(MEDIUMSPRINGGREEN,    &quot;mediumspringgreen&quot;),</span>
<span class="line-modified">475         Map.entry(MEDIUMTURQUOISE,      &quot;mediumturquoise&quot;),</span>
<span class="line-modified">476         Map.entry(MEDIUMVIOLETRED,      &quot;mediumvioletred&quot;),</span>
<span class="line-modified">477         Map.entry(MIDNIGHTBLUE,         &quot;midnightblue&quot;),</span>
<span class="line-modified">478         Map.entry(MINTCREAM,            &quot;mintcream&quot;),</span>
<span class="line-modified">479         Map.entry(MISTYROSE,            &quot;mistyrose&quot;),</span>
<span class="line-modified">480         Map.entry(MOCCASIN,             &quot;moccasin&quot;),</span>
<span class="line-modified">481         Map.entry(NAVAJOWHITE,          &quot;navajowhite&quot;),</span>
<span class="line-modified">482         Map.entry(NAVY,                 &quot;navy&quot;),</span>
<span class="line-modified">483         Map.entry(OLDLACE,              &quot;oldlace&quot;),</span>
<span class="line-modified">484         Map.entry(OLIVE,                &quot;olive&quot;),</span>
<span class="line-modified">485         Map.entry(OLIVEDRAB,            &quot;olivedrab&quot;),</span>
<span class="line-modified">486         Map.entry(ORANGE,               &quot;orange&quot;),</span>
<span class="line-modified">487         Map.entry(ORANGERED,            &quot;orangered&quot;),</span>
<span class="line-modified">488         Map.entry(ORCHID,               &quot;orchid&quot;),</span>
<span class="line-modified">489         Map.entry(PALEGOLDENROD,        &quot;palegoldenrod&quot;),</span>
<span class="line-modified">490         Map.entry(PALEGREEN,            &quot;palegreen&quot;),</span>
<span class="line-modified">491         Map.entry(PALETURQUOISE,        &quot;paleturquoise&quot;),</span>
<span class="line-modified">492         Map.entry(PALEVIOLETRED,        &quot;palevioletred&quot;),</span>
<span class="line-modified">493         Map.entry(PAPAYAWHIP,           &quot;papayawhip&quot;),</span>
<span class="line-modified">494         Map.entry(PEACHPUFF,            &quot;peachpuff&quot;),</span>
<span class="line-modified">495         Map.entry(PERU,                 &quot;peru&quot;),</span>
<span class="line-modified">496         Map.entry(PINK,                 &quot;pink&quot;),</span>
<span class="line-modified">497         Map.entry(PLUM,                 &quot;plum&quot;),</span>
<span class="line-modified">498         Map.entry(POWDERBLUE,           &quot;powderblue&quot;),</span>
<span class="line-modified">499         Map.entry(PURPLE,               &quot;purple&quot;),</span>
<span class="line-modified">500         Map.entry(RED,                  &quot;red&quot;),</span>
<span class="line-modified">501         Map.entry(ROSYBROWN,            &quot;rosybrown&quot;),</span>
<span class="line-modified">502         Map.entry(ROYALBLUE,            &quot;royalblue&quot;),</span>
<span class="line-modified">503         Map.entry(SADDLEBROWN,          &quot;saddlebrown&quot;),</span>
<span class="line-modified">504         Map.entry(SALMON,               &quot;salmon&quot;),</span>
<span class="line-modified">505         Map.entry(SANDYBROWN,           &quot;sandybrown&quot;),</span>
<span class="line-modified">506         Map.entry(SEAGREEN,             &quot;seagreen&quot;),</span>
<span class="line-modified">507         Map.entry(SEASHELL,             &quot;seashell&quot;),</span>
<span class="line-modified">508         Map.entry(SIENNA,               &quot;sienna&quot;),</span>
<span class="line-modified">509         Map.entry(SILVER,               &quot;silver&quot;),</span>
<span class="line-modified">510         Map.entry(SKYBLUE,              &quot;skyblue&quot;),</span>
<span class="line-modified">511         Map.entry(SLATEBLUE,            &quot;slateblue&quot;),</span>
<span class="line-modified">512         Map.entry(SLATEGRAY,            &quot;slategray&quot;),</span>
<span class="line-modified">513         Map.entry(SNOW,                 &quot;snow&quot;),</span>
<span class="line-modified">514         Map.entry(SPRINGGREEN,          &quot;springgreen&quot;),</span>
<span class="line-modified">515         Map.entry(STEELBLUE,            &quot;steelblue&quot;),</span>
<span class="line-modified">516         Map.entry(TAN,                  &quot;tan&quot;),</span>
<span class="line-modified">517         Map.entry(TEAL,                 &quot;teal&quot;),</span>
<span class="line-modified">518         Map.entry(THISTLE,              &quot;thistle&quot;),</span>
<span class="line-modified">519         Map.entry(TOMATO,               &quot;tomato&quot;),</span>
<span class="line-modified">520         Map.entry(TRANSPARENT,          &quot;transparent&quot;),</span>
<span class="line-modified">521         Map.entry(TURQUOISE,            &quot;turquoise&quot;),</span>
<span class="line-modified">522         Map.entry(VIOLET,               &quot;violet&quot;),</span>
<span class="line-modified">523         Map.entry(WHEAT,                &quot;wheat&quot;),</span>
<span class="line-modified">524         Map.entry(WHITE,                &quot;white&quot;),</span>
<span class="line-modified">525         Map.entry(WHITESMOKE,           &quot;whitesmoke&quot;),</span>
<span class="line-modified">526         Map.entry(YELLOW,               &quot;yellow&quot;),</span>
<span class="line-modified">527         Map.entry(YELLOWGREEN,          &quot;yellowgreen&quot;));</span>


528 
529     static String colorDisplayName(Color c) {
530         if (c != null) {
<span class="line-modified">531             String displayName = COLOR_NAME_MAP.get(c);</span>
532             if (displayName == null) {
533                 displayName = Utils.formatHexString(c);
534             }
535             return displayName;
536         } else {
537             return null;
538         }
539     }
540 
541     static String tooltipString(Color c) {
542         if (c != null) {
543             String tooltipStr = &quot;&quot;;
<span class="line-modified">544             String displayName = COLOR_NAME_MAP.get(c);</span>
545             if (displayName != null) {
546                 tooltipStr += displayName + &quot; &quot;;
547             }
548 
549             tooltipStr += Utils.formatHexString(c);
550 
<span class="line-modified">551             String cssName = CSS_NAME_MAP.get(c);</span>
552             if (cssName != null) {
553                 tooltipStr += &quot; (css: &quot; + cssName + &quot;)&quot;;
554             }
555             return tooltipStr;
556         } else {
557             return null;
558         }
559     }
560 
561     private void updateColor() {
562         final ColorPicker colorPicker = (ColorPicker)getSkinnable();
563         colorRect.setFill(colorPicker.getValue());
564         if (colorLabelVisible.get()) {
565             displayNode.setText(colorDisplayName(colorPicker.getValue()));
566         } else {
567             displayNode.setText(&quot;&quot;);
568         }
569     }
570 
571 
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../javafx.fxml/src/main/java/com/sun/javafx/fxml/builder/ProxyBuilder.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>