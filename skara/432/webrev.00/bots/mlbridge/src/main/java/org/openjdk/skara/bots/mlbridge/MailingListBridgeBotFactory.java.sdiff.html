<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/MailingListBridgeBotFactory.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/MailingListBridgeBotFactory.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 94                                           .repo(configuration.repository(repo))
 95                                           .archive(archiveRepo)
 96                                           .archiveRef(archiveRef)
 97                                           .censusRepo(censusRepo)
 98                                           .censusRef(censusRef)
 99                                           .list(list)
100                                           .ignoredUsers(ignoredUsers)
101                                           .ignoredComments(ignoredComments)
102                                           .listArchive(listArchive)
103                                           .smtpServer(listSmtp)
104                                           .webrevStorageRepository(webrevRepo)
105                                           .webrevStorageRef(webrevRef)
106                                           .webrevStorageBase(Path.of(folder))
107                                           .webrevStorageBaseUri(URIBuilder.base(webrevWeb).build())
108                                           .readyLabels(readyLabels)
109                                           .readyComments(readyComments)
110                                           .issueTracker(issueTracker)
111                                           .headers(headers)
112                                           .sendInterval(interval)
113                                           .cooldown(cooldown)

114                                           .build();
115             ret.add(bot);
116 
117             allListNames.add(list);
118             allRepositories.add(configuration.repository(repo));
119         }
120 
121         var mailmanServer = MailingListServerFactory.createMailmanServer(listArchive, listSmtp, Duration.ZERO);
122         var allLists = allListNames.stream()
123                                    .map(name -&gt; mailmanServer.getList(name.toString()))
124                                    .collect(Collectors.toSet());
125 
126         var bot = new MailingListArchiveReaderBot(from, allLists, allRepositories);
127         ret.add(bot);
128 
129         return ret;
130     }
131 }
</pre>
</td>
<td>
<hr />
<pre>
 94                                           .repo(configuration.repository(repo))
 95                                           .archive(archiveRepo)
 96                                           .archiveRef(archiveRef)
 97                                           .censusRepo(censusRepo)
 98                                           .censusRef(censusRef)
 99                                           .list(list)
100                                           .ignoredUsers(ignoredUsers)
101                                           .ignoredComments(ignoredComments)
102                                           .listArchive(listArchive)
103                                           .smtpServer(listSmtp)
104                                           .webrevStorageRepository(webrevRepo)
105                                           .webrevStorageRef(webrevRef)
106                                           .webrevStorageBase(Path.of(folder))
107                                           .webrevStorageBaseUri(URIBuilder.base(webrevWeb).build())
108                                           .readyLabels(readyLabels)
109                                           .readyComments(readyComments)
110                                           .issueTracker(issueTracker)
111                                           .headers(headers)
112                                           .sendInterval(interval)
113                                           .cooldown(cooldown)
<span class="line-added">114                                           .seedStorage(configuration.storageFolder().resolve(&quot;seeds&quot;))</span>
115                                           .build();
116             ret.add(bot);
117 
118             allListNames.add(list);
119             allRepositories.add(configuration.repository(repo));
120         }
121 
122         var mailmanServer = MailingListServerFactory.createMailmanServer(listArchive, listSmtp, Duration.ZERO);
123         var allLists = allListNames.stream()
124                                    .map(name -&gt; mailmanServer.getList(name.toString()))
125                                    .collect(Collectors.toSet());
126 
127         var bot = new MailingListArchiveReaderBot(from, allLists, allRepositories);
128         ret.add(bot);
129 
130         return ret;
131     }
132 }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>