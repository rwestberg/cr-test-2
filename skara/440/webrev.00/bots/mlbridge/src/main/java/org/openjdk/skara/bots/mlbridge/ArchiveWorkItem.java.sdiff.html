<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveWorkItem.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="MailingListBridgeBot.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveWorkItem.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
185         var contributor = censusInstance.namespace().get(originalAuthor.id());
186         if (contributor == null) {
187             return &quot;no known OpenJDK username&quot;;
188         } else if (censusInstance.project().isLead(contributor.username(), version)) {
189             return &quot;Lead&quot;;
190         } else if (censusInstance.project().isReviewer(contributor.username(), version)) {
191             return &quot;Reviewer&quot;;
192         } else if (censusInstance.project().isCommitter(contributor.username(), version)) {
193             return &quot;Committer&quot;;
194         } else if (censusInstance.project().isAuthor(contributor.username(), version)) {
195             return &quot;Author&quot;;
196         }
197         return &quot;no project role&quot;;
198     }
199 
200     private String subjectPrefix() {
201         var ret = new StringBuilder();
202         var branchName = pr.targetRef();
203         var repoName = Path.of(pr.repository().name()).getFileName().toString();
204         var useBranchInSubject = bot.branchInSubject().matcher(branchName).matches();
<span class="line-modified">205         var useRepoInSubject = bot.repoInSubject().matcher(repoName).matches();</span>
206 
207         if (useBranchInSubject || useRepoInSubject) {
208             ret.append(&quot;[&quot;);
209             if (useRepoInSubject) {
210                 ret.append(repoName);
211                 if (useBranchInSubject) {
212                     ret.append(&quot;:&quot;);
213                 }
214             }
215             if (useBranchInSubject) {
216                 ret.append(branchName);
217             }
218             ret.append(&quot;] &quot;);
219         }
220         return ret.toString();
221     }
222 
223     @Override
224     public void run(Path scratchPath) {
225         var path = scratchPath.resolve(&quot;mlbridge&quot;);
</pre>
</td>
<td>
<hr />
<pre>
185         var contributor = censusInstance.namespace().get(originalAuthor.id());
186         if (contributor == null) {
187             return &quot;no known OpenJDK username&quot;;
188         } else if (censusInstance.project().isLead(contributor.username(), version)) {
189             return &quot;Lead&quot;;
190         } else if (censusInstance.project().isReviewer(contributor.username(), version)) {
191             return &quot;Reviewer&quot;;
192         } else if (censusInstance.project().isCommitter(contributor.username(), version)) {
193             return &quot;Committer&quot;;
194         } else if (censusInstance.project().isAuthor(contributor.username(), version)) {
195             return &quot;Author&quot;;
196         }
197         return &quot;no project role&quot;;
198     }
199 
200     private String subjectPrefix() {
201         var ret = new StringBuilder();
202         var branchName = pr.targetRef();
203         var repoName = Path.of(pr.repository().name()).getFileName().toString();
204         var useBranchInSubject = bot.branchInSubject().matcher(branchName).matches();
<span class="line-modified">205         var useRepoInSubject = bot.repoInSubject();</span>
206 
207         if (useBranchInSubject || useRepoInSubject) {
208             ret.append(&quot;[&quot;);
209             if (useRepoInSubject) {
210                 ret.append(repoName);
211                 if (useBranchInSubject) {
212                     ret.append(&quot;:&quot;);
213                 }
214             }
215             if (useBranchInSubject) {
216                 ret.append(branchName);
217             }
218             ret.append(&quot;] &quot;);
219         }
220         return ret.toString();
221     }
222 
223     @Override
224     public void run(Path scratchPath) {
225         var path = scratchPath.resolve(&quot;mlbridge&quot;);
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="MailingListBridgeBot.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>