<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/notify/src/main/java/org/openjdk/skara/bots/notify/NotifyBotFactory.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MailingListUpdaterBuilder.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../test/java/org/openjdk/skara/bots/notify/UpdaterTests.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>bots/notify/src/main/java/org/openjdk/skara/bots/notify/NotifyBotFactory.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
128                         }
129                         mailingListUpdaterBuilder.mode(mode);
130                     }
131                     if (mailinglist.contains(&quot;headers&quot;)) {
132                         mailingListUpdaterBuilder.headers(mailinglist.get(&quot;headers&quot;).fields().stream()
133                                                                      .collect(Collectors.toMap(JSONObject.Field::name,
134                                                                                                field -&gt; field.value().asString())));
135                     }
136                     if (mailinglist.contains(&quot;branchnames&quot;)) {
137                         mailingListUpdaterBuilder.includeBranch(mailinglist.get(&quot;branchnames&quot;).asBoolean());
138                     }
139                     if (mailinglist.contains(&quot;tags&quot;)) {
140                         mailingListUpdaterBuilder.reportNewTags(mailinglist.get(&quot;tags&quot;).asBoolean());
141                     }
142                     if (mailinglist.contains(&quot;branches&quot;)) {
143                         mailingListUpdaterBuilder.reportNewBranches(mailinglist.get(&quot;branches&quot;).asBoolean());
144                     }
145                     if (mailinglist.contains(&quot;builds&quot;)) {
146                         mailingListUpdaterBuilder.reportNewBuilds(mailinglist.get(&quot;builds&quot;).asBoolean());
147                     }







148                     updaters.add(mailingListUpdaterBuilder.build());
149                 }
150             }
151             if (repo.value().contains(&quot;issues&quot;)) {
152                 var issuesConf = repo.value().get(&quot;issues&quot;);
153                 var issueProject = configuration.issueProject(issuesConf.get(&quot;project&quot;).asString());
154                 var issueUpdaterBuilder = IssueUpdater.newBuilder()
155                                                       .issueProject(issueProject);
156 
157                 if (issuesConf.contains(&quot;reviewlink&quot;)) {
158                     issueUpdaterBuilder.reviewLink(issuesConf.get(&quot;reviewlink&quot;).asBoolean());
159                 }
160                 if (issuesConf.contains(&quot;commitlink&quot;)) {
161                     issueUpdaterBuilder.commitLink(issuesConf.get(&quot;commitlink&quot;).asBoolean());
162                 }
163                 if (issuesConf.contains(&quot;fixversions&quot;)) {
164                     issueUpdaterBuilder.setFixVersion(true);
165                     issueUpdaterBuilder.fixVersions(issuesConf.get(&quot;fixversions&quot;).fields().stream()
166                                                               .collect(Collectors.toMap(JSONObject.Field::name,
167                                                                                         f -&gt; f.value().asString())));
</pre>
</td>
<td>
<hr />
<pre>
128                         }
129                         mailingListUpdaterBuilder.mode(mode);
130                     }
131                     if (mailinglist.contains(&quot;headers&quot;)) {
132                         mailingListUpdaterBuilder.headers(mailinglist.get(&quot;headers&quot;).fields().stream()
133                                                                      .collect(Collectors.toMap(JSONObject.Field::name,
134                                                                                                field -&gt; field.value().asString())));
135                     }
136                     if (mailinglist.contains(&quot;branchnames&quot;)) {
137                         mailingListUpdaterBuilder.includeBranch(mailinglist.get(&quot;branchnames&quot;).asBoolean());
138                     }
139                     if (mailinglist.contains(&quot;tags&quot;)) {
140                         mailingListUpdaterBuilder.reportNewTags(mailinglist.get(&quot;tags&quot;).asBoolean());
141                     }
142                     if (mailinglist.contains(&quot;branches&quot;)) {
143                         mailingListUpdaterBuilder.reportNewBranches(mailinglist.get(&quot;branches&quot;).asBoolean());
144                     }
145                     if (mailinglist.contains(&quot;builds&quot;)) {
146                         mailingListUpdaterBuilder.reportNewBuilds(mailinglist.get(&quot;builds&quot;).asBoolean());
147                     }
<span class="line-added">148                     if (mailinglist.contains(&quot;reponame&quot;)) {</span>
<span class="line-added">149                         mailingListUpdaterBuilder.repoInSubject(mailinglist.get(&quot;reponame&quot;).asBoolean());</span>
<span class="line-added">150                     }</span>
<span class="line-added">151                     if (mailinglist.contains(&quot;branchname&quot;)) {</span>
<span class="line-added">152                         mailingListUpdaterBuilder.branchInSubject(Pattern.compile(mailinglist.get(&quot;branchname&quot;).asString()));</span>
<span class="line-added">153                     }</span>
<span class="line-added">154 </span>
155                     updaters.add(mailingListUpdaterBuilder.build());
156                 }
157             }
158             if (repo.value().contains(&quot;issues&quot;)) {
159                 var issuesConf = repo.value().get(&quot;issues&quot;);
160                 var issueProject = configuration.issueProject(issuesConf.get(&quot;project&quot;).asString());
161                 var issueUpdaterBuilder = IssueUpdater.newBuilder()
162                                                       .issueProject(issueProject);
163 
164                 if (issuesConf.contains(&quot;reviewlink&quot;)) {
165                     issueUpdaterBuilder.reviewLink(issuesConf.get(&quot;reviewlink&quot;).asBoolean());
166                 }
167                 if (issuesConf.contains(&quot;commitlink&quot;)) {
168                     issueUpdaterBuilder.commitLink(issuesConf.get(&quot;commitlink&quot;).asBoolean());
169                 }
170                 if (issuesConf.contains(&quot;fixversions&quot;)) {
171                     issueUpdaterBuilder.setFixVersion(true);
172                     issueUpdaterBuilder.fixVersions(issuesConf.get(&quot;fixversions&quot;).fields().stream()
173                                                               .collect(Collectors.toMap(JSONObject.Field::name,
174                                                                                         f -&gt; f.value().asString())));
</pre>
</td>
</tr>
</table>
<center><a href="MailingListUpdaterBuilder.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../test/java/org/openjdk/skara/bots/notify/UpdaterTests.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>