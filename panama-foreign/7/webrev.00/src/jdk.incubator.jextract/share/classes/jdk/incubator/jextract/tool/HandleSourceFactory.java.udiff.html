<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.incubator.jextract/share/classes/jdk/incubator/jextract/tool/HandleSourceFactory.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> <a href="JavaSourceBuilder.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.jextract/share/classes/jdk/incubator/jextract/tool/HandleSourceFactory.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -58,25 +58,23 @@</span>
  
      private final Set&lt;String&gt; constants = new HashSet&lt;&gt;();
      protected final JavaSourceBuilder builder = new JavaSourceBuilder();
      protected final TypeTranslator typeTranslator = new TypeTranslator();
      private final List&lt;String&gt; libraryNames;
<span class="udiff-line-removed">-     private final List&lt;String&gt; libraryPaths;</span>
      private final String clsName;
      private final String pkgName;
  
<span class="udiff-line-modified-removed">-     static JavaFileObject[] generateRaw(Declaration.Scoped decl, String clsName, String pkgName, List&lt;String&gt; libraryNames, List&lt;String&gt; libraryPaths) {</span>
<span class="udiff-line-modified-removed">-         return new HandleSourceFactory(clsName, pkgName, libraryNames, libraryPaths).generate(decl);</span>
<span class="udiff-line-modified-added">+     static JavaFileObject[] generateRaw(Declaration.Scoped decl, String clsName, String pkgName, List&lt;String&gt; libraryNames) {</span>
<span class="udiff-line-modified-added">+         return new HandleSourceFactory(clsName, pkgName, libraryNames).generate(decl);</span>
      }
  
<span class="udiff-line-modified-removed">-     static JavaFileObject[] generateWrapped(Declaration.Scoped decl, String clsName, String pkgName, List&lt;String&gt; libraryNames, List&lt;String&gt; libraryPaths) {</span>
<span class="udiff-line-modified-removed">-         return new StaticWrapperSourceFactory(clsName, pkgName, libraryNames, libraryPaths).generate(decl);</span>
<span class="udiff-line-modified-added">+     static JavaFileObject[] generateWrapped(Declaration.Scoped decl, String clsName, String pkgName, List&lt;String&gt; libraryNames) {</span>
<span class="udiff-line-modified-added">+         return new StaticWrapperSourceFactory(clsName, pkgName, libraryNames).generate(decl);</span>
      }
  
<span class="udiff-line-modified-removed">-     public HandleSourceFactory(String clsName, String pkgName, List&lt;String&gt; libraryNames, List&lt;String&gt; libraryPaths) {</span>
<span class="udiff-line-modified-added">+     public HandleSourceFactory(String clsName, String pkgName, List&lt;String&gt; libraryNames) {</span>
          this.libraryNames = libraryNames;
<span class="udiff-line-removed">-         this.libraryPaths = libraryPaths;</span>
          this.clsName = clsName;
          this.pkgName = pkgName;
      }
  
      private static String getCLangConstantsHolder() {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -97,12 +95,11 @@</span>
      private static final String C_LANG_CONSTANTS_HOLDER = getCLangConstantsHolder();
  
      public JavaFileObject[] generate(Declaration.Scoped decl) {
          builder.addPackagePrefix(pkgName);
          builder.classBegin(clsName);
<span class="udiff-line-modified-removed">-         builder.addLibraries(libraryNames.toArray(new String[0]),</span>
<span class="udiff-line-removed">-                 libraryPaths != null ? libraryPaths.toArray(new String[0]) : null);</span>
<span class="udiff-line-modified-added">+         builder.addLibraries(libraryNames.toArray(new String[0]));</span>
          //generate all decls
          decl.members().forEach(this::generateDecl);
  
          //generate functional interfaces
          generateFunctionalInterfaces(decl);
</pre>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> <a href="JavaSourceBuilder.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>