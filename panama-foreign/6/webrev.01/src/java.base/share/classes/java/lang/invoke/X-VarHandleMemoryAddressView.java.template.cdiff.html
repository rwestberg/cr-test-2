<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/lang/invoke/X-VarHandleMemoryAddressView.java.template</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="X-VarHandleByteArrayView.java.template.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../test/jdk/java/lang/invoke/VarHandles/VarHandleTestMethodTypeBoolean.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/invoke/X-VarHandleMemoryAddressView.java.template</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 91,11 ***</span>
          }
          return address;
      }
      
      @ForceInline
<span class="line-modified">!     static $type$ get0(VarHandleMemoryAddressBase handle, Object obb, long base) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, true);
  #if[floatingPoint]
          $rawType$ rawValue = UNSAFE.get$RawType$Unaligned(
                  bb.unsafeGetBase(),
                  offsetNoVMAlignCheck(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 91,12 ---</span>
          }
          return address;
      }
      
      @ForceInline
<span class="line-modified">!     static $type$ get0(VarHandle ob, Object obb, long base) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, true);
  #if[floatingPoint]
          $rawType$ rawValue = UNSAFE.get$RawType$Unaligned(
                  bb.unsafeGetBase(),
                  offsetNoVMAlignCheck(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 114,11 ***</span>
  #end[byte]
  #end[floatingPoint]
      }
  
      @ForceInline
<span class="line-modified">!     static void set0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
  #if[floatingPoint]
          UNSAFE.put$RawType$Unaligned(
                  bb.unsafeGetBase(),
                  offsetNoVMAlignCheck(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 115,12 ---</span>
  #end[byte]
  #end[floatingPoint]
      }
  
      @ForceInline
<span class="line-modified">!     static void set0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
  #if[floatingPoint]
          UNSAFE.put$RawType$Unaligned(
                  bb.unsafeGetBase(),
                  offsetNoVMAlignCheck(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 139,161 ***</span>
  #end[byte]
  #end[floatingPoint]
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getVolatile0(VarHandleMemoryAddressBase handle, Object obb, long base) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, true);
          return convEndian(handle.be,
                            UNSAFE.get$RawType$Volatile(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask)));
      }
  
      @ForceInline
<span class="line-modified">!     static void setVolatile0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          UNSAFE.put$RawType$Volatile(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAcquire0(VarHandleMemoryAddressBase handle, Object obb, long base) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, true);
          return convEndian(handle.be,
                            UNSAFE.get$RawType$Acquire(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask)));
      }
  
      @ForceInline
<span class="line-modified">!     static void setRelease0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          UNSAFE.put$RawType$Release(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getOpaque0(VarHandleMemoryAddressBase handle, Object obb, long base) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, true);
          return convEndian(handle.be,
                            UNSAFE.get$RawType$Opaque(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask)));
      }
  
      @ForceInline
<span class="line-modified">!     static void setOpaque0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          UNSAFE.put$RawType$Opaque(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, value));
      }
  #if[CAS]
  
      @ForceInline
<span class="line-modified">!     static boolean compareAndSet0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ expected, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.compareAndSet$RawType$(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ compareAndExchange0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ expected, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.compareAndExchange$RawType$(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, expected), convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ compareAndExchangeAcquire0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ expected, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.compareAndExchange$RawType$Acquire(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, expected), convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ compareAndExchangeRelease0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ expected, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.compareAndExchange$RawType$Release(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, expected), convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static boolean weakCompareAndSetPlain0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ expected, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.weakCompareAndSet$RawType$Plain(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static boolean weakCompareAndSet0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ expected, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.weakCompareAndSet$RawType$(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static boolean weakCompareAndSetAcquire0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ expected, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.weakCompareAndSet$RawType$Acquire(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static boolean weakCompareAndSetRelease0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ expected, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.weakCompareAndSet$RawType$Release(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndSet0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.getAndSet$RawType$(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndSetAcquire0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.getAndSet$RawType$Acquire(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndSetRelease0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.getAndSet$RawType$Release(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 141,178 ---</span>
  #end[byte]
  #end[floatingPoint]
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getVolatile0(VarHandle ob, Object obb, long base) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, true);
          return convEndian(handle.be,
                            UNSAFE.get$RawType$Volatile(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask)));
      }
  
      @ForceInline
<span class="line-modified">!     static void setVolatile0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          UNSAFE.put$RawType$Volatile(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAcquire0(VarHandle ob, Object obb, long base) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, true);
          return convEndian(handle.be,
                            UNSAFE.get$RawType$Acquire(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask)));
      }
  
      @ForceInline
<span class="line-modified">!     static void setRelease0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          UNSAFE.put$RawType$Release(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getOpaque0(VarHandle ob, Object obb, long base) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, true);
          return convEndian(handle.be,
                            UNSAFE.get$RawType$Opaque(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask)));
      }
  
      @ForceInline
<span class="line-modified">!     static void setOpaque0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          UNSAFE.put$RawType$Opaque(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, value));
      }
  #if[CAS]
  
      @ForceInline
<span class="line-modified">!     static boolean compareAndSet0(VarHandle ob, Object obb, long base, $type$ expected, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.compareAndSet$RawType$(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ compareAndExchange0(VarHandle ob, Object obb, long base, $type$ expected, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.compareAndExchange$RawType$(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, expected), convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ compareAndExchangeAcquire0(VarHandle ob, Object obb, long base, $type$ expected, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.compareAndExchange$RawType$Acquire(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, expected), convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ compareAndExchangeRelease0(VarHandle ob, Object obb, long base, $type$ expected, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.compareAndExchange$RawType$Release(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, expected), convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static boolean weakCompareAndSetPlain0(VarHandle ob, Object obb, long base, $type$ expected, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.weakCompareAndSet$RawType$Plain(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static boolean weakCompareAndSet0(VarHandle ob, Object obb, long base, $type$ expected, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.weakCompareAndSet$RawType$(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static boolean weakCompareAndSetAcquire0(VarHandle ob, Object obb, long base, $type$ expected, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.weakCompareAndSet$RawType$Acquire(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static boolean weakCompareAndSetRelease0(VarHandle ob, Object obb, long base, $type$ expected, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return UNSAFE.weakCompareAndSet$RawType$Release(
                  bb.unsafeGetBase(),
                  offset(bb, base, handle.alignmentMask),
                  convEndian(handle.be, expected), convEndian(handle.be, value));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndSet0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.getAndSet$RawType$(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndSetAcquire0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.getAndSet$RawType$Acquire(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
                                    convEndian(handle.be, value)));
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndSetRelease0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          return convEndian(handle.be,
                            UNSAFE.getAndSet$RawType$Release(
                                    bb.unsafeGetBase(),
                                    offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 301,11 ***</span>
      }
  #end[CAS]
  #if[AtomicAdd]
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndAdd0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ delta) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndAdd$RawType$(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 320,12 ---</span>
      }
  #end[CAS]
  #if[AtomicAdd]
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndAdd0(VarHandle ob, Object obb, long base, $type$ delta) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndAdd$RawType$(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 314,11 ***</span>
              return getAndAddConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), delta);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndAddAcquire0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ delta) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndAdd$RawType$Acquire(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 334,12 ---</span>
              return getAndAddConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), delta);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndAddAcquire0(VarHandle ob, Object obb, long base, $type$ delta) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndAdd$RawType$Acquire(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 327,11 ***</span>
              return getAndAddConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), delta);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndAddRelease0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ delta) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndAdd$RawType$Release(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 348,12 ---</span>
              return getAndAddConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), delta);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndAddRelease0(VarHandle ob, Object obb, long base, $type$ delta) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndAdd$RawType$Release(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 354,11 ***</span>
      }
  #end[AtomicAdd]
  #if[Bitwise]
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseOr0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseOr$RawType$(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 376,12 ---</span>
      }
  #end[AtomicAdd]
  #if[Bitwise]
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseOr0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseOr$RawType$(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 367,11 ***</span>
              return getAndBitwiseOrConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseOrRelease0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseOr$RawType$Release(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 390,12 ---</span>
              return getAndBitwiseOrConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseOrRelease0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseOr$RawType$Release(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 380,11 ***</span>
              return getAndBitwiseOrConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseOrAcquire0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseOr$RawType$Acquire(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 404,12 ---</span>
              return getAndBitwiseOrConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseOrAcquire0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseOr$RawType$Acquire(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 405,11 ***</span>
                  nativeExpectedValue, $RawBoxType$.reverseBytes(expectedValue | value)));
          return expectedValue;
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseAnd0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseAnd$RawType$(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 430,12 ---</span>
                  nativeExpectedValue, $RawBoxType$.reverseBytes(expectedValue | value)));
          return expectedValue;
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseAnd0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseAnd$RawType$(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 418,11 ***</span>
              return getAndBitwiseAndConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseAndRelease0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseAnd$RawType$Release(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 444,12 ---</span>
              return getAndBitwiseAndConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseAndRelease0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseAnd$RawType$Release(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 431,11 ***</span>
              return getAndBitwiseAndConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseAndAcquire0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseAnd$RawType$Acquire(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 458,12 ---</span>
              return getAndBitwiseAndConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseAndAcquire0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseAnd$RawType$Acquire(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 457,11 ***</span>
          return expectedValue;
      }
  
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseXor0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseXor$RawType$(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 485,12 ---</span>
          return expectedValue;
      }
  
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseXor0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseXor$RawType$(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 470,11 ***</span>
              return getAndBitwiseXorConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseXorRelease0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseXor$RawType$Release(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 499,12 ---</span>
              return getAndBitwiseXorConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseXorRelease0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseXor$RawType$Release(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 483,11 ***</span>
              return getAndBitwiseXorConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseXorAcquire0(VarHandleMemoryAddressBase handle, Object obb, long base, $type$ value) {</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseXor$RawType$Acquire(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
<span class="line-new-header">--- 513,12 ---</span>
              return getAndBitwiseXorConvEndianWithCAS(bb, offset(bb, base, handle.alignmentMask), value);
          }
      }
  
      @ForceInline
<span class="line-modified">!     static $type$ getAndBitwiseXorAcquire0(VarHandle ob, Object obb, long base, $type$ value) {</span>
<span class="line-added">+         VarHandleMemoryAddressBase handle = (VarHandleMemoryAddressBase)ob;</span>
          MemoryAddressProxy bb = checkAddress(obb, base, handle.length, false);
          if (handle.be == BE) {
              return UNSAFE.getAndBitwiseXor$RawType$Acquire(
                      bb.unsafeGetBase(),
                      offset(bb, base, handle.alignmentMask),
</pre>
<center><a href="X-VarHandleByteArrayView.java.template.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../test/jdk/java/lang/invoke/VarHandles/VarHandleTestMethodTypeBoolean.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>