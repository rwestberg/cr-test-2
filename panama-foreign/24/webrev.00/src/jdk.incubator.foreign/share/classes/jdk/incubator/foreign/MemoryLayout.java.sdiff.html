<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/MemoryLayout.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="AbstractLayout.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MemoryLayouts.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.incubator.foreign/share/classes/jdk/incubator/foreign/MemoryLayout.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
209     /**
210      * Computes the layout size, in bytes.
211      *
212      * @return the layout size, in bytes.
213      * @throws UnsupportedOperationException if the layout is, or contains, a sequence layout with unspecified size (see {@link SequenceLayout}),
214      * or if {@code bitSize()} is not a multiple of 8.
215      */
216     default long byteSize() {
217         return Utils.bitsToBytesOrThrow(bitSize(),
218                 () -&gt; new UnsupportedOperationException(&quot;Cannot compute byte size; bit size is not a multiple of 8&quot;));
219     }
220 
221     /**
222      * Return the &lt;em&gt;name&lt;/em&gt; (if any) associated with this layout.
223      *
224      * @return the layout &lt;em&gt;name&lt;/em&gt; (if any).
225      * @see MemoryLayout#withName(String)
226      */
227     Optional&lt;String&gt; name();
228 







229     /**
230      * Creates a new layout which features the desired layout &lt;em&gt;name&lt;/em&gt;.
231      *
232      * @param name the layout name.
233      * @return a new layout which is the same as this layout, except for the &lt;em&gt;name&lt;/em&gt; associated to it.
234      * @see MemoryLayout#name()
235      */
236     MemoryLayout withName(String name);
237 
238     /**
239      * Returns the alignment constraint associated with this layout, expressed in bits. Layout alignment defines a power
240      * of two {@code A} which is the bit-wise alignment of the layout. If {@code A &lt;= 8} then {@code A/8} is the number of
241      * bytes that must be aligned for any pointer that correctly points to this layout. Thus:
242      *
243      * &lt;ul&gt;
244      * &lt;li&gt;{@code A=8} means unaligned (in the usual sense), which is common in packets.&lt;/li&gt;
245      * &lt;li&gt;{@code A=64} means word aligned (on LP64), {@code A=32} int aligned, {@code A=16} short aligned, etc.&lt;/li&gt;
246      * &lt;li&gt;{@code A=512} is the most strict alignment required by the x86/SV ABI (for AVX-512 data).&lt;/li&gt;
247      * &lt;/ul&gt;
248      *
</pre>
</td>
<td>
<hr />
<pre>
209     /**
210      * Computes the layout size, in bytes.
211      *
212      * @return the layout size, in bytes.
213      * @throws UnsupportedOperationException if the layout is, or contains, a sequence layout with unspecified size (see {@link SequenceLayout}),
214      * or if {@code bitSize()} is not a multiple of 8.
215      */
216     default long byteSize() {
217         return Utils.bitsToBytesOrThrow(bitSize(),
218                 () -&gt; new UnsupportedOperationException(&quot;Cannot compute byte size; bit size is not a multiple of 8&quot;));
219     }
220 
221     /**
222      * Return the &lt;em&gt;name&lt;/em&gt; (if any) associated with this layout.
223      *
224      * @return the layout &lt;em&gt;name&lt;/em&gt; (if any).
225      * @see MemoryLayout#withName(String)
226      */
227     Optional&lt;String&gt; name();
228 
<span class="line-added">229     /**</span>
<span class="line-added">230      * Return the ABI &lt;em&gt;type&lt;/em&gt; (if any) associated with this layout.</span>
<span class="line-added">231      *</span>
<span class="line-added">232      * @return the layout ABI &lt;em&gt;type&lt;/em&gt; (if any).</span>
<span class="line-added">233      */</span>
<span class="line-added">234     Optional&lt;SystemABI.Type&gt; abiType();</span>
<span class="line-added">235 </span>
236     /**
237      * Creates a new layout which features the desired layout &lt;em&gt;name&lt;/em&gt;.
238      *
239      * @param name the layout name.
240      * @return a new layout which is the same as this layout, except for the &lt;em&gt;name&lt;/em&gt; associated to it.
241      * @see MemoryLayout#name()
242      */
243     MemoryLayout withName(String name);
244 
245     /**
246      * Returns the alignment constraint associated with this layout, expressed in bits. Layout alignment defines a power
247      * of two {@code A} which is the bit-wise alignment of the layout. If {@code A &lt;= 8} then {@code A/8} is the number of
248      * bytes that must be aligned for any pointer that correctly points to this layout. Thus:
249      *
250      * &lt;ul&gt;
251      * &lt;li&gt;{@code A=8} means unaligned (in the usual sense), which is common in packets.&lt;/li&gt;
252      * &lt;li&gt;{@code A=64} means word aligned (on LP64), {@code A=32} int aligned, {@code A=16} short aligned, etc.&lt;/li&gt;
253      * &lt;li&gt;{@code A=512} is the most strict alignment required by the x86/SV ABI (for AVX-512 data).&lt;/li&gt;
254      * &lt;/ul&gt;
255      *
</pre>
</td>
</tr>
</table>
<center><a href="AbstractLayout.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="MemoryLayouts.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>