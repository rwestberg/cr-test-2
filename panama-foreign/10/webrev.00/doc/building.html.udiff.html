<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff doc/building.html</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center><a href="../.hgtags.udiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="building.md.udiff.html" target="_top">next &gt;</a></center>    <h2>doc/building.html</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -299,11 +299,11 @@</span>
  &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;p&gt;All compilers are expected to be able to compile to the C99 language standard, as some C99 features are used in the source code. Microsoft Visual Studio doesn&#39;t fully support C99 so in practice shared code is limited to using C99 features that it does support.&lt;/p&gt;
  &lt;h3 id=&quot;gcc&quot;&gt;gcc&lt;/h3&gt;
<span class="udiff-line-modified-removed">- &lt;p&gt;The minimum accepted version of gcc is 4.8. Older versions will generate a warning by &lt;code&gt;configure&lt;/code&gt; and are unlikely to work.&lt;/p&gt;</span>
<span class="udiff-line-modified-added">+ &lt;p&gt;The minimum accepted version of gcc is 5.0. Older versions will generate a warning by &lt;code&gt;configure&lt;/code&gt; and are unlikely to work.&lt;/p&gt;</span>
  &lt;p&gt;The JDK is currently known to be able to compile with at least version 8.3 of gcc.&lt;/p&gt;
  &lt;p&gt;In general, any version between these two should be usable.&lt;/p&gt;
  &lt;h3 id=&quot;clang&quot;&gt;clang&lt;/h3&gt;
  &lt;p&gt;The minimum accepted version of clang is 3.2. Older versions will not be accepted by &lt;code&gt;configure&lt;/code&gt;.&lt;/p&gt;
  &lt;p&gt;To use clang instead of gcc on Linux, use &lt;code&gt;--with-toolchain-type=clang&lt;/code&gt;.&lt;/p&gt;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -637,15 +637,10 @@</span>
  &lt;p&gt;You &lt;em&gt;must&lt;/em&gt; specify the target platform when cross-compiling. Doing so will also automatically turn the build into a cross-compiling mode. The simplest way to do this is to use the &lt;code&gt;--openjdk-target&lt;/code&gt; argument, e.g. &lt;code&gt;--openjdk-target=arm-linux-gnueabihf&lt;/code&gt;. or &lt;code&gt;--openjdk-target=aarch64-oe-linux&lt;/code&gt;. This will automatically set the &lt;code&gt;--build&lt;/code&gt;, &lt;code&gt;--host&lt;/code&gt; and &lt;code&gt;--target&lt;/code&gt; options for autoconf, which can otherwise be confusing. (In autoconf terminology, the &amp;quot;target&amp;quot; is known as &amp;quot;host&amp;quot;, and &amp;quot;target&amp;quot; is used for building a Canadian cross-compiler.)&lt;/p&gt;
  &lt;h3 id=&quot;toolchain-considerations&quot;&gt;Toolchain Considerations&lt;/h3&gt;
  &lt;p&gt;You will need two copies of your toolchain, one which generates output that can run on the target system (the normal, or &lt;em&gt;target&lt;/em&gt;, toolchain), and one that generates output that can run on the build system (the &lt;em&gt;build&lt;/em&gt; toolchain). Note that cross-compiling is only supported for gcc at the time being. The gcc standard is to prefix cross-compiling toolchains with the target denominator. If you follow this standard, &lt;code&gt;configure&lt;/code&gt; is likely to pick up the toolchain correctly.&lt;/p&gt;
  &lt;p&gt;The &lt;em&gt;build&lt;/em&gt; toolchain will be autodetected just the same way the normal &lt;em&gt;build&lt;/em&gt;/&lt;em&gt;target&lt;/em&gt; toolchain will be autodetected when not cross-compiling. If this is not what you want, or if the autodetection fails, you can specify a devkit containing the &lt;em&gt;build&lt;/em&gt; toolchain using &lt;code&gt;--with-build-devkit&lt;/code&gt; to &lt;code&gt;configure&lt;/code&gt;, or by giving &lt;code&gt;BUILD_CC&lt;/code&gt; and &lt;code&gt;BUILD_CXX&lt;/code&gt; arguments.&lt;/p&gt;
  &lt;p&gt;It is often helpful to locate the cross-compilation tools, headers and libraries in a separate directory, outside the normal path, and point out that directory to &lt;code&gt;configure&lt;/code&gt;. Do this by setting the sysroot (&lt;code&gt;--with-sysroot&lt;/code&gt;) and appending the directory when searching for cross-compilations tools (&lt;code&gt;--with-toolchain-path&lt;/code&gt;). As a compact form, you can also use &lt;code&gt;--with-devkit&lt;/code&gt; to point to a single directory, if it is correctly setup. (See &lt;code&gt;basics.m4&lt;/code&gt; for details.)&lt;/p&gt;
<span class="udiff-line-removed">- &lt;p&gt;If you are unsure what toolchain and versions to use, these have been proved working at the time of writing:&lt;/p&gt;</span>
<span class="udiff-line-removed">- &lt;ul&gt;</span>
<span class="udiff-line-removed">- &lt;li&gt;&lt;a href=&quot;https://releases.linaro.org/archive/13.11/components/toolchain/binaries/gcc-linaro-aarch64-linux-gnu-4.8-2013.11_linux.tar.xz&quot;&gt;aarch64&lt;/a&gt;&lt;/li&gt;</span>
<span class="udiff-line-removed">- &lt;li&gt;&lt;a href=&quot;https://launchpad.net/linaro-toolchain-unsupported/trunk/2012.09/+download/gcc-linaro-arm-linux-gnueabihf-raspbian-2012.09-20120921_linux.tar.bz2&quot;&gt;arm 32-bit hardware floating point&lt;/a&gt;&lt;/li&gt;</span>
<span class="udiff-line-removed">- &lt;/ul&gt;</span>
  &lt;h3 id=&quot;native-libraries&quot;&gt;Native Libraries&lt;/h3&gt;
  &lt;p&gt;You will need copies of external native libraries for the &lt;em&gt;target&lt;/em&gt; system, present on the &lt;em&gt;build&lt;/em&gt; machine while building.&lt;/p&gt;
  &lt;p&gt;Take care not to replace the &lt;em&gt;build&lt;/em&gt; system&#39;s version of these libraries by mistake, since that can render the &lt;em&gt;build&lt;/em&gt; machine unusable.&lt;/p&gt;
  &lt;p&gt;Make sure that the libraries you point to (ALSA, X11, etc) are for the &lt;em&gt;target&lt;/em&gt;, not the &lt;em&gt;build&lt;/em&gt;, platform.&lt;/p&gt;
  &lt;h4 id=&quot;alsa-1&quot;&gt;ALSA&lt;/h4&gt;
</pre>
<center><a href="../.hgtags.udiff.html" target="_top">&lt; prev</a> <a href="../index.html" target="_top">index</a> <a href="building.md.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>